define("@ember/test-waiters/build-waiter",["exports","@babel/runtime/helpers/esm/defineProperty","@ember/debug","@ember/test-waiters/token","@ember/test-waiters/waiter-manager"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e._resetWaiterNames=function(){r=new Set}
e.default=function(e){0
return new l(e)
return new s(e)}
let r
function o(){return new i.default}class s{constructor(e,n){(0,t.default)(this,"isRegistered",!1);(0,t.default)(this,"items",new Map);(0,t.default)(this,"completedOperationsForTokens",new WeakMap);(0,t.default)(this,"completedOperationsForPrimitives",new Map)
this.name=e
this.nextToken=n||o}beginAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nextToken(),t=arguments.length>1?arguments[1]:void 0
this._register()
if(this.items.has(e))throw new Error(`beginAsync called for ${e} but it is already pending.`)
let n=new Error
this.items.set(e,{get stack(){return n.stack},label:t})
return e}endAsync(e){if(!this.items.has(e)&&!this._getCompletedOperations(e).has(e))throw new Error("endAsync called with no preceding beginAsync call.")
this.items.delete(e)
this._getCompletedOperations(e).set(e,!0)}waitUntil(){return 0===this.items.size}debugInfo(){let e=[]
this.items.forEach((t=>{e.push(t)}))
return e}reset(){this.items.clear()}_register(){if(!this.isRegistered){(0,a.register)(this)
this.isRegistered=!0}}_getCompletedOperations(e){let t=typeof e
return!("function"===t)&&!(null!==e&&"object"===t)?this.completedOperationsForPrimitives:this.completedOperationsForTokens}}class l{constructor(e){this.name=e}beginAsync(){return this}endAsync(){}waitUntil(){return!0}debugInfo(){return[]}reset(){}}}))
define("@ember/test-waiters/index",["exports","@ember/test-waiters/waiter-manager","@ember/test-waiters/build-waiter","@ember/test-waiters/wait-for-promise","@ember/test-waiters/wait-for"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"_reset",{enumerable:!0,get:function(){return t._reset}})
Object.defineProperty(e,"_resetWaiterNames",{enumerable:!0,get:function(){return n._resetWaiterNames}})
Object.defineProperty(e,"buildWaiter",{enumerable:!0,get:function(){return n.default}})
Object.defineProperty(e,"getPendingWaiterState",{enumerable:!0,get:function(){return t.getPendingWaiterState}})
Object.defineProperty(e,"getWaiters",{enumerable:!0,get:function(){return t.getWaiters}})
Object.defineProperty(e,"hasPendingWaiters",{enumerable:!0,get:function(){return t.hasPendingWaiters}})
Object.defineProperty(e,"register",{enumerable:!0,get:function(){return t.register}})
Object.defineProperty(e,"unregister",{enumerable:!0,get:function(){return t.unregister}})
Object.defineProperty(e,"waitFor",{enumerable:!0,get:function(){return a.default}})
Object.defineProperty(e,"waitForPromise",{enumerable:!0,get:function(){return i.default}})}))
define("@ember/test-waiters/token",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{}}))
define("@ember/test-waiters/types/index",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})}))
define("@ember/test-waiters/wait-for-promise",["exports","@ember/test-waiters/build-waiter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){let n=e
0
return n};(0,t.default)("@ember/test-waiters:promise-waiter")}))
define("@ember/test-waiters/wait-for",["exports","@ember/test-waiters/wait-for-promise","@ember/test-waiters/build-waiter"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
let a=t.length<3
if(a){let[e,n]=t
return i(e,n)}{let[,,e,n]=t
return e}}
function i(e,t){return e}(0,n.default)("@ember/test-waiters:generator-waiter")}))
define("@ember/test-waiters/waiter-manager",["exports","ember","@ember/test"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e._reset=function(){for(let e of a())e.isRegistered=!1
i.clear()}
e.getPendingWaiterState=r
e.getWaiters=a
e.hasPendingWaiters=o
e.register=function(e){i.set(e.name,e)}
e.unregister=function(e){i.delete(e.name)}
const i=new Map
t.default.Test&&(0,n.registerWaiter)((()=>!o()))
function a(){let e=[]
i.forEach((t=>{e.push(t)}))
return e}function r(){let e={pending:0,waiters:{}}
i.forEach((t=>{if(!t.waitUntil()){e.pending++
let n=t.debugInfo()
e.waiters[t.name]=n||!0}}))
return e}function o(){return r().pending>0}}))
define("@glimmer/component/-private/base-component-manager",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component/-private/component"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,n,i){return class{static create(e){return new this(n(e))}constructor(n){(0,t.default)(this,"capabilities",i)
e(this,n)}createComponent(e,t){0
return new e(n(this),t.named)}getContext(e){return e}}}}))
define("@glimmer/component/-private/component",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component/-private/owner","@glimmer/component/-private/destroyables"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=e.ARGS_SET=void 0
let a
e.ARGS_SET=a
0
e.default=class{constructor(e,i){(0,t.default)(this,"args",void 0)
0
this.args=i;(0,n.setOwner)(this,e)}get isDestroying(){return(0,i.isDestroying)(this)}get isDestroyed(){return(0,i.isDestroyed)(this)}willDestroy(){}}}))
define("@glimmer/component/-private/destroyables",["exports","ember"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isDestroying=e.isDestroyed=void 0
const n=t.default._isDestroying
e.isDestroying=n
const i=t.default._isDestroyed
e.isDestroyed=i}))
define("@glimmer/component/-private/ember-component-manager",["exports","ember","@ember/object","@ember/application","@ember/component","@ember/runloop","@glimmer/component/-private/base-component-manager","@glimmer/component/-private/destroyables"],(function(e,t,n,i,a,r,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{setDestroyed:l,setDestroying:c}=s,d=(0,a.capabilities)("3.13",{destructor:!0,asyncLifecycleCallbacks:!1,updateHook:!1}),p=t.default.destroy,u=t.default._registerDestructor
class m extends((0,o.default)(i.setOwner,i.getOwner,d)){createComponent(e,t){const n=super.createComponent(e,t)
u(n,(()=>{n.willDestroy()}))
return n}destroyComponent(e){p(e)}}0
var g=m
e.default=g}))
define("@glimmer/component/-private/owner",["exports","@ember/application"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"setOwner",{enumerable:!0,get:function(){return t.setOwner}})}))
define("@glimmer/component/index",["exports","@ember/component","@glimmer/component/-private/ember-component-manager","@glimmer/component/-private/component"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let a=i.default
0;(0,t.setComponentManager)((e=>new n.default(e)),a)
var r=a
e.default=r}))
define("ad-choice/components/modals/ad-choice-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","@ember/object","global-utils/utils/is-browser","@ember/debug","@ember/service","@glimmer/tracking","ad-choice/utils/constants","global-utils/utils/url"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b,_,y,v,k,w,C,P,T
const O="yes",M="no",D="ad-choice@components/modals/ad-choice-modal"
let S=(m=(0,c.inject)("tracking"),g=(0,c.inject)("store"),h=(0,c.inject)("lix"),f=(0,c.inject)("i18n"),b=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"store",y,this);(0,t.default)(this,"lix",v,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"showLoader",w,this);(0,t.default)(this,"hasError",C,this);(0,t.default)(this,"selectedFacetIdx",P,this);(0,t.default)(this,"feedbackCache",T,this);(0,n.default)(this,"policyLink",`${(0,u.getDomainUrl)()}/help/linkedin/answer/38605`);(0,n.default)(this,"manageAdPreferencesLink",`${(0,u.getDomainUrl)()}/help/linkedin/answer/62931`);(0,n.default)(this,"adChoiceData",null)
this._fetchAdChoiceResponse()}get inOverviewScreen(){return void 0===this.selectedFacetIdx}get showFeedbackSubmittedText(){if(this.inOverviewScreen)return this.feedbackCache[p.OVERVIEW_FEEDBACK_CACHE_KEY]
const e=`${p.DETAIL_FEEDBACK_CACHE_KEY_PREFIX}${this.selectedFacetIdx}`
return this.feedbackCache[e]}get hideFooterContent(){return this.showLoader||this.hasError}get matchedTargetingFacet(){return"number"==typeof this.selectedFacetIdx?(0,o.get)(this.adChoiceData,"matchedTargetingFacets").objectAt(this.selectedFacetIdx):null}get feedbackQuestion(){const e=this.inOverviewScreen?"i18n_ad_choice_modal_relevance_feedback_text":"i18n_ad_choice_modal_feedback_text"
return this.i18n.lookupTranslation(D,e)()}get inlineFeedbackMessage(){const e=this.feedbackCache[p.OVERVIEW_FEEDBACK_CACHE_KEY]===M&&this.inOverviewScreen?"i18n_ad_choice_modal_report_ad_text":"i18n_ad_choice_modal_feedback_submitted_text"
return this.i18n.lookupTranslation(D,e)()}get showReportAdButton(){return this.feedbackCache[p.OVERVIEW_FEEDBACK_CACHE_KEY]===M&&this.inOverviewScreen}_fetchAdChoiceResponse(){(0,o.setProperties)(this,{showLoader:!0,hasError:!1})
this.store.queryURL(`voyagerFeedDashAdServing/${this.args.adServingUrn}`,{params:{recipe:"com.linkedin.voyager.dash.deco.feed.revenue.AdServing"}}).then((e=>{this.isDestroying||(0,o.setProperties)(this,{adChoiceData:e,showLoader:!1})})).catch((e=>{if(!this.isDestroying){(0,o.setProperties)(this,{hasError:!0,showLoader:!1})
throw e}}))}handleFacetTracking(e){const t="number"==typeof e&&e<=4?`ad_choice_facet_${e}`:"ad_choice_facet_other",n=(0,o.get)(this.adChoiceData,"trackingId")
this.tracking.fireInteractionEvent(t,"SHORT_PRESS",n)}_focusAdChoiceModal(){if(s.default){const e=document.querySelector(".ad-choice-modal")
e&&e.focus()}}onMatchedTargetingFacetClick(e){this.handleFacetTracking(e)
this.selectedFacetIdx=e}onBackButtonClicked(){this.selectedFacetIdx=void 0
this._focusAdChoiceModal()}dismissModal(e){this.args.onDismissAdChoice(e)}onFeedBackSubmitted(e){const t=(0,o.get)(this.adChoiceData,"trackingId")
if(this.inOverviewScreen){const n=e?"ad_choice_overview_feedback_yes_button":"ad_choice_overview_feedback_no_button"
this.tracking.fireInteractionEvent(n,"SHORT_PRESS",t)
this.feedbackCache[p.OVERVIEW_FEEDBACK_CACHE_KEY]=e?O:M}else{const n=e?"ad_choice_detail_feedback_yes_button":"ad_choice_detail_feedback_no_button"
this.tracking.fireInteractionEvent(n,"SHORT_PRESS",t)
const i=`${p.DETAIL_FEEDBACK_CACHE_KEY_PREFIX}${this.selectedFacetIdx}`
this.feedbackCache[i]=!0}this.feedbackCache=this.feedbackCache
this._focusAdChoiceModal()}onReportAdClicked(){if(this.inOverviewScreen){const e=(0,o.get)(this.adChoiceData,"trackingId")
this.tracking.fireInteractionEvent("ad_choice_overview_report_ad","SHORT_PRESS",e)
this.dismissModal(!0)}}},_=(0,i.default)(b.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(b.prototype,"store",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"lix",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(b.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"showLoader",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=(0,i.default)(b.prototype,"hasError",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=(0,i.default)(b.prototype,"selectedFacetIdx",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),T=(0,i.default)(b.prototype,"feedbackCache",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,i.default)(b.prototype,"onMatchedTargetingFacetClick",[o.action],Object.getOwnPropertyDescriptor(b.prototype,"onMatchedTargetingFacetClick"),b.prototype),(0,i.default)(b.prototype,"onBackButtonClicked",[o.action],Object.getOwnPropertyDescriptor(b.prototype,"onBackButtonClicked"),b.prototype),(0,i.default)(b.prototype,"dismissModal",[o.action],Object.getOwnPropertyDescriptor(b.prototype,"dismissModal"),b.prototype),(0,i.default)(b.prototype,"onFeedBackSubmitted",[o.action],Object.getOwnPropertyDescriptor(b.prototype,"onFeedBackSubmitted"),b.prototype),(0,i.default)(b.prototype,"onReportAdClicked",[o.action],Object.getOwnPropertyDescriptor(b.prototype,"onReportAdClicked"),b.prototype),b)
e.default=S}))
define("ad-choice/components/modals/ad-choice-modal/overview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","@ember/object","@ember/debug","@ember/service"],(function(e,t,n,i,a,r,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,d,p
let u=(c=(0,l.inject)("lix"),d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"lix",p,this)}get hasNoMatchedFacets(){return 0===(0,o.get)(this.args.adChoiceData,"matchedTargetingFacets").length}onFacetSelected(e){this.args.setSelectedFacet(e)}},p=(0,i.default)(d.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(d.prototype,"onFacetSelected",[o.action],Object.getOwnPropertyDescriptor(d.prototype,"onFacetSelected"),d.prototype),d)
e.default=u}))
define("ad-choice/templates/components/modals/ad-choice-modal",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"89mKffd5",block:'[[[8,[39,0],[[4,[38,2],null,[["pageKey","routeName","currentRoute"],["flagship3_ad_choice",[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]]],[["@modalClasses","@isOpen","@dismissModal","@size"],["ad-choice-modal",[30,1],[28,[37,1],[[30,0,["dismissModal"]],false],null],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h1"],[14,0,"t-sans t-20 t-black t-normal"],[14,1,"ad-choice-modal-header"],[12],[1,"\\n      "],[1,[28,[35,5],["i18n_ad_choice_modal_header","ad-choice/templates/components/modals/ad-choice-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-content"]],[[24,"classNames","ad_choice-modal-content t-black"]],null,[["default"],[[[[1,"\\n"],[41,[30,0,["showLoader"]],[[[1,"      "],[8,[39,7],null,null,null],[1,"\\n"]],[]],[[[41,[30,0,["hasError"]],[[[1,"      "],[8,[39,8],null,[["@policyLink"],[[30,0,["policyLink"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["inOverviewScreen"]],[[[1,"      "],[8,[39,9],null,[["@adChoiceData","@setSelectedFacet","@policyLink","@manageAdPreferencesLink"],[[30,0,["adChoiceData"]],[30,0,["onMatchedTargetingFacetClick"]],[30,0,["policyLink"]],[30,0,["manageAdPreferencesLink"]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,10],null,[["@image","@trackingId","@matchedTargetingFacet"],[[30,0,["adChoiceData","advertiserImage"]],[30,0,["adChoiceData","trackingId"]],[30,0,["matchedTargetingFacet"]]]],null],[1,"\\n    "]],[]]]],[]]]],[]]],[1,"  "]],[]]]]],[1,"\\n"],[41,[51,[30,0,["hideFooterContent"]]],[[[1,"    "],[10,0],[14,0,"ad-choice-modal__feedback-actions"],[12],[1,"\\n"],[41,[30,0,["showFeedbackSubmittedText"]],[[[1,"        "],[8,[39,12],null,[["@type","@message","@ariaRole","@class"],["note",[30,0,["inlineFeedbackMessage"]],"alert","ad-choice-modal__feedback-text"]],null],[1,"\\n"],[41,[30,0,["showReportAdButton"]],[[[1,"          "],[10,0],[14,0,"ad-choice-modal__feedback-buttons"],[12],[1,"\\n            "],[8,[39,13],[[4,[38,14],["click",[30,0,["onReportAdClicked"]]],null]],[["@type","@color","@size","@text"],["tertiary","muted",2,[28,[37,5],["i18n_ad_choice_modal_feedback_text_yes","ad-choice/templates/components/modals/ad-choice-modal"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"        "],[10,0],[14,0,"t-14 ad-choice-modal__feedback-text"],[12],[1,"\\n          "],[1,[30,0,["feedbackQuestion"]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"ad-choice-modal__feedback-buttons"],[12],[1,"\\n          "],[8,[39,13],[[4,[38,14],["click",[28,[37,1],[[30,0,["onFeedBackSubmitted"]],true],null]],null]],[["@type","@color","@size","@aria-label","@text"],["tertiary","muted",2,[28,[37,5],["i18n_ad_revelance_feedback_button_aria_text_yes","ad-choice/templates/components/modals/ad-choice-modal"],null],[28,[37,5],["i18n_ad_choice_modal_feedback_text_yes","ad-choice/templates/components/modals/ad-choice-modal"],null]]],null],[1,"\\n          "],[8,[39,13],[[4,[38,14],["click",[28,[37,1],[[30,0,["onFeedBackSubmitted"]],false],null]],null]],[["@type","@color","@size","@aria-label","@text","@class"],["tertiary","muted",2,[28,[37,5],["i18n_ad_revelance_feedback_button_aria_text_no","ad-choice/templates/components/modals/ad-choice-modal"],null],[28,[37,5],["i18n_ad_choice_modal_feedback_text_no","ad-choice/templates/components/modals/ad-choice-modal"],null],"ad-choice-modal__feedback-button"]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n"],[41,[51,[30,0,["inOverviewScreen"]]],[[[1,"      "],[8,[30,2,["artdeco-modal-footer"]],[[24,0,"ad-choice-modal__footer display-flex justify-flex-end"]],null,[["default"],[[[[1,"\\n        "],[8,[39,13],[[16,"data-control-id",[30,0,["adChoiceData","trackingId"]]],[4,[38,15],["ad_choice_facet_detail_back_button"],null],[4,[38,14],["click",[30,0,["onBackButtonClicked"]]],null]],[["@type","@color","@size","@text"],["secondary","default",2,[28,[37,5],["i18n_ad_choice_modal_feedback_text_back","ad-choice/templates/components/modals/ad-choice-modal"],null]]],null],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null]],[]],null]],[2]]]]]],["@isOpen","modal"],false,["artdeco-modal@artdeco-modal","fn","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","t","if","ad-choice@modals/ad-choice-modal/loading","ad-choice@modals/ad-choice-modal/error","ad-choice@modals/ad-choice-modal/overview","ad-choice@modals/ad-choice-modal/facet-detail","unless","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","on","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/templates/components/modals/ad-choice-modal/error",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"gBx1tKyB",block:'[[[8,[39,0],[[4,[38,3],null,[["pageKey","routeName","currentRoute"],["flagship3_ad_choice_error_state",[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]]],[["@illustration","@muted","@headline","@message","@class"],["error-server",true,[28,[37,1],["i18n_ad_choice_error_headline","ad-choice/templates/components/modals/ad-choice-modal/error"],null],[28,[37,1],["i18n_ad_choice_error_message","ad-choice/templates/components/modals/ad-choice-modal/error"],[["linkInfo"],[[28,[37,2],null,[["href","target","class"],[[30,1],"_blank","link"]]]]]],"ad-choice-modal-empty-state"]],null]],["@policyLink"],false,["artdeco-empty-state@artdeco-empty-state","t","hash","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal/error.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/templates/components/modals/ad-choice-modal/facet-detail",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"AoMITkWA",block:'[[[11,0],[24,0,"ad-choice-modal-facet"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],["flagship3_ad_choice_detail",[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,0],[14,0,"ad-choice-modal-facet-messaging t-sans t-16 t-black"],[12],[1,"\\n"],[41,[30,1],[[[1,"      "],[8,[39,4],[[24,0,"ad-choice-modal-facet-messaging__logo"]],[["@entitySize","@images"],[4,[30,1]]],null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"ad-choice-modal-facet-messaging__text"],[12],[1,"\\n      "],[11,1],[16,"data-control-id",[30,2]],[4,[38,5],["ad_choice_advertiser_detail"],null],[12],[1,"\\n        "],[8,[39,6],null,[["@tvm"],[[30,3,["detail"]]]],null],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"t-12 ad-choice-modal-facet-messaging__disclaimer"],[12],[1,"\\n        "],[11,1],[16,"data-control-id",[30,2]],[4,[38,5],["ad_choice_facet_disclaimer"],null],[12],[1,"\\n          "],[8,[39,6],null,[["@tvm"],[[30,3,["disclaimer"]]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[41,[30,3,["segmentDetail"]],[[[1,"    "],[10,0],[14,0,"ad-choice-modal-facet-reason t-14 t-black"],[12],[1,"\\n      "],[8,[39,6],null,[["@tvm"],[[30,3,["segmentDetail"]]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,3,["clickActions"]],[[[1,"    "],[10,"ul"],[14,0,"ad-choice-modal-facet-control-actions artdeco-list"],[12],[1,"\\n"],[42,[28,[37,8],[[28,[37,8],[[30,3,["clickActions"]]],null]],null],null,[[[1,"        "],[10,"li"],[14,0,"artdeco-list__item ad-choice-modal-facet-control-action"],[12],[1,"\\n          "],[11,3],[16,6,[30,4,["targetUrl"]]],[16,"data-control-id",[30,2]],[24,"target","_blank"],[24,"rel","noopener noreferrer"],[4,[38,5],[[30,4,["controlName"]]],null],[12],[1,"\\n            "],[8,[39,6],null,[["@tvm"],[[30,4,["title"]]]],null],[1,"\\n            "],[1,[28,[35,9],null,[["class","type","size"],["ad-choice-modal-facet-control-action__icon","link-external","small"]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[4,5]],null],[1,"    "],[13],[1,"\\n"]],[]],null],[13]],["@image","@trackingId","@matchedTargetingFacet","clickAction","idx"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","if","image-view-model@image-view-model","ember-cli-pemberly-tracking@track-interaction","text-view-model@text-view-model-v2","each","-track-array","artdeco-icons-web@li-icon"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal/facet-detail.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/templates/components/modals/ad-choice-modal/loading",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"+x/5ZDQs",block:'[[[10,0],[14,0,"ad-choice-modal-content-loader"],[12],[1,"\\n  "],[8,[39,0],[[24,"size","small"]],null,null],[1,"\\n  "],[10,1],[14,0,"t-sans t-20"],[12],[1,[28,[35,1],["i18n_ad_choice_modal_loader_text","ad-choice/templates/components/modals/ad-choice-modal/loading"],null]],[13],[1,"\\n"],[13]],[],false,["artdeco-loader@artdeco-loader","t"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal/loading.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/templates/components/modals/ad-choice-modal/overview",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"Vdlsl9Z2",block:'[[[11,0],[24,0,"ad-choice-modal-overview-messaging t-sans t-16 t-black"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],["flagship3_ad_choice_overview",[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1,["advertiserImage"]],[[[1,"    "],[8,[39,4],[[24,0,"ad-choice-modal-overview-messaging__logo"]],[["@entitySize","@images"],[4,[30,1,["advertiserImage"]]]],null],[1,"\\n"]],[]],null],[1,"  "],[11,1],[16,"data-control-id",[30,1,["trackingId"]]],[24,0,"ad-choice-modal-overview-messaging__text"],[4,[38,5],["ad_choice_advertiser_overview"],null],[12],[1,"\\n    "],[8,[39,6],null,[["@tvm"],[[30,1,["advertiserDetail"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[10,0],[14,0,"ad-choice-modal-overview-matched-facets"],[12],[1,"\\n"],[41,[30,0,["hasNoMatchedFacets"]],[[[1,"    "],[8,[39,7],[[4,[38,0],null,[["pageKey","routeName","currentRoute"],["flagship3_ad_choice_overview_empty_matched_facets",[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]]],[["@illustration","@message","@headline","@class"],["main-coworkers-5",[28,[37,8],["i18n_ad_choice_empty_state_headline","ad-choice/templates/components/modals/ad-choice-modal/overview"],null],[28,[37,8],["i18n_ad_choice_empty_state_message","ad-choice/templates/components/modals/ad-choice-modal/overview"],[["linkInfo"],[[28,[37,9],null,[["href","target","class"],[[30,2],"_blank","link"]]]]]],"ad-choice-modal-facts-empty-state"]],null],[1,"\\n"]],[]],[[[1,"    "],[10,"h2"],[14,0,"t-sans t-16 t-bold"],[12],[1,"\\n      "],[1,[28,[35,8],["i18n_ad_choice_modal_targeting_facets_header","ad-choice/templates/components/modals/ad-choice-modal/overview"],null]],[1,"\\n    "],[13],[1,"\\n    "],[10,"ul"],[14,0,"ad-choice-modal-overview-matched-facets-list artdeco-list"],[12],[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[30,1,["matchedTargetingFacets"]]],null]],null],null,[[[1,"        "],[11,"li"],[24,0,"artdeco-list__item"],[24,"role","button"],[4,[38,12],["click",[28,[37,13],[[30,0,["onFacetSelected"]],[30,4]],null]],null],[12],[1,"\\n          "],[8,[39,14],null,[["@facet"],[[30,3]]],null],[1,"\\n        "],[13],[1,"\\n"]],[3,4]],null],[1,"    "],[13],[1,"\\n    "],[10,0],[14,0,"t-12"],[12],[1,"\\n      "],[10,1],[14,0,"ad-choice-modal-overview-matched-facets-disclaimer t-12"],[12],[1,"\\n        "],[1,[28,[35,8],["i18n_ad_choice_modal_facets_disclaimer_text_v2","ad-choice/templates/components/modals/ad-choice-modal/overview"],[["reasonsLink","adPreferencesLink"],[[28,[37,9],null,[["href","target","class","data-control-name","data-control-id","data-test-learn-more-reasons","rel"],[[30,2],"_blank","link","ad_choice_targeting_reasons_disclaimer",[30,1,["trackingId"]],"true","noopener noreferrer"]]],[28,[37,9],null,[["href","target","class","data-control-name","data-control-id","data-test-manage-ad-preferences","rel"],[[30,5],"_blank","link","ad_choice_overview_manage_ad_preferences",[30,1,["trackingId"]],"true","noopener noreferrer"]]]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]],[13]],["@adChoiceData","@policyLink","facet","idx","@manageAdPreferencesLink"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","if","image-view-model@image-view-model","ember-cli-pemberly-tracking@track-interaction","text-view-model@text-view-model-v2","artdeco-empty-state@artdeco-empty-state","t","hash","each","-track-array","on","fn","ad-choice@modals/ad-choice-modal/overview/matched-facet"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal/overview.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/templates/components/modals/ad-choice-modal/overview/matched-facet",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"0F/8IV9G",block:'[[[10,"button"],[14,0,"ad-choice-modal-overview-matched-facet t-black--light"],[14,4,"button"],[12],[1,"\\n  "],[8,[39,0],[[24,0,"ad-choice-modal-overview-matched-facet__icon"]],[["@entitySize","@images"],[1,[30,1,["icon"]]]],null],[1,"\\n  "],[10,2],[14,0,"ad-choice-modal-overview-matched-facet__text t-14"],[12],[1,"\\n    "],[8,[39,1],null,[["@tvm"],[[30,1,["overview"]]]],null],[1,"\\n  "],[13],[1,"\\n  "],[1,[28,[35,2],null,[["type","class","size"],["chevron-right-icon","ad-choice-modal-overview-matched-facet__chevron-icon","large"]]]],[1,"\\n"],[13]],["@facet"],false,["image-view-model@image-view-model","text-view-model@text-view-model-v2","artdeco-icons-web@li-icon"]]',moduleName:"ad-choice/templates/components/modals/ad-choice-modal/overview/matched-facet.hbs",isStrictMode:!1})
e.default=n}))
define("ad-choice/utils/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.OVERVIEW_FEEDBACK_CACHE_KEY=e.DETAIL_FEEDBACK_CACHE_KEY_PREFIX=void 0
e.OVERVIEW_FEEDBACK_CACHE_KEY="overview"
e.DETAIL_FEEDBACK_CACHE_KEY_PREFIX="detail_"}))
define("artdeco-loader/components/artdeco-loader",["exports","@ember/component","@ember/object","@ember/debug","@ember/string","artdeco-loader/templates/components/artdeco-loader","artdeco-loader/utils/constants"],(function(e,t,n,i,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=t.default.extend({layout:r.default,classNames:["artdeco-loader"],classNameBindings:["_classSize","_classType"],size:o.SIZES.DEFAULT,type:o.TYPES.STANDARD,_classSize:(0,n.computed)("size",(function(){const e=(0,n.get)(this,"size")
return e!==o.SIZES.DEFAULT?`artdeco-loader--${e}`:""})).readOnly(),_classType:(0,n.computed)("type",(function(){const e=(0,n.get)(this,"type")
return e!==o.TYPES.STANDARD?`artdeco-loader--${e}`:""})).readOnly(),_isValuePresent:(e,t)=>Object.keys(e).map((t=>e[t])).indexOf(t)>-1,init(){this._super(...arguments);(0,n.get)(this,"a11yText")}})
e.default=s}))
define("artdeco-loader/templates/components/artdeco-loader",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"UHoK1OKC",block:'[[[41,[33,1],[[[10,0],[14,0,"a11y-text"],[14,"role","alert"],[14,"data-test-loader-a11y",""],[12],[1,[34,1]],[13]],[]],null],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"],[10,1],[14,0,"artdeco-loader__bars"],[12],[13],[1,"\\n"]],[],false,["if","a11yText"]]',moduleName:"artdeco-loader/templates/components/artdeco-loader.hbs",isStrictMode:!1})
e.default=n}))
define("artdeco-loader/utils/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TYPES=e.SIZES=void 0
e.TYPES={STANDARD:"standard",MUTED:"muted",INVERSE:"inverse"}
e.SIZES={DEFAULT:"default",SMALL:"small",XSMALL:"xsmall"}}))
define("ember-batcher/batcher",["exports","ember-test-waiters"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.mutateDOM=function(e){let t=i.beginAsync()
r.unshift([t,e])
d()}
e.readDOM=function(e){let t=n.beginAsync()
a.unshift([t,e])
d()}
e.visibilityChange=void 0
const n=(0,t.buildWaiter)("ember-batcher: readDOM"),i=(0,t.buildWaiter)("ember-batcher: mutateDOM"),a=[],r=[]
let o=()=>{}
e.visibilityChange=o
let s=!1,l=!1
const c="object"==typeof window&&"function"==typeof window.requestAnimationFrame?e=>{let t=()=>{if(!l){l=!0
e()}}
setTimeout(t,20)
return requestAnimationFrame(t)}:e=>setTimeout(e)
0
function d(){if(!s){s=!0
c((()=>{let e,t
for(e=0,t=a.length;e<t;e++){let[e,t]=a.pop()
t()
n.endAsync(e)}for(e=0,t=r.length;e<t;e++){let[e,t]=r.pop()
t()
i.endAsync(e)}s=!1
l=!1;(r.length>0||a.length>0)&&d()}))}}}))
define("ember-batcher/index",["exports","ember-batcher/batcher"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"mutateDOM",{enumerable:!0,get:function(){return t.mutateDOM}})
Object.defineProperty(e,"readDOM",{enumerable:!0,get:function(){return t.readDOM}})}))
define("ember-cli-pemberly-litms/helpers/tag-manager-test-helper",["exports","qunit"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TagManagerSession=void 0
function n(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LiTMS tracking event"
t.default.config.current.assert.ok(e(),n)}e.TagManagerSession=class{constructor(e){this._tagManagerService=e}assertLiTMSPageView(e,t){return n((()=>this._tagManagerService._getAllFiredEvents().some((n=>n.profileName===t&&n.eventData.pageKey===e))),`LiTMS has correct ${e} PageViewEvent`)}assertLiTMSInteraction(e,t){return n((()=>this._tagManagerService._getAllFiredEvents().some((n=>{return n.profileName===t&&("string"==typeof(i=n.eventData.controlUrn)?i.split("-").pop():"")===e
var i}))),`LiTMS has correct ${e} ControlInteractionEvent`)}reset(){this._tagManagerService._cleanUpAllFiredEvents()}}}))
define("ember-cli-pemberly-litms/services/tag-manager",["exports","@ember/service","ember-cli-pemberly-litms/@linkedin/litms-lib","@ember/application","ember","ember-stdlib/utils/is-browser","@ember/runloop"],(function(e,t,n,i,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=e.TRACKING_SERVICE_EVENT_SOURCE=void 0
const s=[],{Logger:l}=a.default,c="litms-class",d="litms",p=[],u=[]
let m=!1,g=!1,h={},f=new Map
const b="tracking-service-listener"
e.TRACKING_SERVICE_EVENT_SOURCE=b
var _=t.default.extend({tracking:(0,t.inject)("tracking"),trackingListenerAdapter:(0,t.inject)("tracking-adapter-for-tag-manager"),lix:(0,t.inject)("lix"),init(){this._super(...arguments)
if(!g){g=!0
this.get(c)||this.set(c,n.default)
if(!r.default)return
this.set("onTrackingEvent",this._handleTrackingEvent.bind(this))
this._applyConfigurations()
this._registerRouteListener()}},_getGlobalTMSProfile(){if(this._shouldInitializeGlobalTMSProfile())return h.profileName},_registerTrackingListener(){if(!m){m=!0
this.get("trackingListenerAdapter").listen(this.get("onTrackingEvent"))}},_cleanUpTrackingListener(){if(m&&this.get("onTrackingEvent")){m=!1
this.get("trackingListenerAdapter").removeListener(this.get("onTrackingEvent"))}},_handleTrackingEvent(e){this._processTrackingEvent(e)},_registerRouteListener(){const e=(0,i.getOwner)(this).lookup("router:main")
e.on?e.on("didTransition",(()=>{this._cleanUpTrackingListener()
this._useProfileForRoute(e.currentRouteName)
this._processQueuedEvents()})):l.warn("Router appears to be mocked. Tag Manager won't work as expected")},_shouldInitializeGlobalTMSProfile(){return h.profileName&&this._isTagManagementSystemRamped()},_isTagManagementSystemRamped(){return h.lixKeyForRamp&&this.get("lix").getTreatmentIsEnabled(h.lixKeyForRamp)||!h.lixKeyForRamp},_applyConfigurations(){h=(0,i.getOwner)(this).resolveRegistration("config:environment").tagManager||{}
h.whitelist=h.whitelist||{}
h.listenForTrackingEventsWithGlobalProfile=!h.disableTrackingEventsListenerForGlobalProfile},registerProfileForRoutes(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableWhitelisting:h.disableWhitelisting}
s.push({profileName:e,filterFn:t})
f.set(e,n)},_getProfileNameForRoute(e){let t
s.some((n=>{let{profileName:i,filterFn:a}=n
if(a(e)){t=i
return!0}}))
return t},_useProfileForRoute(e){const t=this._getProfileNameForRoute(e)
if(t){this._registerTrackingListener()
this.useProfile(t)
l.debug(`Using profile ${t} for route ${e}`)}else this._useGlobalProfile(e)},_useGlobalProfile(e){const t=this._getGlobalTMSProfile()
if(t){h.listenForTrackingEventsWithGlobalProfile&&this._registerTrackingListener()
this.useProfile(t)
l.debug(`No route based profile for route ${e}. Falling back to global profile ${t}`)}else l.debug("No route based profile for route ${currentRouteName}. No global profile configured. TMS will be disabled for this route.")},useProfile(e){const t=this.get(d)
if(t&&t.profileName===e)return
let i=(0,n.getInstanceForProfile)(e)
const a=f.has(e)?f.get(e).disableWhitelisting:h.disableWhitelisting
if(void 0===i){i=new(this.get(c))({profileName:e,enableWhitelisting:!a,cacheBusterInterval:h.cacheBusterInterval})
this._instantiateContainerTag(i)}this.set(d,i)},_instantiateContainerTag(e){e.initialize().then(this._fireTrackingEvent.bind(this)).catch((()=>{l.warn("Tag manager failed to initialize")}))},_fireTrackingEvent(e){this.get("isDestroyed")||this.get("isDestroying")||void 0!==e&&this.get("tracking").fireTrackingPayload(e.info.name,e.body)},_recordFiredEventForTesting(e,t){a.default.testing&&p.push({profileName:t,eventData:e})},_queueEvent(e,t){e&&t&&u.push({eventData:e,callbackFunction:t})},_processQueuedEvents(){const e=this.get(d)
u.forEach((t=>{e?t.callbackFunction.call(this,t.eventData):l.debug(`No LiTMS instance was available. Dropping event ${JSON.stringify(t.eventData)}`)}))
u.length=0},trackPageView(e){const t=this.get(d)
t?(0,o.later)((()=>{t.trackPageView(e,this._fireTrackingEvent.bind(this))
this._recordFiredEventForTesting(e,t.profileName)})):this._queueEvent(e,this.trackPageView)},trackControlInteraction(e){const t=this.get(d)
if(t){t.trackControlInteraction(e,this._fireTrackingEvent.bind(this))
this._recordFiredEventForTesting(e,t.profileName)}else this._queueEvent(e,this.trackControlInteraction)},_processTrackingEvent(e){const t=e.eventInfo||e.info,n=e.eventBody||e.body
switch(t.eventName){case"PageViewEvent":this.trackPageView({eventSource:b,pageKey:n.requestHeader.pageKey})
break
case"ControlInteractionEvent":this.trackControlInteraction({eventSource:b,controlUrn:n.controlUrn,pageKey:n.requestHeader.pageKey})}},_getAllFiredEvents:()=>p,_cleanUpAllFiredEvents(){p.length=0},willDestroy(){g=!1
this._cleanUpTrackingListener()
s.length=0
this._cleanUpAllFiredEvents()
u.length=0}})
e.default=_}))
define("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager",["exports","@ember/service","@ember/object/evented","ember"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{Logger:a}=i.default,r="tracking"
var o=t.default.extend(n.default,{tracking:(0,t.inject)("tracking"),init(){this._super(...arguments)
const e=this.get("tracking")
this._trackingEventRelayHandler=e=>{this.trigger(r,e)}
if(this._isLegacyTrackingService(e))if(e._listen){e._listen(this._trackingEventRelayHandler)
a.warn("Consider upgrading to ember-cli-pemberly-tracking@2.1.1 or greater. ember-cli-pemberly-litms support for lower versions of ember-cli-pemberly-tracking is deprecated.")}else a.warn("Tracking service appears to be mocked. Tag Manager won't work as expected")
else e.listen(this._trackingEventRelayHandler)},listen(e){this.on(r,this,e)},removeListener(e){this.off(r,this,e)},_isLegacyTrackingService:e=>"function"!=typeof e.listen,willDestroy(){const e=this.get("tracking")
this._isLegacyTrackingService(e)?e._clearListeners&&e._clearListeners():e.off("tracking-event",this,"_trackingEventRelayHandler")}})
e.default=o}))
define("ember-test-waiters/index",["exports","@ember/debug","@ember/test-waiters"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))}))
define("heathrow/components/next-best-action-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/object"],(function(e,t,n,i,a,r,o,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,p,u,m,g
const h=(0,o.createTemplateFactory)({id:"b8UjB359",block:'[[[1,"\\n"],[8,[39,0],[[4,[38,1],null,[["pageKey","routeName","currentRoute"],["flagship3_heathrow_next_best_action_modal",[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]],[4,[38,4],[[30,0,["onDidInsert"]]],null]],[["@isOpen","@setFocusTo","@size","@dismissModal"],[[30,0,["heathrow","isNextBestActionModalOpen"]],".artdeco-modal__dismiss","medium",[30,0,["onDismiss"]]]],[["default"],[[[[1,"\\n  "],[8,[30,1,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"heathrow-modal-header"],[12],[1,"\\n      "],[8,[39,5],null,[["@tvm"],[[30,0,["heathrow","nextBestActionModalData","title"]]]],null],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,1,["artdeco-modal-content"]],null,[["@classNames"],["display-flex align-items-center p5"]],[["default"],[[[[1,"\\n    "],[8,[39,6],[[4,[38,7],["invitee_photo_click"],null]],[["@href"],[[30,0,["heathrow","nextBestActionModalData","entityImage","actionTarget"]]]],[["default"],[[[[1,"\\n      "],[8,[39,8],null,[["@images","@imgWidth","@imgHeight","@entitySize","@imgClasses"],[[30,0,["heathrow","nextBestActionModalData","entityImage"]],72,72,5,"EntityPhoto-circle-5"]],null],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[10,1],[14,0,"text-body-medium ml4"],[12],[1,"\\n      "],[8,[39,5],null,[["@tvm"],[[30,0,["heathrow","nextBestActionModalData","subtitle"]]]],null],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,1,["artdeco-modal-footer"]],null,[["@classNames"],["p4"]],[["default"],[[[[1,"\\n    "],[10,"section"],[14,0,"t-14 t-black--light t-normal flex-row-reverse display-flex"],[12],[1,"\\n      "],[8,[39,9],[[24,0,"ml2"],[16,"aria-label",[28,[37,10],["i18n_continue_btn_a11y_text","heathrow/components/next-best-action-modal"],null]],[4,[38,7],["continue_btn_click"],null]],[["@type","@text","@click"],["primary",[28,[37,10],["i18n_continue_btn","heathrow/components/next-best-action-modal"],null],[30,0,["onDismiss"]]]],null],[1,"\\n      "],[8,[39,11],null,[["@recipientUrns","@onMessagingOpened","@controlUrn","@referringModuleKey"],[[30,0,["inviteeProfile","entityUrn"]],[30,0,["onMessagingOpened"]],"messaging_btn_click","heathrow:next_best_action"]],[["default"],[[[[1,"\\n        "],[8,[39,9],[[16,"aria-label",[28,[37,10],["i18n_message_btn_a11y","heathrow/components/next-best-action-modal"],[["member"],[[28,[37,12],[[30,0,["inviteeProfile"]]],null]]]]]],[["@text","@type","@click"],[[28,[37,10],["i18n_message_btn","heathrow/components/next-best-action-modal"],null],"secondary",[30,2]]],null],[1,"\\n      "]],[2]]]]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[1]]]]]],["modal","openMessaging"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","did-insert","text-view-model@text-view-model-v2","ember-cli-pemberly-tracking@shared/external-link","ember-cli-pemberly-tracking@track-interaction","image-view-model@image-view-model","artdeco-button@artdeco-button","t","message-button@entry-point","global-helpers@name"]]',moduleName:"heathrow/components/next-best-action-modal.hbs",isStrictMode:!1})
let f=(d=(0,l.inject)("heathrow@heathrow"),p=(0,l.inject)("client-sensor-web@client-sensor"),u=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"heathrow",m,this);(0,t.default)(this,"clientSensor",g,this)}get inviteeProfile(){return(0,c.get)(this.heathrow,"nextBestActionModalData.entityImage.attributes.firstObject.miniProfile")}onDismiss(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-dismiss"})
this.heathrow.closeNextBestActionModal()}onDidInsert(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-impression"})}onMessagingOpened(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-open-messaging-modal"})
this.heathrow.closeNextBestActionModal()}},m=(0,i.default)(u.prototype,"heathrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,i.default)(u.prototype,"clientSensor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(u.prototype,"onDismiss",[c.action],Object.getOwnPropertyDescriptor(u.prototype,"onDismiss"),u.prototype),(0,i.default)(u.prototype,"onDidInsert",[c.action],Object.getOwnPropertyDescriptor(u.prototype,"onDidInsert"),u.prototype),(0,i.default)(u.prototype,"onMessagingOpened",[c.action],Object.getOwnPropertyDescriptor(u.prototype,"onMessagingOpened"),u.prototype),u)
e.default=f;(0,r.setComponentTemplate)(h,f)}))
define("heathrow/services/heathrow",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","@ember/service","@ember/object","rsvp","ember-cli-pemberly-tracking/utils/tracking","heathrow/utils/constants","@glimmer/tracking"],(function(e,t,n,i,a,r,o,s,l,c,d,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,m,g,h,f,b,_,y,v,k,w
let C=(u=(0,o.inject)("store"),m=(0,o.inject)("tracking"),g=(0,o.inject)("lego@tracking"),h=(0,o.inject)("global-services@local-storage"),f=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"store",b,this);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"legoTracking",y,this);(0,t.default)(this,"localStorage",v,this);(0,t.default)(this,"isNextBestActionModalOpen",k,this);(0,t.default)(this,"nextBestActionModalData",w,this)}_hasSeenPhoto(){const{localStorage:e}=this
if(e&&e.cacheAvailable){const t=(new Date).getTime(),n=e.getKeyedObject("heathrowPhotoTimestamp",0),i=n&&n.lastSeen
if(i)return Math.abs(t-i)<864e5}return!1}_normalizeEntityName(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/[/.]/).pop().replace("-","").toLowerCase()}_getRouteServed(e,t,n){const i=this._normalizeEntityName(t),a={abiroute:function(e){return"SKIP_SPLASH"===e?d.HEATHROW_ROUTES.ABI_RESULTS_LANDING:d.HEATHROW_ROUTES.ABI_SPLASH},feedroute:d.HEATHROW_ROUTES.FEED,pymkroute:d.HEATHROW_ROUTES.PYMK,profilephotouploadroute:this._hasSeenPhoto()?d.HEATHROW_ROUTES.PYMK:d.HEATHROW_ROUTES.PROFILE_PHOTO_UPLOAD,genericroute:d.HEATHROW_ROUTES.GENERIC_ROUTE,entityactivityfeedroute:d.HEATHROW_ROUTES.ENTITY_ACTIVITY_FEED,default:e.get("fallbackRoute")||d.HEATHROW_ROUTES.PYMK}
return i===d.HEATHROW_NORMAL_NAME_MAP.ABI?a[i](n):a[i]||a.default}_handleSuggestedRouteResponse(e){const t=e.get("elements.firstObject.route"),n=e.get("elements.firstObject.suggestedRoute"),i=e.get("elements.firstObject.confirmationModal"),a=t.get("suggestedRouteUrl"),r=t.get("splashOperation"),{emberEntityName:o,legoTrackingToken:l,$type:c}=(0,s.getProperties)(t,"emberEntityName","legoTrackingToken","$type"),p=this._getRouteServed(t,o||c,r)
this._fireSuggestedRouteActionEvent(this.trackingId,n||p)
l&&this._fireLegoImpressionEvent(l)
return p===d.HEATHROW_ROUTES.GENERIC_ROUTE?{confirmationModal:i,forwardingUrl:a,route:n}:p===d.HEATHROW_ROUTES.COLLEAGUES?{confirmationModal:i,route:p,colleaguesCompanyUrn:e.get("elements.firstObject.route.miniCompany.entityUrn")}:{confirmationModal:i,route:p}}openNextBestActionModal(){this.isNextBestActionModalOpen=!0}closeNextBestActionModal(){this.isNextBestActionModalOpen=!1}organicAbiShouldSkipImport(){if(!r.default)return(0,l.resolve)(!1)
const e=d.HEATHROW_ROUTES.ORGANIC_ABI,t=d.HEATHROW_USER_ACTION_TYPES.USER_NAVIGATION,n=[d.HEATHROW_ROUTES.ABI_RESULTS_LANDING,d.HEATHROW_ROUTES.ABI_SPLASH]
return this.getSuggestedRoute(e,t,n).then((e=>{let{route:t}=e
return d.HEATHROW_ROUTES.ABI_RESULTS_LANDING===t}))}_fireSuggestedRouteRequestEvent(e,t,n){this.tracking.fireTrackingPayload("SuggestedRouteRequestEvent",{trackingId:n,origin:e,userActionType:t})}_fireSuggestedRouteActionEvent(e,t,n){this.tracking.fireTrackingPayload("SuggestedRouteActionEvent",{trackingId:e,routeServed:t,error:n})}_fireLegoImpressionEvent(e){const{legoTracking:t}=this
t.sendLegoImpression(e,t.LEGO_IMPRESSION_VISIBILITY_SHOW)}getSuggestedRoute(e,t,n,i,a){const r=(0,c.generateTrackingId)(),o={origin:e,trackingId:r,userActionType:t,q:"viewerAndAction",platform:"DESKTOP",contextInvitationId:a}
this.trackingId=r
i&&(o.actor=i)
n&&n.length>0&&Object.assign(o,{list:[{key:"supportedRoutes",values:n}]})
this._fireSuggestedRouteRequestEvent(e,t,r)
let s="growth/suggestedRoutes"
const l=Object.keys(o)
for(let e=0;e<l.length;e++){const t=o[l[e]]
s+=`|${"object"==typeof t?JSON.stringify(t):t}`}return this.store.queryURL("growth/suggestedRoutes",{cacheKey:s,params:o,reload:!0}).then((e=>this._handleSuggestedRouteResponse(e)))}},b=(0,i.default)(f.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(f.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(f.prototype,"legoTracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(f.prototype,"localStorage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(f.prototype,"isNextBestActionModalOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,i.default)(f.prototype,"nextBestActionModalData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f)
e.default=C}))
define("heathrow/utils/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.HEATHROW_USER_ACTION_TYPES=e.HEATHROW_ROUTE_MAP_TETRIS=e.HEATHROW_ROUTES=e.HEATHROW_NORMAL_NAME_MAP=void 0
e.HEATHROW_ROUTES={ABI_SPLASH:"ABI_SPLASH",ABI_RESULTS_LANDING:"ABI_RESULTS_LANDING",ORGANIC_ABI:"ORGANIC_ABI",FEED:"FEED",PYMK:"PYMK",SPLASH:"SPLASH",PROFILE_PHOTO_UPLOAD:"PROFILE_PHOTO_UPLOAD",ENTITY_ACTIVITY_FEED:"ENTITY_ACTIVITY_FEED",GENERIC_ROUTE:"GENERIC_ROUTE",GET_THE_APP:"GET_THE_APP",FOLLOW_HUB:"FOLLOW_HUB"}
e.HEATHROW_ROUTE_MAP_TETRIS={ABI_SPLASH:"abi.intro",ABI_RESULTS_LANDING:"abi.results",FEED:"feed.index",PROFILE_PHOTO_UPLOAD:"mynetwork.index",ENTITY_ACTIVITY_FEED:"profile.common.recent-activity",PYMK:"index",GET_THE_APP:"index",FOLLOW_HUB:"feed.follow.confirmation.invite-accept"}
e.HEATHROW_USER_ACTION_TYPES={USER_NAVIGATION:"USER_NAVIGATION",ACCEPT_INVITATION:"ACCEPT_INVITATION",INVITATION_ACCEPTANCE_NOTIFICATION:"INVITATION_ACCEPTANCE_NOTIFICATION",CONNECT:"CONNECT",IGNORE_INVTATION:"IGNORE_INVTATION"}
e.HEATHROW_NORMAL_NAME_MAP={ABI:"abiroute",FEED:"feedroute",PYMK:"pymkroute",PROFILE_PHOTO_UPLOAD:"profilephotouploadroute"}}))
define("msg-facepile-grid/components/conversation-facepile-grid",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/object"],(function(e,t,n,i,a,r,o,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,p,u,m,g
const h=(0,o.createTemplateFactory)({id:"SI+HViqr",block:'[[[41,[30,0,["conversationParticipants"]],[[[1,"  "],[8,[39,1],[[17,1]],[["@participants","@groupChat","@entitySize","@iconSize"],[[30,0,["conversationParticipants"]],[30,2,["groupChat"]],[30,3],[30,4]]],null],[1,"\\n"]],[]],null]],["&attrs","@conversation","@entitySize","@iconSize"],false,["if","msg-facepile-grid@facepile-grid"]]',moduleName:"msg-facepile-grid/components/conversation-facepile-grid.hbs",isStrictMode:!1})
let f=(d=(0,l.inject)("formatter"),p=(0,l.inject)("authentication@authenticated-user"),u=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"formatter",m,this);(0,t.default)(this,"authenticatedUser",g,this)}get conversationParticipants(){const e=(0,c.get)(this,"args.conversation.participants")
if(e&&(0,c.get)(this,"args.conversation.groupChat")&&(0,c.get)(this,"args.conversation.viewerCurrentParticipant")){const t=(0,c.get)(this,"authenticatedUser.miniProfile")
return[...e,{miniProfile:t,picture:(0,c.get)(t,"picture"),ghostType:"person",fullName:this.formatter.formatName(t,"full")}]}return e}},m=(0,i.default)(u.prototype,"formatter",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,i.default)(u.prototype,"authenticatedUser",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=f;(0,r.setComponentTemplate)(h,f)}))
define("msg-facepile-grid/components/facepile-grid",["exports","@ember/component","@ember/template-factory","@glimmer/component"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"8QWM4eot",block:'[[[11,0],[16,0,[29,["msg-facepile-grid\\n    ",[52,[28,[37,1],[[30,1],[28,[37,2],[[30,2,["length"]],1],null]],null],"msg-facepile-grid--group-size-2","msg-facepile-grid--no-facepile"],"\\n    ",[30,0,["sizeClass"]]]]],[17,3],[12],[1,"\\n"],[41,[28,[37,3],[[30,1],[28,[37,4],[[30,2,["length"]],1],null]],null],[[[1,"    "],[10,0],[14,0,"msg-facepile-grid__img msg-facepile-grid__group-chat-icon"],[12],[1,"\\n      "],[1,[28,[35,5],null,[["type","size","class"],["people-icon",[30,4],"t-black--light"]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[42,[28,[37,7],[[28,[37,7],[[30,0,["participantsToPrint"]]],null]],null],null,[[[1,"    "],[8,[39,8],null,[["@classNames","@image","@alt","@desiredWidth","@desiredHeight","@ghostType"],[[28,[37,9],["msg-facepile-grid__img msg-facepile-grid__img--",[52,[28,[37,10],[[30,5]],null],"company","person"]],null],[28,[37,11],[[30,5]],null],[28,[37,12],[[30,5]],null],100,100,[52,[28,[37,10],[[30,5]],null],"company","person"]]],null],[1,"\\n"]],[5]],null],[13]],["@groupChat","@participants","&attrs","@iconSize","participant"],false,["if","global-helpers@or","global-helpers@gt","global-helpers@and","global-helpers@eq","artdeco-icons-web@li-icon","each","-track-array","ember-vector-images@lazy-image","concat","msg-shared@is-company-profile","msg-shared@get-member-or-company-picture","msg-shared@get-member-or-company-name"]]',moduleName:"msg-facepile-grid/components/facepile-grid.hbs",isStrictMode:!1}),r={1:"msg-facepile-grid--1",2:"msg-facepile-grid--2",3:"msg-facepile-grid--3",4:"msg-facepile-grid--4"}
class o extends i.default{get sizeClass(){return r[this.args.entitySize]}get participantsToPrint(){return this.args.participants.slice(0,2)}}e.default=o;(0,t.setComponentTemplate)(a,o)}))
define("msg-facepile-grid/components/facepile-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"synetFP2",block:'[[[11,0],[16,0,[29,["msg-facepile-grid\\n    ",[52,[30,1,["isGroupChat"]],"msg-facepile-grid--group-size-2","msg-facepile-grid--no-facepile"],"\\n    msg-facepile-grid--",[30,2]]]],[17,3],[12],[1,"\\n"],[41,[28,[37,1],[[30,1,["isGroupChat"]],[28,[37,2],[[30,1,["participantsToRender","length"]],1],null]],null],[[[1,"    "],[10,0],[14,0,"msg-facepile-grid__img msg-facepile-grid__group-chat-icon"],[12],[1,"\\n      "],[1,[28,[35,3],null,[["type","size","class"],["people-icon",[30,4],"t-black--light"]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[42,[28,[37,5],[[28,[37,5],[[30,1,["participantsToRender"]]],null]],null],null,[[[1,"    "],[8,[39,6],null,[["@classNames","@image","@alt","@desiredWidth","@desiredHeight","@ghostType"],[[28,[37,7],["msg-facepile-grid__img msg-facepile-grid__img--",[30,5,["profileType"]]],null],[30,5,["picture"]],[30,5,["name"]],100,100,[30,5,["profileType"]]]],null],[1,"\\n"]],[5]],null],[13]],["@viewData","@entitySize","&attrs","@iconSize","participant"],false,["if","global-helpers@and","global-helpers@eq","artdeco-icons-web@li-icon","each","-track-array","ember-vector-images@lazy-image","concat"]]',moduleName:"msg-facepile-grid/components/facepile-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-facepile-grid/viewdata/facepile-viewdata",["exports","msg-data/viewdata","msg-shared/helpers/get-member-or-company-name","msg-shared/helpers/get-member-or-company-picture","msg-shared/helpers/is-company-profile"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=["participants","isGroupChat","formatter"]
class o extends t.default{get requiredProps(){return r}get isGroupChat(){return this.props.isGroupChat}get participantsToRender(){return this.props.participants.slice(0,2).map((e=>({picture:(0,i.getMemberOrCompanyPicture)(e),name:(0,n.getMemberOrCompanyName)(e,this.props.formatter,"full"),profileType:(0,a.isCompanyProfile)(e)?"company":"person"})))}}e.default=o}))
define("msg-shared-modals/components/away-message-settings-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","s-upsell/utils/upsell-card-v2-request"],(function(e,t,n,i,a,r,o,s,l,c,d,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,m,g,h,f,b,_,y,v,k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L
const j=(0,o.createTemplateFactory)({id:"dq9WPp8I",block:'[[[11,0],[17,1],[12],[1,"\\n  "],[8,[39,0],[[4,[38,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_away_message_setup",[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]]],[["@isOpen","@dismissModal","@modalClasses","@size","@ariaDescribedBy"],[true,[30,0,["dismissModal"]],"premium-accent-bar","large","msg-away-message-settings-modal-a11y-description"]],[["default"],[[[[1,"\\n    "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h1"],[14,1,"msg-away-message-settings-modal-a11y-description"],[14,0,"a11y-text"],[12],[1,"\\n        "],[1,[28,[35,4],[[30,3]," dialog"],null]],[1,"\\n      "],[13],[1,"\\n      "],[10,"h2"],[14,1,"msg-away-message-settings-modal"],[12],[1,"\\n        "],[1,[28,[35,5],null,[["type","size","a11y-text"],["premium-badge","8dp",[28,[37,6],["i18n_premium","msg-shared-modals/components/away-message-settings-modal"],null]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,2,["artdeco-modal-content"]],[[24,0,"p0"]],null,[["default"],[[[[1,"\\n"],[41,[30,0,["authenticatedUser","isPremiumUser"]],[[[1,"        "],[10,0],[14,0,"msg-away-message-settings-modal__section display-flex align-items-center justify-space-between"],[12],[1,"\\n"],[41,[30,0,["isLoadingSettings"]],[[[1,"            "],[8,[39,8],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"pr2"],[12],[1,"\\n              "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,[28,[35,6],["i18n_away_message","msg-shared-modals/components/away-message-settings-modal"],null]],[13],[1,"\\n              "],[10,2],[14,0,"t-12 t-black--light"],[12],[1,"\\n                "],[1,[28,[35,6],["i18n_away_message_details","msg-shared-modals/components/away-message-settings-modal"],null]],[1,"\\n                "],[11,3],[24,0,"link-without-visited-state"],[24,6,"/help/linkedin/answer/124627"],[24,"rel","noopener noreferrer"],[16,"aria-label",[28,[37,6],["i18n_learn_more_description","msg-shared-modals/components/away-message-settings-modal"],null]],[24,"target","_blank"],[4,[38,9],["away_message_learn_more"],null],[12],[1,"\\n                  "],[1,[28,[35,6],["i18n_learn_more","msg-shared-modals/components/away-message-settings-modal"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[8,[39,10],[[16,"data-control-name",[52,[30,0,["awayMessageIsOn"]],"away_message_turnoff","away_message_turnon"]]],[["@labelText","@isLabelHidden","@toggled","@onToggle"],[[28,[37,6],["a11y_away_message","msg-shared-modals/components/away-message-settings-modal"],null],true,[30,0,["awayMessageIsOn"]],[28,[37,11],[[30,0],"awayMessageIsOn"],null]]],null],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"msg-away-message-settings-modal__section"],[12],[1,"\\n"],[41,[30,0,["premiumUpsellCard"]],[[[1,"            "],[10,2],[14,0,"t-bold mb2"],[12],[1,"\\n              "],[8,[39,12],null,[["@tvm"],[[30,0,["premiumUpsellCard","title"]]]],null],[1,"\\n            "],[13],[1,"\\n            "],[10,2],[14,0,"t-14"],[12],[1,"\\n              "],[8,[39,12],null,[["@tvm"],[[30,0,["premiumUpsellCard","subtitles","firstObject"]]]],null],[1,"\\n            "],[13],[1,"\\n"],[41,[30,0,["premiumUpsellCard","socialProofInsight"]],[[[1,"              "],[10,0],[14,0,"display-flex align-items-center mt2"],[12],[1,"\\n                "],[8,[39,13],null,[["@images","@entitySize","@isStackedLayout"],[[30,0,["premiumUpsellCard","socialProofInsight","image"]],1,true]],null],[1,"\\n                "],[10,2],[14,0,"t-12 t-black--light ml2"],[12],[1,"\\n                  "],[8,[39,12],null,[["@tvm"],[[30,0,["premiumUpsellCard","socialProofInsight","text"]]]],null],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"            "],[8,[39,8],null,[["@size"],["small"]],null],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n"]],[]]],[1,"      "],[10,0],[14,0,"pt1 pb4 ph5"],[12],[1,"\\n        "],[8,[39,14],[[24,0,"msg-away-message-settings-modal__datepicker"],[4,[38,16],["keyup",[30,0,["stopPropagation"]]],null]],[["@startAriaLabel","@endAriaLabel","@startLabel","@endLabel","@value","@min","@max","@onDateSelected","@disabled"],[[28,[37,6],["i18n_start_date_label","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_end_date_label","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_start_date_label","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_end_date_label","msg-shared-modals/components/away-message-settings-modal"],null],[30,0,["dateRange"]],[30,0,["minDate"]],[30,0,["maxDate"]],[30,0,["onDateSelected"]],[52,[51,[30,0,["awayMessageIsOn"]]],true]]],null],[1,"\\n        "],[8,[39,17],[[24,0,"msg-away-message-settings-modal__text-input mt4"]],[["@type","@maxLength","@label","@placeholder","@disabled","@value","@onChange","@onFocusIn"],["multiline","300",[28,[37,6],["i18n_message_label","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_write_a_message","msg-shared-modals/components/away-message-settings-modal"],null],[52,[51,[30,0,["awayMessageIsOn"]]],true],[30,0,["awayMessage"]],[30,0,["onAwayMessageTextChange"]],[30,0,["onAwayMessageTextFocus"]]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,2,["artdeco-modal-footer"]],[[24,0,"display-flex align-items-center"]],null,[["default"],[[[[1,"\\n"],[41,[30,0,["errorMessage"]],[[[1,"        "],[8,[39,18],[[24,0,"mr3"]],[["@classNames","@message","@type"],["msg-away-message_settings-modal__error-message",[30,0,["errorMessage"]],"error"]],null],[1,"\\n"]],[]],null],[41,[30,0,["authenticatedUser","isPremiumUser"]],[[[1,"        "],[8,[39,19],[[24,0,"flex-shrink-zero mlA"]],[["@color","@click","@text","@type","@size"],["muted",[30,0,["dismissModal"]],[28,[37,6],["i18n_cancel","msg-shared-modals/components/away-message-settings-modal"],null],"secondary",2]],null],[1,"\\n        "],[8,[39,19],[[24,0,"flex-shrink-zero ml3"]],[["@click","@size","@text","@disabled"],[[30,0,["saveSettings"]],2,[28,[37,6],["i18n_save","msg-shared-modals/components/away-message-settings-modal"],null],[30,0,["isSaving"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["premiumUpsellCard"]],[[[1,"        "],[8,[39,20],[[24,0,"flex-shrink-zero mlA"]],[["@upsellModel","@customAnchorClass"],[[30,0,["premiumUpsellCard"]],"artdeco-button--full"]],null],[1,"\\n      "]],[]],null]],[]]],[1,"    "]],[]]]]],[1,"\\n  "]],[2]]]]],[1,"\\n  "],[8,[39,21],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["confirmationDialogIsOpen"]],[28,[37,6],["i18n_save_changes","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_save_changes_to_away_message","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_save","msg-shared-modals/components/away-message-settings-modal"],null],[28,[37,6],["i18n_discard","msg-shared-modals/components/away-message-settings-modal"],null],[30,0,["saveSettings"]],[30,4],[28,[37,11],[[30,0],"confirmationDialogIsOpen",false],null]]],null],[1,"\\n"],[13]],["&attrs","modal","@a11yDialogName","@closeModal"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","concat","artdeco-icons-web@li-icon","t","if","artdeco-loader@artdeco-loader","ember-cli-pemberly-tracking@track-interaction","artdeco-toggle@artdeco-toggle","ember-set-helper@set","text-view-model@text-view-model-v2","image-view-model@image-view-model","artdeco-datepicker@artdeco-daterange","unless","on","artdeco-text-input@artdeco-text-input","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","s-upsell@upsell-link","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"msg-shared-modals/components/away-message-settings-modal.hbs",isStrictMode:!1})
let z=(u=(0,l.inject)("authentication@authenticated-user"),m=(0,l.inject)("date"),g=(0,l.inject)("i18n"),h=(0,l.inject)("jet"),f=(0,l.inject)("msg-data@data-manager"),b=(0,l.inject)("store"),_=(0,l.inject)("tracking"),y=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",v,this);(0,t.default)(this,"date",k,this);(0,t.default)(this,"i18n",w,this);(0,t.default)(this,"jet",C,this);(0,t.default)(this,"msgDataManager",P,this);(0,t.default)(this,"store",T,this);(0,t.default)(this,"tracking",O,this);(0,t.default)(this,"isLoadingSettings",M,this);(0,t.default)(this,"dateRange",D,this);(0,t.default)(this,"minDate",S,this);(0,t.default)(this,"maxDate",R,this);(0,t.default)(this,"awayMessageIsOn",I,this);(0,t.default)(this,"awayMessage",E,this);(0,t.default)(this,"premiumUpsellCard",x,this);(0,t.default)(this,"confirmationDialogIsOpen",A,this);(0,t.default)(this,"errorMessage",N,this);(0,t.default)(this,"isSaving",L,this)
this.dateRange={start:new Date(this.date.now()),end:new Date(this.date.now())}
this.dateRange.start.setHours(0,0,0,0)
this.dateRange.end.setHours(47,59,59,999)
const e=this.date.now()
this.minDate=new Date(e)
this.maxDate=new Date(e)
this.maxDate.setMonth(this.minDate.getMonth()+3)
this.awayMessage=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-shared-modals@away-message-settings-modal","i18n_default_message")())
if((0,s.get)(this.authenticatedUser,"isPremiumUser")){this.isLoadingSettings=!0
this.msgDataManager.fetchAwayMessageSettings().then((e=>{if(!this.isDestroying){this.existingSettings=e
this.awayMessageIsOn=!0
const t=(0,s.get)(e,"timeRange.start"),n=(0,s.get)(e,"timeRange.end")
this.dateRange={start:t?new Date(t):void 0,end:n?new Date(n):void 0}
this.awayMessage=(0,s.get)(e,"awayMessage.text")}})).catch((e=>{const t=e&&(0,s.get)(e,"errors.firstObject.status"),n=t&&parseInt(t,10)
if(404!==n){this.isDestroying||this._showErrorMessage("i18n_retrieve_settings_error")
this.jet.error(e,["away-message-settings-modal"],`statusCode: ${n}`)
throw e}})).finally((()=>{this.isDestroying||(this.isLoadingSettings=!1)}))}else this._fetchPremiumUpsell()}_fetchPremiumUpsell(){this.store.queryURL(...(0,p.default)({upsellOrderOrigin:"premium_away_message_upsell_modal"})).then((e=>{this.isDestroying||(this.premiumUpsellCard=(0,s.get)(e,"elements.firstObject"))}))}onDateSelected(e){var t
null==e||null===(t=e.end)||void 0===t||t.setHours(23,59,59,999)
this.dateRange=e}onAwayMessageTextChange(e){var t
this.awayMessage=null==e||null===(t=e.target)||void 0===t?void 0:t.value}onAwayMessageTextFocus(){this.tracking.fireInteractionEvent("away_message_edit_message_body")}stopPropagation(e){e.stopPropagation()}dismissModal(){this.tracking.fireInteractionEvent("away_message_cancel")
this.awayMessageIsOn||this.existingSettings?this.confirmationDialogIsOpen=!0:this.args.closeModal()}saveSettings(){this.tracking.fireInteractionEvent("away_message_save")
this.confirmationDialogIsOpen=!1
let e
if(this.awayMessageIsOn){if(!this.dateRange.start){this._showErrorMessage("i18n_please_select_start_date")
return}if(!this.dateRange.end){this._showErrorMessage("i18n_please_select_end_date")
return}if(!this.awayMessage){this._showErrorMessage("i18n_please_enter_message")
return}e=this.existingSettings?this.msgDataManager.updateAwayMessageSettings(this.existingSettings,this.awayMessage,this.dateRange.start,this.dateRange.end):this.msgDataManager.createAwayMessageSettings(this.awayMessage,this.dateRange.start,this.dateRange.end)}else{if(!this.existingSettings){this.args.closeModal()
return}e=this.msgDataManager.deleteAwayMessageSettings(this.existingSettings)}this.isSaving=!0
e.then((()=>this.args.closeModal())).catch((e=>{this.isDestroying||this._showErrorMessage("i18n_generic_error")
this.jet.error(e,["away-message-settings-modal"])
throw e})).finally((()=>{this.isDestroying||(this.isSaving=!1)}))}_showErrorMessage(e){this.errorMessage=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-shared-modals@away-message-settings-modal",e)())}},v=(0,i.default)(y.prototype,"authenticatedUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(y.prototype,"date",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(y.prototype,"jet",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(y.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(y.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(y.prototype,"tracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(y.prototype,"isLoadingSettings",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,i.default)(y.prototype,"dateRange",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(y.prototype,"minDate",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(y.prototype,"maxDate",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(y.prototype,"awayMessageIsOn",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(y.prototype,"awayMessage",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(y.prototype,"premiumUpsellCard",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(y.prototype,"confirmationDialogIsOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(y.prototype,"errorMessage",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(y.prototype,"isSaving",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(y.prototype,"onDateSelected",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onDateSelected"),y.prototype),(0,i.default)(y.prototype,"onAwayMessageTextChange",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onAwayMessageTextChange"),y.prototype),(0,i.default)(y.prototype,"onAwayMessageTextFocus",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onAwayMessageTextFocus"),y.prototype),(0,i.default)(y.prototype,"stopPropagation",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"stopPropagation"),y.prototype),(0,i.default)(y.prototype,"dismissModal",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"dismissModal"),y.prototype),(0,i.default)(y.prototype,"saveSettings",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"saveSettings"),y.prototype),y)
e.default=z;(0,r.setComponentTemplate)(j,z)}))
define("msg-shared-modals/components/block-lss-modal-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking"],(function(e,t,n,i,a,r,o,s,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,u,m,g,h
const f=(0,o.createTemplateFactory)({id:"yP1xDcmn",block:'[[[11,0],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@dismissModal","@headerId","@isOpen","@size","@testId"],[[30,2],"msg-block-lss-modal-presenter",[30,3],"medium","block-lss"]],[["default"],[[[[1,"\\n    "],[8,[30,4,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-block-lss-modal-presenter"],[12],[1,"\\n        "],[1,[28,[35,1],["i18n_opt_out","msg-shared-modals/components/block-lss-modal-presenter"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,4,["artdeco-modal-content"]],null,[["@classNames"],["pv4"]],[["default"],[[[[1,"\\n      "],[10,2],[12],[1,"\\n"],[41,[30,0,["showBlockFailure"]],[[[1,"          "],[1,[28,[35,1],["i18n_block_failure","msg-shared-modals/components/block-lss-modal-presenter"],null]],[1,"\\n"]],[]],[[[41,[30,0,["showBlockSuccess"]],[[[1,"          "],[1,[28,[35,1],["i18n_block_success","msg-shared-modals/components/block-lss-modal-presenter"],[["participantNames"],[[30,5]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,1],["i18n_block_user_copy","msg-shared-modals/components/block-lss-modal-presenter"],null]],[1,"\\n          "],[10,3],[14,6,"/help/linkedin/answer/71495?trk=lss_unsub"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,"\\n            "],[1,[28,[35,1],["i18n_learn_more","msg-shared-modals/components/block-lss-modal-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showFooter"]],[[[1,"      "],[8,[30,4,["artdeco-modal-footer"]],null,[["@classNames"],["display-flex ph5 pv4"]],[["default"],[[[[1,"\\n        "],[8,[39,3],null,[["@classNames","@click","@color","@size","@text","@type"],["mlA",[30,2],"muted",2,[28,[37,1],["i18n_cancel","msg-shared-modals/components/block-lss-modal-presenter"],null],"tertiary"]],null],[1,"\\n\\n        "],[8,[39,3],null,[["@classNames","@click","@size","@text"],["ml2",[30,0,["blockLssUser"]],2,[28,[37,1],["i18n_confirm","msg-shared-modals/components/block-lss-modal-presenter"],null]]],null],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"  "]],[4]]]]],[1,"\\n"],[13]],["&attrs","@closeModal","@modalIsOpen","modal","@participantNames"],false,["artdeco-modal@artdeco-modal","t","if","artdeco-button@artdeco-button"]]',moduleName:"msg-shared-modals/components/block-lss-modal-presenter.hbs",isStrictMode:!1})
let b=(p=(0,l.inject)("store"),u=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"store",m,this);(0,t.default)(this,"showBlockFailure",g,this);(0,t.default)(this,"showBlockSuccess",h,this)}get showFooter(){return!this.showBlockFailure&&!this.showBlockSuccess}blockLssUser(){this.store.adapterFor("application").ajax(`/voyager/api/messaging/conversations/${this.args.convoId}/events?action=createCapRestriction`,"POST",{data:{}}).then((()=>{this.isDestroying||(this.showBlockSuccess=!0)})).catch((e=>{this.isDestroying||(this.showBlockFailure=!0)
throw e}))}},m=(0,i.default)(u.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,i.default)(u.prototype,"showBlockFailure",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=(0,i.default)(u.prototype,"showBlockSuccess",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(u.prototype,"blockLssUser",[s.action],Object.getOwnPropertyDescriptor(u.prototype,"blockLssUser"),u.prototype),u)
e.default=b;(0,r.setComponentTemplate)(f,b)}))
define("msg-shared-modals/components/choose-participant-to-report-modal",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"M6PZgIMt",block:'[[[8,[39,0],null,[["@isOpen","@dismissModal","@headerId","@modalClasses","@size"],[true,[30,1],"msg-choose-participants-modal","msg-choose-participants-modal","medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-choose-participants-modal"],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_report_block","msg-shared-modals/components/choose-participant-to-report-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,2,["artdeco-modal-content"]],null,[["@classNames"],["pv4"]],[["default"],[[[[1,"\\n    "],[10,"ul"],[14,0,"msg-choose-participants-modal__list"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,3,["participants"]]],null]],null],null,[[[1,"        "],[10,"li"],[14,0,"msg-choose-participants-modal__participant"],[12],[1,"\\n"],[1,"          "],[8,[39,4],[[24,"data-control-name","view_profile"]],[["@route","@model","@class"],["profile.common.profile",[30,4,["miniProfile","publicIdentifier"]],"mr2 pv4 flex-shrink-zero"]],[["default"],[[[[1,"\\n            "],[8,[39,5],null,[["@imageClasses","@miniProfile","@size"],["msg-choose-participants-modal__participant-img",[30,4,["miniProfile"]],3]],null],[1,"\\n          "]],[]]]]],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"pl1 pv4 pr2 flex-grow-1 overflow-hidden"],[12],[1,"\\n            "],[8,[39,4],[[24,"data-control-name","view_profile"]],[["@route","@model"],["profile.common.profile",[30,4,["miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n              "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                "],[1,[28,[35,1],["i18n_participant_fullname","msg-shared-modals/components/choose-participant-to-report-modal"],[["participant"],[[28,[37,6],[[30,4,["miniProfile"]]],null]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,2],[14,0,"t-14 t-black--light t-normal overflow-hidden truncate"],[12],[1,"\\n              "],[1,[30,4,["miniProfile","occupation"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[8,[39,7],null,[["@class","@click"],["flex-shrink-zero",[28,[37,8],[[30,5],[30,3],[30,4]],null]]],[["default"],[[[[1,"\\n            "],[1,[28,[35,1],["i18n_report_block","msg-shared-modals/components/choose-participant-to-report-modal"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n"]],[4]],null],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@closeModal","modal","@conversation","participant","@selectParticipant"],false,["artdeco-modal@artdeco-modal","t","each","-track-array","ember-engines@link-to-external","presence@entity-with-presence","global-helpers@name","artdeco-button@artdeco-button","fn"]]',moduleName:"msg-shared-modals/components/choose-participant-to-report-modal.hbs",isStrictMode:!1})
class o extends i.default{constructor(){super(...arguments)}}e.default=o;(0,t.setComponentTemplate)(r,o)}))
define("msg-shared-modals/components/compose-retry-loader-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"N3k3KqWY",block:'[[[10,0],[14,0,"msg-compose-retry-loader"],[12],[1,"\\n  "],[10,2],[14,0,"t-white text-align-center t-14 pt3"],[12],[1,[28,[35,0],["i18n_compose_sending","msg-shared-modals/components/compose-retry-loader-presenter"],null]],[13],[1,"\\n  "],[8,[39,1],[[24,0,"msg-compose-retry-loader__spinner"]],[["@size"],["small"]],null],[1,"\\n"],[13]],[],false,["t","artdeco-loader@artdeco-loader"]]',moduleName:"msg-shared-modals/components/compose-retry-loader-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@ember/component","@ember/template-factory","@glimmer/component"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"a4SurbIS",block:'[[[10,0],[14,0,"msg-participant-actions-dropdown-presenter__participant-confirm-delete ph5"],[12],[1,"\\n  "],[10,2],[14,0,"t-12 t-black--light t-normal mb2"],[12],[1,[28,[35,0],["i18n_will_notify_participant_of_removal","msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter"],[["participantName"],[[30,1]]]]],[13],[1,"\\n  "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n    "],[8,[39,1],null,[["@type","@color","@class","@click"],["secondary","muted","mr3",[30,2]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,0],["i18n_cancel","msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter"],null]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[39,1],[[4,[38,2],[[30,5]],[["onInteract"],[[30,6]]]]],[["@click","@disabled"],[[30,3],[30,4]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,0],["i18n_remove","msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"msg-participant-actions-dropdown-presenter__dropdown"],[12],[1,"\\n  "],[8,[39,3],null,[["@isOpen","@onVisibilityChange","@justification","@placement"],[[30,0,["shouldShowActionDropdown"]],[28,[37,4],[[30,0],"shouldShowActionDropdown"],null],"right",[52,[30,7],"top","bottom"]]],[["default"],[[[[1,"\\n    "],[8,[30,8,["dropdown-trigger"]],null,[["@class"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted"]],[["default"],[[[[1,"\\n      "],[1,[28,[35,6],null,[["type","size","a11y-text"],["ellipsis-horizontal-icon","large",[28,[37,0],["i18n_show_actions","msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter"],null]]]]],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,8,["dropdown-content"]],null,[["@arrowDir","@class"],["right","msg-participant-actions-dropdown-presenter__dropdown-content"]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"msg-participant-actions-dropdown-presenter__dropdown-options-container"],[12],[1,"\\n        "],[18,9,null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[8]]]]],[1,"\\n"],[13]],["@participantName","@cancelRemoveParticipantAction","@removeParticipantAction","@removeParticipantIsPending","@removePartcipantTrackingControlName","@fireRemoveParticipantCustomTracking","@shouldShowTopDropdown","dropdown","&default"],false,["t","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","artdeco-dropdown@artdeco-dropdown","ember-set-helper@set","if","artdeco-icons-web@li-icon","yield"]]',moduleName:"msg-shared-modals/components/conversation-details-modal-presenter/participant-actions-dropdown-presenter.hbs",isStrictMode:!1})
class o extends a.default{constructor(){super(...arguments);(0,t.default)(this,"shouldShowActionDropdown",!1)}}e.default=o;(0,n.setComponentTemplate)(r,o)}))
define("msg-shared-modals/components/conversation-modals",["exports","@babel/runtime/helpers/esm/objectSpread2","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","@glimmer/tracking","msg-shared/utils/constants","ember-lifeline","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","@ember/object","ember-batcher"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,_,y,v,k,w,C
const P=(0,s.createTemplateFactory)({id:"bsUl08oF",block:'[[[41,[30,0,["anyModalIsOpen"]],[[[1,"  "],[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"      "],[8,[39,1],null,[["@trackingModuleName","@cancelTrackingControlName","@submitTrackingControlName","@fireCustomTrackingForSubmitLeaveModal","@actionTrackingPrefix","@closeModal","@leaveConvoAndCloseModal"],[[30,3],[28,[37,2],[[30,4],"leave_conversation_cancel"],null],[28,[37,2],[[30,4],"leave_conversation_submit"],null],[28,[37,3],[[30,0,["fireCustomTrackingForSubmitLeaveModal"]],[30,5]],null],[30,4],[30,0,["_closeLeaveConvoModal"]],[28,[37,3],[[30,0,["leaveConversation"]],[30,5]],null]]],null],[1,"\\n"]],[]],null],[41,[30,6],[[[1,"      "],[8,[39,4],null,[["@closeModal","@leaveConversation","@submitTrackingControlName","@fireCustomTrackingForSubmitLeaveModal","@conversation","@renderPageKey","@trackingModuleName","@actionTrackingPrefix","@isOverlay","@reportConversation"],[[30,0,["_closeConvoDetailModal"]],[28,[37,3],[[30,0,["leaveConversation"]],[30,5]],null],[28,[37,2],[[30,4],"leave_conversation_submit"],null],[28,[37,3],[[30,0,["fireCustomTrackingForSubmitLeaveModal"]],[30,5]],null],[30,5],[30,7],[30,3],[30,4],[30,8],[30,0,["reportConversation"]]]],null],[1,"\\n"]],[]],null],[41,[30,9],[[[1,"      "],[8,[39,5],null,[["@actionTrackingPrefix","@closeModal","@deleteConvoAndCloseModal","@cancelTrackingControlName","@submitTrackingControlName","@fireCustomTrackingForDeleteConversation","@conversation"],[[30,4],[30,0,["_closeDeleteConvoModal"]],[28,[37,3],[[30,0,["deleteConversation"]],[30,5]],null],[28,[37,2],[[30,4],"clear_conversation_cancel"],null],[28,[37,2],[[30,4],"clear_conversation_confirm"],null],[28,[37,3],[[30,0,["fireCustomTrackingForDeleteConversation"]],[30,5]],null],[30,5]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,10],[[[1,"      "],[8,[39,6],null,[["@conversation","@selectParticipant","@closeModal"],[[30,5],[30,0,["selectParticipantToReport"]],[30,0,["_closeParticipantReportModal"]]]],null],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,7],null,[["@conversationToReport","@trackingModuleName","@actionTrackingPrefix","@reportOptions","@isOpen","@hideSemaphore","@handleSuccessfulDiscardRequest"],[[30,5],[30,3],[30,4],[30,0,["reportOptions"]],[30,0,["isReportSemaphoreOpen"]],[30,0,["closeSemaphore"]],[30,0,["handleSuccessfulDiscardRequest"]]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["&attrs","@isLeaveConvoModalOpen","@trackingModuleName","@actionTrackingPrefix","@conversation","@isConvoDetailModalOpen","@addParticipantsPageKey","@isOverlay","@isDeleteConvoModalOpen","@isChooseParticipantsToReportModalOpen"],false,["if","msg-shared-modals@participant-leave-modal-presenter","concat","fn","msg-shared-modals@convo-details-modal","msg-shared-modals@delete-convo-modal","msg-shared-modals@choose-participant-to-report-modal","msg-shared-modals@conversation-semaphore"]]',moduleName:"msg-shared-modals/components/conversation-modals.hbs",isStrictMode:!1}),{ACTION_TYPES:{LEAVE:T,DELETE:O},CONTROL_NAMES:{ACTIONS:M}}=p.default
let D=(b=(0,l.inject)("tracking"),_=(0,l.inject)("msg-data@data-manager"),y=class extends c.default{constructor(){super(...arguments);(0,n.default)(this,"tracking",v,this);(0,n.default)(this,"msgDataManager",k,this);(0,n.default)(this,"reportOptions",w,this);(0,n.default)(this,"isReportSemaphoreOpen",C,this)}get anyModalIsOpen(){return this.args.isLeaveConvoModalOpen||this.args.isConvoDetailModalOpen||this.args.isDeleteConvoModalOpen||this.args.isChooseParticipantsToReportModalOpen||this.isReportSemaphoreOpen}_reportConversation(e,n){const i=function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n]
if(e===(0,h.get)(i,"from.miniProfile.id"))return i}}((0,h.get)(n,"miniProfile.id"),(0,h.get)(e,"eventCollection.data")),a=!!i?{entityUrn:(0,h.get)(i,"backendUrn"),contentSource:"INBOX_REPORT_SPAM"}:{entityUrn:(0,h.get)(n,"miniProfile.objectUrn"),contentSource:"PROFILE"}
this.reportOptions=(0,t.default)({participantToReport:n},a)
this.isReportSemaphoreOpen=!0}reportConversation(e,t,n){n.stopPropagation();(0,u.runTask)(this,(()=>{this._reportConversation(e,t)}),0)}closeSemaphore(){this.isReportSemaphoreOpen=!1}deleteConversation(e){const t=(0,h.get)(e,"entityUrn"),n=this.msgDataManager.deleteConversation(t).then((()=>{var n,i,a,r
null===(n=(i=this.args).handleSuccessfulDiscardRequest)||void 0===n||n.call(i,t,!0)
null===(a=(r=this.args).redirectToActiveConversation)||void 0===a||a.call(r,(0,h.get)(e,"id"))}))
this._closeDeleteConvoModal()
return n}fireCustomTrackingForDeleteConversation(e){var t,n
return this.isDestroying?[]:(0,m.getDetailActionEventTrackingObject)({conversationObjectUrn:(0,h.get)(e,"backendUrn"),participantUrns:(0,m.getParticipantTrackingUrns)((0,h.get)(e,"participants")),participantPresenceStatuses:(0,g.getParticipantPresenceStatuses)(e),actionType:O,controlName:`${null!==(t=this.args.actionTrackingPrefix)&&void 0!==t?t:""}${M.DELETE}`,moduleKey:null!==(n=this.args.trackingModuleName)&&void 0!==n?n:"",trackingService:this.tracking})}leaveConversation(e){const t=this.msgDataManager.leaveConversation((0,h.get)(e,"entityUrn"))
this.actions._closeLeaveConvoModal.call(this)
return t}fireCustomTrackingForSubmitLeaveModal(e){var t,n
if(this.isDestroying)return[]
const i=T,a=`${null!==(t=this.args.actionTrackingPrefix)&&void 0!==t?t:""}${M.LEAVE}`
return(0,m.getDetailActionEventTrackingObject)({conversationObjectUrn:(0,h.get)(e,"backendUrn"),participantUrns:(0,m.getParticipantTrackingUrns)((0,h.get)(e,"participants")),participantPresenceStatuses:(0,g.getParticipantPresenceStatuses)(e),actionType:i,controlName:a,moduleKey:null!==(n=this.args.trackingModuleName)&&void 0!==n?n:"",trackingService:this.tracking})}_closeDeleteConvoModal(){var e,t
null===(e=(t=this.args).closeDeleteConvoModal)||void 0===e||e.call(t)
this._resetFocusAfterCloseModal()}_closeLeaveConvoModal(){var e,t
null===(e=(t=this.args).closeLeaveConvoModal)||void 0===e||e.call(t)
this._resetFocusAfterCloseModal()}_closeConvoDetailModal(){var e,t
null===(e=(t=this.args).closeConvoDetailModal)||void 0===e||e.call(t)
this._resetFocusAfterCloseModal()}_closeParticipantReportModal(){var e,t
null===(e=(t=this.args).closeChooseParticipantsToReportModal)||void 0===e||e.call(t)
this._resetFocusAfterCloseModal()}_resetFocusAfterCloseModal(){this.args.afterDismissFocusElement&&(0,f.mutateDOM)((()=>{this.args.afterDismissFocusElement.focus()}))}selectParticipantToReport(e,t,n){n.stopPropagation()
this.args.closeChooseParticipantsToReportModal();(0,u.runTask)(this,(()=>{this._reportConversation(e,t)}),0)}},v=(0,a.default)(y.prototype,"tracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,a.default)(y.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,a.default)(y.prototype,"reportOptions",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,a.default)(y.prototype,"isReportSemaphoreOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(y.prototype,"reportConversation",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"reportConversation"),y.prototype),(0,a.default)(y.prototype,"closeSemaphore",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"closeSemaphore"),y.prototype),(0,a.default)(y.prototype,"deleteConversation",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"deleteConversation"),y.prototype),(0,a.default)(y.prototype,"fireCustomTrackingForDeleteConversation",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"fireCustomTrackingForDeleteConversation"),y.prototype),(0,a.default)(y.prototype,"leaveConversation",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"leaveConversation"),y.prototype),(0,a.default)(y.prototype,"fireCustomTrackingForSubmitLeaveModal",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"fireCustomTrackingForSubmitLeaveModal"),y.prototype),(0,a.default)(y.prototype,"_closeDeleteConvoModal",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"_closeDeleteConvoModal"),y.prototype),(0,a.default)(y.prototype,"_closeLeaveConvoModal",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"_closeLeaveConvoModal"),y.prototype),(0,a.default)(y.prototype,"_closeConvoDetailModal",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"_closeConvoDetailModal"),y.prototype),(0,a.default)(y.prototype,"_closeParticipantReportModal",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"_closeParticipantReportModal"),y.prototype),(0,a.default)(y.prototype,"selectParticipantToReport",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"selectParticipantToReport"),y.prototype),y)
e.default=D;(0,o.setComponentTemplate)(P,D)}))
define("msg-shared-modals/components/conversation-semaphore-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","msg-shared/utils/constants","msg-shared/utils/custom-tracking","@ember/object","msg-data/utils/update-conversation-state-in-store"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b,_,y,v,k,w,C,P,T
const O=(0,o.createTemplateFactory)({id:"sagkMbNg",block:'[[[11,0],[17,1],[12],[1,"\\n"],[41,[30,0,["showSemaphore"]],[[[1,"    "],[8,[39,1],null,[["@entityUrn","@contentSource","@parentUrn","@authorProfileId","@reporterProfileUrn","@success","@failure","@cancel","@isBackButtonEnabled","@backButtonAction","@redirect"],[[30,2,["entityUrn"]],[30,2,["contentSource"]],[30,2,["parentUrn"]],[30,3],[30,0,["authenticatedUserEntityUrn"]],[30,0,["semaphoreSuccess"]],[30,0,["semaphoreFailure"]],[30,0,["semaphoreClose"]],[30,2,["isBackButtonEnabled"]],[30,2,["backButtonAction"]],[30,4]]],null],[1,"\\n"]],[]],null],[13]],["&attrs","@reportOptions","@authorProfileId","@semaphoreRedirect"],false,["if","ember-semaphore@ember-semaphore"]]',moduleName:"msg-shared-modals/components/conversation-semaphore-presenter.hbs",isStrictMode:!1}),{ACTION_TYPES:{REPORT_SPAM:M},CONTROL_NAMES:{ACTIONS:D}}=c.default
let S=(m=(0,s.inject)("tracking"),g=(0,s.inject)("persistent-toast-manager@persistent-toast-manager"),h=(0,s.inject)("i18n"),f=(0,s.inject)("msg-data@data-manager"),b=(0,s.inject)("store"),_=(0,s.inject)("authentication@authenticated-user"),y=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"persistentToastManager",k,this);(0,t.default)(this,"i18n",w,this);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"store",P,this);(0,t.default)(this,"authenticatedUser",T,this)}get showSemaphore(){var e
return this.args.isOpen&&(null===(e=this.args.reportOptions)||void 0===e?void 0:e.entityUrn)}get authenticatedUserEntityUrn(){return(0,p.get)(this.authenticatedUser,"miniProfile.entityUrn")}semaphoreSuccess(){var e
this.args.hideSemaphore()
const t=`${null!==(e=this.args.actionTrackingPrefix)&&void 0!==e?e:""}${D.REPORT}`
d.default.fireDetailActionEvent({conversationObjectUrn:this.viewData.conversationObjectUrn,participantUrns:this.viewData.participantTrackingUrns,participantPresenceStatuses:this.viewData.participantPresenceStatuses,controlName:t,actionType:M,moduleKey:this.trackingModuleName,trackingService:this.tracking})
const n=this.i18n.lookupTranslation("msg-shared-modals@i18n-strings","i18n_semaphore_success")()
this.persistentToastManager.success({message:n});(0,u.updateConversationStateInStore)(this.store,this.viewData.conversationUrn,{blocked:!0})
this.msgDataManager.removeConversation(this.viewData.conversationUrn)
if(!this.viewData.isGroupChat)if(this.args.handleSuccessfulDiscardRequest)this.args.handleSuccessfulDiscardRequest(this.viewData.conversationUrn)
else{var i,a
null===(i=(a=this.args).redirectToActiveConversation)||void 0===i||i.call(a,this.viewData.conversationId)}}semaphoreFailure(){this.args.hideSemaphore()
const e=this.i18n.lookupTranslation("msg-shared-modals@i18n-strings","i18n_semaphore_failure")()
this.persistentToastManager.error({message:e})}semaphoreClose(){this.args.hideSemaphore()}},v=(0,i.default)(y.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(y.prototype,"persistentToastManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(y.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(y.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(y.prototype,"authenticatedUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(y.prototype,"semaphoreSuccess",[p.action],Object.getOwnPropertyDescriptor(y.prototype,"semaphoreSuccess"),y.prototype),(0,i.default)(y.prototype,"semaphoreFailure",[p.action],Object.getOwnPropertyDescriptor(y.prototype,"semaphoreFailure"),y.prototype),(0,i.default)(y.prototype,"semaphoreClose",[p.action],Object.getOwnPropertyDescriptor(y.prototype,"semaphoreClose"),y.prototype),y)
e.default=S;(0,r.setComponentTemplate)(O,S)}))
define("msg-shared-modals/components/conversation-semaphore",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","msg-shared/utils/constants","msg-shared/utils/custom-tracking","global-utils/utils/urn-converter","@ember/object","msg-shared/helpers/is-company-profile","msg-data/utils/update-conversation-state-in-store","msg-shared/utils/get-participant-presence-statuses"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,_,y,v,k,w,C,P,T,O,M,D
const S=(0,o.createTemplateFactory)({id:"y04yIkhL",block:'[[[11,0],[17,1],[12],[1,"\\n"],[41,[30,0,["showSemaphore"]],[[[1,"    "],[8,[39,1],null,[["@entityUrn","@contentSource","@parentUrn","@authorProfileId","@reporterProfileUrn","@success","@failure","@cancel","@isBackButtonEnabled","@backButtonAction","@redirect"],[[30,2,["entityUrn"]],[30,2,["contentSource"]],[30,2,["parentUrn"]],[30,0,["authorProfileId"]],[30,0,["authenticatedUser","miniProfile","entityUrn"]],[30,0,["semaphoreSuccess"]],[30,0,["semaphoreFailure"]],[30,0,["semaphoreClose"]],[30,2,["isBackButtonEnabled"]],[30,2,["backButtonAction"]],[30,3]]],null],[1,"\\n"]],[]],null],[13]],["&attrs","@reportOptions","@semaphoreRedirect"],false,["if","ember-semaphore@ember-semaphore"]]',moduleName:"msg-shared-modals/components/conversation-semaphore.hbs",isStrictMode:!1}),{ACTION_TYPES:{REPORT_SPAM:R},CONTROL_NAMES:{ACTIONS:I}}=c.default
let E=(f=(0,s.inject)("tracking"),b=(0,s.inject)("persistent-toast-manager@persistent-toast-manager"),_=(0,s.inject)("i18n"),y=(0,s.inject)("msg-data@data-manager"),v=(0,s.inject)("store"),k=(0,s.inject)("authentication@authenticated-user"),w=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"msgDataManager",O,this);(0,t.default)(this,"store",M,this);(0,t.default)(this,"authenticatedUser",D,this)}get showSemaphore(){var e
return this.args.isOpen&&(null===(e=this.args.reportOptions)||void 0===e?void 0:e.entityUrn)}get authorProfileId(){var e
const t=(0,u.get)(this.args.reportOptions,"participantToReport"),n=(0,m.isCompanyProfile)(t)?(0,u.get)(t,"miniCompany.id"):(0,u.get)(t,"miniProfile.id")
let i=null===(e=(0,p.fromUrn)(n))||void 0===e?void 0:e.id
"UNKNOWN"===i&&(i=void 0)
return i}semaphoreSuccess(){var e
const t=this.args.conversationToReport
this.args.hideSemaphore()
const n=`${null!==(e=this.args.actionTrackingPrefix)&&void 0!==e?e:""}${I.REPORT}`
d.default.fireDetailActionEvent({conversationObjectUrn:(0,u.get)(t,"backendUrn"),participantUrns:d.default.getParticipantTrackingUrns((0,u.get)(t,"participants")),participantPresenceStatuses:(0,h.getParticipantPresenceStatuses)(t),controlName:n,actionType:R,moduleKey:this.trackingModuleName,trackingService:this.tracking})
const i=this.i18n.lookupTranslation("msg-shared-modals@i18n-strings","i18n_semaphore_success")()
this.persistentToastManager.success({message:i});(0,g.updateConversationStateInStore)(this.store,(0,u.get)(t,"entityUrn"),{blocked:!0})
this.msgDataManager.removeConversation((0,u.get)(t,"entityUrn"))
if(!(0,u.get)(t,"groupChat"))if(this.args.handleSuccessfulDiscardRequest)this.args.handleSuccessfulDiscardRequest((0,u.get)(t,"entityUrn"))
else{var a,r
null===(a=(r=this.args).redirectToActiveConversation)||void 0===a||a.call(r,(0,u.get)(t,"id"))}}semaphoreFailure(){this.args.hideSemaphore()
const e=this.i18n.lookupTranslation("msg-shared-modals@i18n-strings","i18n_semaphore_failure")()
this.persistentToastManager.error({message:e})}semaphoreClose(){this.args.hideSemaphore()}},C=(0,i.default)(w.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(w.prototype,"persistentToastManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(w.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(w.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(w.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(w.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(w.prototype,"semaphoreSuccess",[u.action],Object.getOwnPropertyDescriptor(w.prototype,"semaphoreSuccess"),w.prototype),(0,i.default)(w.prototype,"semaphoreFailure",[u.action],Object.getOwnPropertyDescriptor(w.prototype,"semaphoreFailure"),w.prototype),(0,i.default)(w.prototype,"semaphoreClose",[u.action],Object.getOwnPropertyDescriptor(w.prototype,"semaphoreClose"),w.prototype),w)
e.default=E;(0,r.setComponentTemplate)(S,E)}))
define("msg-shared-modals/components/convo-details-modal-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/tracking","@ember/utils","@ember/debug","@glimmer/component","@ember/object/internals","msg-shared/utils/constants","global-utils/utils/is-browser","msg-shared/utils/custom-tracking","ember-app-scheduler","msg-shared/utils/user-visible-exception-helper","rsvp"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f,b,_,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F,G,H,B,W,K,V,q,$,Y
const Z=(0,o.createTemplateFactory)({id:"j6Zz606Z",block:'[[[11,0],[17,1],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,2],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,3],null,[["@isOpen","@modalClasses","@headerId","@size","@dismissModal"],[true,"msg-convo-details-modal","msg-convo-details-modal","large",[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"manage_participants_dismiss"],null],[30,3]]]]]],[["default"],[[[[1,"\\n    "],[8,[30,4,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-convo-details-modal"],[12],[1,"\\n        "],[1,[28,[35,6],["i18n_convo_details_modal_title","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,4,["artdeco-modal-content"]],null,[["@classNames"],[[29,["msg-convo-details-modal__content p0 ",[52,[30,5],"from-overlay","from-pillar"]]]]],[["default"],[[[[1,"\\n"],[41,[30,6,["contextText"]],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__context-info-container"],[12],[1,"\\n          "],[10,"h6"],[14,0,"t-black--light t-bold"],[12],[1,[28,[35,6],["i18n_context_information_section_header","msg-shared-modals/components/convo-details-modal-presenter"],null]],[13],[1,"\\n\\n          "],[10,0],[14,0,"display-flex align-items-center pt2"],[12],[1,"\\n"],[41,[30,6,["contextImage"]],[[[1,"              "],[8,[39,8],[[24,0,"mr2"]],[["@href"],[[30,6,["contextImageActionTarget"]]]],[["default"],[[[[1,"\\n                "],[8,[39,9],null,[["@entitySize","@images"],[3,[30,6,["contextImage"]]]],null],[1,"\\n              "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[11,0],[24,0,"t-14"],[4,[38,10],[[30,0,["makeHyperlinksOpenExternally"]]],null],[12],[1,"\\n              "],[1,[28,[35,11],[[30,6,["contextText"]]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[41,[30,6,["hasCreateGroupChatLink"]],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link-container pl5"],[12],[1,"\\n          "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link-toggle justify-space-between display-flex pt3 pb4"],[12],[1,"\\n            "],[10,0],[12],[1,"\\n              "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,[28,[35,6],["i18n_group_chat_link_toggle_label","msg-shared-modals/components/convo-details-modal-presenter"],null]],[13],[1,"\\n\\n"],[41,[51,[30,0,["isGroupChatLinkToggledOn"]]],[[[1,"                "],[10,2],[14,0,"t-14 t-black--light t-normal pt1"],[12],[1,[28,[35,6],["i18n_group_chat_link_toggle_label_turn_on","msg-shared-modals/components/convo-details-modal-presenter"],null]],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n            "],[10,0],[14,0,"cursor-pointer"],[12],[1,"\\n              "],[8,[39,13],null,[["@class","@disabled","@isLabelHidden","@labelText","@onToggle","@size","@toggled","@toggleId"],["align-self-flex-start mr5",[30,0,["isGroupChatLinkToggleDisabled"]],true,[52,[30,0,["groupChatLink"]],[28,[37,6],["i18n_group_chat_link_toggle_state_on","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_group_chat_link_toggle_state_off","msg-shared-modals/components/convo-details-modal-presenter"],null]],[30,0,["toggleGroupChatLink"]],"24dp",[30,0,["isGroupChatLinkToggledOn"]],"msg-group-chat-link__toggle"]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,0,["isGroupChatLinkToggledOn"]],[[[1,"            "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link--enabled justify-space-between display-flex pt4 pb3"],[12],[1,"\\n              "],[10,0],[12],[1,"\\n                "],[10,2],[15,0,[29,["t-16 msg-convo-details-modal__group-chat-link-text\\n                    ",[52,[30,0,["isGroupChatLinkLoading"]],"t-black--light","t-black"]]]],[12],[1,"\\n"],[41,[30,0,["isGroupChatLinkLoading"]],[[[1,"                    "],[1,[28,[35,6],["i18n_group_chat_link_generating","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n"]],[]],[[[1,"                    "],[1,[30,0,["groupChatLink"]]],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"t-14 pv1 t-black--light"],[12],[1,"\\n                  "],[1,[28,[35,6],["i18n_group_chat_link_description_enabled","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[8,[39,14],[[24,"data-control-name","ltj_share"],[16,"aria-label",[28,[37,6],["i18n_group_chat_link_copy_button_message","msg-shared-modals/components/convo-details-modal-presenter"],null]]],[["@disabled","@id","@class","@click","@size","@type","@text"],[[30,0,["isGroupChatLinkLoading"]],"msg-group-chat-link-copy","msg-convo-details-modal__group-chat-link-copy-btn align-self-flex-start mh4",[30,0,["copyGroupChatLink"]],2,"tertiary",[28,[37,6],["i18n_group_chat_link_copy","msg-shared-modals/components/convo-details-modal-presenter"],null]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"display-flex justify-space-between align-items-center mh5 mv2"],[12],[1,"\\n        "],[10,"h3"],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n          "],[1,[28,[35,6],["i18n_num_participants_title","msg-shared-modals/components/convo-details-modal-presenter"],[["count"],[[30,6,["totalParticipantsCount"]]]]]],[1,"\\n        "],[13],[1,"\\n"],[41,[30,6,["hasCreateNewGroupChat"]],[[[1,"          "],[8,[39,14],[[16,"aria-label",[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal-presenter"],null]],[16,"data-control-name",[28,[37,5],[[30,0,["actionTrackingPrefix"]],"frozenchat_create_new_group_chat"],null]]],[["@click","@text","@type"],[[28,[37,15],[[30,0],"isCreateNewGroupChatModalOpen",true],null],[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal-presenter"],null],"tertiary"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,6,["hasAddParticipant"]],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__add-participant-container"],[12],[1,"\\n          "],[10,0],[14,0,"msg-connections-typeahead__added-recipients-container display-flex justify-space-between"],[12],[1,"\\n"],[41,[30,0,["useTypeaheadFeature"]],[[[1,"              "],[8,[39,16],[[24,0,"msg-convo-details-modal__lookup-form"]],[["@a11yText","@actionOnTypeaheadEnter","@onRecipientsCommit","@placeholder","@recipientsToFilterOut","@recipientsChanged","@includeCoworkerResults","@enableGroupMessageRequests"],[[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,0,["actionOnTypeaheadEnter"]],[30,0,["addParticipants"]],[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,6,["participantProfiles"]],[30,0,["recipientsChanged"]],true,true]],[["default"],[[[[1,"\\n                "],[8,[39,14],[[4,[38,17],[[30,0,["addPartcipantTrackingControlName"]]],[["onInteract"],[[30,0,["fireAddParticipantCustomTracking"]]]]]],[["@class","@text","@click","@disabled"],["msg-convo-details-modal__add ml2 flex-shrink-zero",[28,[37,6],["i18n_add","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,7,["commitAddedRecipients"]],[30,0,["noRecipientsInTypeahead"]]]],null],[1,"\\n              "]],[7]]]]],[1,"\\n"]],[]],[[[1,"              "],[8,[39,18],[[24,0,"msg-convo-details-modal__lookup-form"]],[["@a11yText","@actionOnTypeaheadEnter","@onRecipientsCommit","@placeholder","@recipientsToFilterOut","@recipientsChanged","@includeCoworkerResults","@enableGroupMessageRequests"],[[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,0,["actionOnTypeaheadEnter"]],[30,0,["addParticipants"]],[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,6,["participantProfiles"]],[30,0,["recipientsChanged"]],true,true]],[["default"],[[[[1,"\\n                "],[8,[39,14],[[4,[38,17],[[30,0,["addPartcipantTrackingControlName"]]],[["onInteract"],[[30,0,["fireAddParticipantCustomTracking"]]]]]],[["@class","@text","@click","@disabled"],["msg-convo-details-modal__add ml2 flex-shrink-zero",[28,[37,6],["i18n_add","msg-shared-modals/components/convo-details-modal-presenter"],null],[30,8,["commitAddedRecipients"]],[30,0,["noRecipientsInTypeahead"]]]],null],[1,"\\n              "]],[8]]]]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"msg-convo-details-modal__participants pl5"],[12],[1,"\\n        "],[11,"ul"],[24,0,"msg-convo-details-modal__participants-list"],[4,[38,10],[[30,0,["didParticipantListInsert"]]],null],[12],[1,"\\n"],[42,[28,[37,20],[[28,[37,20],[[30,6,["participantsProps"]]],null]],null],null,[[[1,"            "],[10,"li"],[15,1,[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],[14,0,"msg-convo-details-modal__participant-card"],[12],[1,"\\n              "],[8,[39,21],null,[["@size","@class"],[3,"flex-grow-1"]],[["default"],[[[[1,"\\n                "],[8,[30,11,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n                  "],[8,[39,22],[[24,"data-control-name","view_profile"],[4,[38,23],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,9,["id"]]]],[["default"],[[[[1,"\\n                    "],[8,[39,24],null,[["@imageClasses","@viewData","@size"],["msg-convo-details-modal__participant-img",[30,9,["entityWithPresenceViewData"]],3]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n                "],[8,[30,11,["content"]],null,null,[["default"],[[[[1,"\\n                  "],[8,[30,11,["title"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[39,22],[[24,"data-control-name","view_profile"],[4,[38,23],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,9,["id"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                        "],[1,[28,[35,6],["i18n_participant_fullname","msg-shared-modals/components/convo-details-modal-presenter"],[["participant"],[[30,9,["name"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[30,9,["distance"]],[[[1,"                    "],[8,[30,11,["badge"]],null,[["@degreeText","@degreeA11yText","@label"],[[28,[37,6],["i18n_distance","msg-shared-modals/components/convo-details-modal-presenter"],[["distance"],[[30,9,["distance"]]]]],[28,[37,6],["i18n_distance_a11y","msg-shared-modals/components/convo-details-modal-presenter"],[["distance"],[[30,9,["distance"]]]]],[30,9,["text"]]]],null],[1,"\\n"]],[]],null],[1,"                  "],[8,[30,11,["subtitle"]],null,null,[["default"],[[[[1,"\\n                    "],[1,[30,9,["occupation"]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[11]]]]],[1,"\\n\\n"],[41,[30,6,["isViewerCurrentParticipant"]],[[[1,"                "],[8,[39,25],null,[["@cancelRemoveParticipantAction","@participantName","@removePartcipantTrackingControlName","@fireRemoveParticipantCustomTracking","@removeParticipantIsPending","@removeParticipantAction"],[[28,[37,26],[[30,0,["cancelRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null],[30,9,["name"]],[30,0,["removePartcipantTrackingControlName"]],[30,0,["fireRemoveParticipantCustomTracking"]],[30,0,["removeParticipantIsPending"]],[28,[37,26],[[30,0,["removeParticipant"]],[30,9,["memberUrn"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null]]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n"],[41,[30,6,["hasRemoveParticipant"]],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,27],null,[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[28,[37,26],[[30,0,["maybeRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,6],["i18n_remove","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"\\n                    "],[10,"li"],[12],[1,"\\n"],[1,"                      "],[8,[39,27],[[4,[38,17],[[30,0,["groupReportControlName"]]],null]],[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[28,[37,26],[[30,0,["reportConversationButtonClicked"]],[30,6,["conversationUrn"]],[30,9,["id"]]],null],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,6],["i18n_report","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[9,10]],null],[41,[30,6,["isViewerCurrentParticipant"]],[[[1,"            "],[10,"li"],[14,0,"msg-convo-details-modal__participant-card"],[12],[1,"\\n              "],[8,[39,21],null,[["@size","@class"],[3,"flex-grow-1"]],[["default"],[[[[1,"\\n                "],[8,[30,12,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n                  "],[8,[39,22],[[24,"data-control-name","view_profile"],[4,[38,23],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,6,["selfPublicIdentifier"]]]],[["default"],[[[[1,"\\n                    "],[8,[39,28],null,[["@imageClasses","@miniProfile","@size"],["msg-convo-details-modal__participant-img",[30,0,["authenticatedUser","miniProfile"]],3]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n                "],[8,[30,12,["content"]],null,null,[["default"],[[[[1,"\\n                  "],[8,[30,12,["title"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[39,22],[[24,"data-control-name","view_profile"],[4,[38,23],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,6,["selfPublicIdentifier"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                        "],[1,[28,[35,6],["i18n_participant_fullname","msg-shared-modals/components/convo-details-modal-presenter"],[["participant"],[[30,6,["selfName"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[30,0,["viewData","loggedInUserMemberLabel","text"]],[[[1,"                    "],[8,[30,12,["badge"]],null,[["@label"],[[30,0,["viewData","loggedInUserMemberLabel","text"]]]],null],[1,"\\n"]],[]],null],[1,"                  "],[8,[30,12,["subtitle"]],null,null,[["default"],[[[[1,"\\n                    "],[1,[30,6,["selfOccupation"]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[12]]]]],[1,"\\n"],[41,[30,0,["showLeaveConversationForSelf"]],[[[1,"                "],[8,[39,25],null,[["@cancelRemoveParticipantAction","@participantName","@removePartcipantTrackingControlName","@fireRemoveParticipantCustomTracking","@removeParticipantIsPending","@removeParticipantAction","@shouldShowTopDropdown"],[[28,[37,26],[[30,0,["cancelRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,0,["index"]]],null]],null],[30,6,["selfName"]],[30,0,["removePartcipantTrackingControlName"]],[30,0,["fireRemoveParticipantCustomTracking"]],[30,0,["removeParticipantIsPending"]],[28,[37,26],[[30,0,["removeParticipant"]],[30,0,["viewData","selfProfileUrn"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,0,["index"]]],null]],null],true]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,27],null,[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[30,0,["leaveConversationButtonClicked"]],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,6],["i18n_leave","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,4,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n      "],[10,0],[14,0,"display-flex justify-space-between align-items-center"],[12],[1,"\\n"],[41,[51,[30,6,["hasCreateNewGroupChat"]]],[[[1,"          "],[10,0],[14,0,"mr3"],[12],[1,"\\n            "],[8,[39,29],null,[["@type","@message"],["note",[28,[37,6],["i18n_conversation_history_notice_v4_with_a11y","msg-shared-modals/components/convo-details-modal-presenter"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,14],[[16,"data-control-name",[28,[37,5],[[30,0,["actionTrackingPrefix"]],"manage_participants_done"],null]]],[["@class","@click"],["msg-convo-details-modal__done",[28,[37,26],[[30,0,["addParticipants"]],true],null]]],[["default"],[[[[1,"\\n          "],[1,[28,[35,6],["i18n_done","msg-shared-modals/components/convo-details-modal-presenter"],null]],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[4]]]]],[1,"\\n\\n"],[1,"  "],[8,[39,30],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@primaryControlName","@secondaryControlName","@onPrimary","@onSecondary","@onEscape"],["msg-disable-group-chat-link-modal",[30,0,["isDisableGroupChatLinkModalOpen"]],[28,[37,6],["i18n_disable_link_title","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_disable_link_body","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_disable_link","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_cancel","msg-shared-modals/components/convo-details-modal-presenter"],null],"ltj_confirmation_yes","ltj_confirmation_cancel",[30,0,["onDisableGroupChatLinkModalConfirm"]],[30,0,["onDisableGroupChatLinkModalCancel"]],[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"ltj_confirmation_cancel"],null],[30,0,["onDisableGroupChatLinkModalCancel"]]]]]]],null],[1,"\\n\\n"],[1,"  "],[8,[39,30],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@primaryControlName","@secondaryControlName","@onPrimary","@onSecondary","@onEscape"],["msg-create-new-group-chat-modal",[30,0,["isCreateNewGroupChatModalOpen"]],[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_create_new_group_chat_notice_with_a11y","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_continue","msg-shared-modals/components/convo-details-modal-presenter"],null],[28,[37,6],["i18n_cancel","msg-shared-modals/components/convo-details-modal-presenter"],null],"frozenchat_continue","frozenchat_cancel",[30,0,["createNewGroupChat"]],[28,[37,15],[[30,0],"isCreateNewGroupChatModalOpen",false],null],[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"frozenchat_cancel"],null],[28,[37,15],[[30,0],"isCreateNewGroupChatModalOpen",false],null]]]]]],null],[1,"\\n"],[13]],["&attrs","@renderPageKey","@closeModal","modal","@isOverlay","@viewData","typeahead","typeahead","participantProps","index","elements","elements"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","if","app-aware-link@app-aware-link","image-view-model@image-view-model","did-insert","text-view-model@text-view-model","unless","artdeco-toggle@artdeco-toggle","artdeco-button@artdeco-button","ember-set-helper@set","msg-typeahead@connections-typeahead-feature","ember-cli-pemberly-tracking@track-interaction","msg-typeahead@connections-typeahead","each","-track-array","artdeco-entity-lockup@artdeco-entity-lockup","ember-engines@link-to-external","on","presence@entity-with-presence-presenter","msg-shared-modals@conversation-details-modal-presenter/participant-actions-dropdown-presenter","fn","artdeco-dropdown@artdeco-dropdown-item","presence@entity-with-presence","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"msg-shared-modals/components/convo-details-modal-presenter.hbs",isStrictMode:!1}),{ACTION_TYPES:{ADD:X},CONTROL_NAMES:{ACTIONS:Q}}=g.default
let J=(v=(0,l.inject)("lix"),k=(0,l.inject)("authentication@authenticated-user"),w=(0,l.inject)("msg-data@data-manager"),C=(0,l.inject)("msg-overlay-manager@msg-overlay-manager"),P=(0,l.inject)("tracking"),T=(0,l.inject)("i18n"),O=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),M=(0,l.inject)("global-services@clipboard"),D=(0,l.inject)("jet"),S=(0,l.inject)("rum"),R=class extends u.default{get useTypeaheadFeature(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-sdk-pre-work-typeahead")}constructor(){super(...arguments);(0,t.default)(this,"lix",I,this);(0,t.default)(this,"authenticatedUser",E,this);(0,t.default)(this,"msgDataManager",x,this);(0,t.default)(this,"msgOverlay",A,this);(0,t.default)(this,"tracking",N,this);(0,t.default)(this,"i18n",L,this);(0,t.default)(this,"persistentToastManager",j,this);(0,t.default)(this,"clipboard",z,this);(0,t.default)(this,"jet",U,this);(0,t.default)(this,"rum",F,this);(0,t.default)(this,"recipients",G,this);(0,t.default)(this,"newParticipants",H,this);(0,t.default)(this,"participantDistances",B,this);(0,t.default)(this,"groupChatLink",W,this);(0,t.default)(this,"isGroupChatLinkLoading",K,this);(0,t.default)(this,"isGroupChatLinkToggleDisabled",V,this);(0,t.default)(this,"isDisableGroupChatLinkModalOpen",q,this);(0,t.default)(this,"removeParticipantIsPending",$,this);(0,t.default)(this,"isGroupChatLinkToggledOn",Y,this)
if(this.args.viewData.hasCreateGroupChatLink){this._getGroupChatLink()
this.clipboard.init()}this.perfMeasurement=this.rum.startPerfMeasurement("messaging-convo-details-modal-open")}get elementItemPrefix(){return`${(0,m.guidFor)(this)}_`}get actionTrackingPrefix(){var e
return null!==(e=this.args.actionTrackingPrefix)&&void 0!==e?e:""}get trackingModuleName(){var e
return null!==(e=this.args.trackingModuleName)&&void 0!==e?e:""}get addPartcipantTrackingControlName(){return`${this.actionTrackingPrefix}manage_participants_add`}get removePartcipantTrackingControlName(){return`${this.actionTrackingPrefix}remove_participants`}get noRecipientsInTypeahead(){return!this.newParticipants||this.newParticipants.length<1}get showLeaveConversationForSelf(){return this.args.viewData.isViewerCurrentParticipant&&this.args.viewData.totalParticipantsCount>=1}get groupReportControlName(){var e
return`${null!==(e=this.actionTrackingPrefix)&&void 0!==e?e:""}group_report`}didParticipantListInsert(){this.perfMeasurement&&!this.perfMeasurement.isClosed&&this.rum.endPerfMeasurement(this.perfMeasurement)}_createGroupChatLink(){if(h.default){this.isGroupChatLinkLoading=!0
this.isGroupChatLinkToggleDisabled=!0
const{conversationId:e}=this.args.viewData
this.msgDataManager.createGroupChatAccessCode(e).then((e=>{if(!this.isDestroying){this._setGroupChatLink((0,s.get)(e,"data.value.accessCodeLink"))
this.copyGroupChatLink()}})).catch((t=>{if(!this.isDestroying){const{i18n:n,persistentToastManager:i}=this,a=(0,_.default)(t)||n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_create_unsuccessful")()
i.error({message:a})
this._setGroupChatLink(void 0)
this.jet.error(t,[a,`conversationId: ${e}`,"messenger-group-chat"])
throw t}}))}}_disableGroupChatLink(){if(h.default){this.isGroupChatLinkToggleDisabled=!0
const{conversationId:e}=this.args.viewData
this.msgDataManager.deleteGroupChatAccessCode(e).then((()=>{this.isDestroying||this._setGroupChatLink(void 0)})).catch((t=>{if(!this.isDestroying){const{i18n:n,persistentToastManager:i}=this,a=(0,_.default)(t)||n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_delete_unsuccessful")()
i.error({message:a})
this.isGroupChatLinkToggleDisabled=!1
this.jet.error(t,[a,`conversationId: ${e}`,"messenger-group-chat"])
throw t}}))}}_getGroupChatLink(){if(h.default){this.isGroupChatLinkLoading=!0
this.isGroupChatLinkToggleDisabled=!0
const{conversationId:e}=this.args.viewData
this.groupChatLinkFetchRequest=this.msgDataManager.fetchGroupChatAccessCode(e).then((e=>{this.isDestroying||this._setGroupChatLink((0,s.get)(e,"data.accessCodeLink"))})).catch((t=>{const n=(0,_.default)(t)
n&&this.persistentToastManager.error({message:n})
this.jet.error(t,[n,`conversationId: ${e}`,"messenger-group-chat"])
throw t}))}}_setGroupChatLink(e){this.groupChatLink=e
this.isGroupChatLinkToggledOn=void 0!==e
this.isGroupChatLinkLoading=!1
this.isGroupChatLinkToggleDisabled=!1}toggleGroupChatLink(e){this.isGroupChatLinkToggledOn=e
if(this.groupChatLink){this.isDisableGroupChatLinkModalOpen=!0
this.tracking.fireInteractionEvent(`${this.actionTrackingPrefix}ltj_turnoff`)}else{this._createGroupChatLink()
this.tracking.fireInteractionEvent(`${this.actionTrackingPrefix}ltj_turnon`)}}onDisableGroupChatLinkModalConfirm(){this._disableGroupChatLink()
this.isDisableGroupChatLinkModalOpen=!1
this.isGroupChatLinkToggledOn=!1}onDisableGroupChatLinkModalCancel(){this.isDisableGroupChatLinkModalOpen=!1
this.isGroupChatLinkToggledOn=!0}copyGroupChatLink(){if(this.clipboard.copyToClipboard(this.groupChatLink)){const e=this.i18n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_copied")()
this.persistentToastManager.success({message:e})}else{const e=this.i18n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_copied_unsuccessful")()
this.persistentToastManager.error({message:e})}}recipientsChanged(e,t){this.newParticipants=e
this.addMessageRequestParticipants=t}addParticipants(e){if((0,d.isPresent)(this.newParticipants)){const{conversationId:t}=this.args.viewData
return this.msgDataManager.addParticipants(this.newParticipants.mapBy("entityUrn"),this.args.viewData.conversationUrn,this.addMessageRequestParticipants).then((()=>{if(!this.isDestroying){this.newParticipants=void 0
return this.msgDataManager.fetchConversation(t,{reload:!0})}return(0,y.resolve)()})).finally((()=>{if(!this.isDestroying){this.recipients=[]
e&&this.args.closeModal()}}))}e&&this.args.closeModal()
return!1}fireAddParticipantCustomTracking(){if(this.isDestroying)return[]
const e=X,t=`${this.actionTrackingPrefix}${Q.ADD_PARTICIPANTS}`
return(0,f.getDetailActionEventTrackingObject)({actionType:e,controlName:t,conversationObjectUrn:this.args.viewData.conversationBackendUrn,participantUrns:this.args.viewData.participantTrackingUrns,participantPresenceStatuses:this.args.viewData.participantPresenceStatuses,moduleKey:this.trackingModuleName,trackingService:this.tracking})}actionOnTypeaheadEnter(){if(h.default){const e=document.querySelector(".msg-convo-details-modal__add")
null==e||e.click()}}maybeRemoveParticipant(e){if(h.default){const t=document.getElementById(e);(0,b.whenRouteIdle)().then((()=>{t.classList.add("msg-participant-actions-dropdown-presenter__participant-card--confirming-delete")}))}}cancelRemoveParticipant(e){if(h.default){const t=document.getElementById(e);(0,b.whenRouteIdle)().then((()=>{t.classList.remove("msg-participant-actions-dropdown-presenter__participant-card--confirming-delete")}))}}removeParticipant(e){const{conversationId:t}=this.args.viewData
this.removeParticipantIsPending=!0
return this.msgDataManager.removeParticipants(e,this.args.viewData.conversationUrn).then((()=>this.msgDataManager.fetchConversation(t,{reload:!0}))).finally((()=>{this.removeParticipantIsPending=!1}))}fireRemoveParticipantCustomTracking(){if(this.isDestroying)return[]
const e=`${this.actionTrackingPrefix}${Q.REMOVE_PARTICIPANTS}`
return(0,f.getDetailActionEventTrackingObject)({actionType:"DELETE",controlName:e,conversationObjectUrn:this.args.viewData.conversationBackendUrn,participantUrns:this.args.viewData.participantTrackingUrns,participantPresenceStatuses:this.args.viewData.participantPresenceStatuses,moduleKey:this.trackingModuleName,trackingService:this.tracking})}leaveConversationButtonClicked(){this.args.leaveConversation(...arguments)
this.args.closeModal()}reportConversationButtonClicked(){this.args.reportConversation(...arguments)
this.args.closeModal()}createNewGroupChat(){this.args.closeModal()}makeHyperlinksOpenExternally(e){e.querySelectorAll("a").forEach((e=>e.setAttribute("target","_blank")))}},I=(0,i.default)(R.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(R.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(R.prototype,"msgDataManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(R.prototype,"msgOverlay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(R.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(R.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(R.prototype,"persistentToastManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(R.prototype,"clipboard",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(R.prototype,"jet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(R.prototype,"rum",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(R.prototype,"recipients",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=(0,i.default)(R.prototype,"newParticipants",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=(0,i.default)(R.prototype,"participantDistances",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=(0,i.default)(R.prototype,"groupChatLink",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(R.prototype,"isGroupChatLinkLoading",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=(0,i.default)(R.prototype,"isGroupChatLinkToggleDisabled",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=(0,i.default)(R.prototype,"isDisableGroupChatLinkModalOpen",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=(0,i.default)(R.prototype,"removeParticipantIsPending",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=(0,i.default)(R.prototype,"isGroupChatLinkToggledOn",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(R.prototype,"didParticipantListInsert",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"didParticipantListInsert"),R.prototype),(0,i.default)(R.prototype,"toggleGroupChatLink",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"toggleGroupChatLink"),R.prototype),(0,i.default)(R.prototype,"onDisableGroupChatLinkModalConfirm",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"onDisableGroupChatLinkModalConfirm"),R.prototype),(0,i.default)(R.prototype,"onDisableGroupChatLinkModalCancel",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"onDisableGroupChatLinkModalCancel"),R.prototype),(0,i.default)(R.prototype,"copyGroupChatLink",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"copyGroupChatLink"),R.prototype),(0,i.default)(R.prototype,"recipientsChanged",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"recipientsChanged"),R.prototype),(0,i.default)(R.prototype,"addParticipants",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"addParticipants"),R.prototype),(0,i.default)(R.prototype,"fireAddParticipantCustomTracking",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"fireAddParticipantCustomTracking"),R.prototype),(0,i.default)(R.prototype,"actionOnTypeaheadEnter",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"actionOnTypeaheadEnter"),R.prototype),(0,i.default)(R.prototype,"maybeRemoveParticipant",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"maybeRemoveParticipant"),R.prototype),(0,i.default)(R.prototype,"cancelRemoveParticipant",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"cancelRemoveParticipant"),R.prototype),(0,i.default)(R.prototype,"removeParticipant",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"removeParticipant"),R.prototype),(0,i.default)(R.prototype,"fireRemoveParticipantCustomTracking",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"fireRemoveParticipantCustomTracking"),R.prototype),(0,i.default)(R.prototype,"leaveConversationButtonClicked",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"leaveConversationButtonClicked"),R.prototype),(0,i.default)(R.prototype,"reportConversationButtonClicked",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"reportConversationButtonClicked"),R.prototype),(0,i.default)(R.prototype,"createNewGroupChat",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"createNewGroupChat"),R.prototype),(0,i.default)(R.prototype,"makeHyperlinksOpenExternally",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"makeHyperlinksOpenExternally"),R.prototype),R)
e.default=J;(0,r.setComponentTemplate)(Z,J)}))
define("msg-shared-modals/components/convo-details-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/tracking","@ember/utils","@ember/debug","@glimmer/component","@ember/object/internals","msg-shared/utils/constants","global-utils/utils/is-browser","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","ember-app-scheduler","msg-shared/utils/user-visible-exception-helper","rsvp"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f,b,_,y,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F,G,H,B,W,K,V,q,$,Y,Z
const X=(0,o.createTemplateFactory)({id:"8FRLPAz7",block:'[[[11,0],[17,1],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,2],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,3],null,[["@isOpen","@modalClasses","@headerId","@size","@dismissModal"],[true,"msg-convo-details-modal","msg-convo-details-modal","large",[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"manage_participants_dismiss"],null],[30,3]]]]]],[["default"],[[[[1,"\\n    "],[8,[30,4,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-convo-details-modal"],[12],[1,"\\n        "],[1,[28,[35,6],["i18n_convo_details_modal_title","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,4,["artdeco-modal-content"]],null,[["@classNames"],[[29,["msg-convo-details-modal__content p0 ",[52,[30,5],"from-overlay","from-pillar"]]]]],[["default"],[[[[1,"\\n"],[41,[30,6,["contextText"]],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__context-info-container"],[12],[1,"\\n          "],[10,"h6"],[14,0,"t-black--light t-bold"],[12],[1,[28,[35,6],["i18n_context_information_section_header","msg-shared-modals/components/convo-details-modal"],null]],[13],[1,"\\n\\n          "],[10,0],[14,0,"display-flex align-items-center pt2"],[12],[1,"\\n"],[41,[30,6,["contextImage"]],[[[1,"              "],[8,[39,8],[[24,0,"mr2"]],[["@href"],[[30,6,["contextImage","actionTarget"]]]],[["default"],[[[[1,"\\n                "],[8,[39,9],null,[["@entitySize","@images"],[3,[30,6,["contextImage"]]]],null],[1,"\\n              "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[11,0],[24,0,"t-14"],[4,[38,10],[[30,0,["makeHyperlinksOpenExternally"]]],null],[12],[1,"\\n              "],[1,[28,[35,11],[[30,6,["contextText"]]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[41,[28,[37,12],[[30,6,["featureTypes"]],"CREATE_GROUP_CHAT_LINK"],null],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link-container pl5"],[12],[1,"\\n          "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link-toggle justify-space-between display-flex pt3 pb4"],[12],[1,"\\n            "],[10,0],[12],[1,"\\n              "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,[28,[35,6],["i18n_group_chat_link_toggle_label","msg-shared-modals/components/convo-details-modal"],null]],[13],[1,"\\n\\n"],[41,[51,[30,0,["isGroupChatLinkToggledOn"]]],[[[1,"                "],[10,2],[14,0,"t-14 t-black--light t-normal pt1"],[12],[1,[28,[35,6],["i18n_group_chat_link_toggle_label_turn_on","msg-shared-modals/components/convo-details-modal"],null]],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n            "],[10,0],[14,0,"cursor-pointer"],[12],[1,"\\n              "],[8,[39,14],null,[["@class","@disabled","@isLabelHidden","@labelText","@onToggle","@size","@toggled","@toggleId"],["align-self-flex-start mr5",[30,0,["isGroupChatLinkToggleDisabled"]],true,[52,[30,0,["groupChatLink"]],[28,[37,6],["i18n_group_chat_link_toggle_state_on","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_group_chat_link_toggle_state_off","msg-shared-modals/components/convo-details-modal"],null]],[30,0,["toggleGroupChatLink"]],"24dp",[30,0,["isGroupChatLinkToggledOn"]],"msg-group-chat-link__toggle"]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,0,["isGroupChatLinkToggledOn"]],[[[1,"            "],[10,0],[14,0,"msg-convo-details-modal__group-chat-link--enabled justify-space-between display-flex pt4 pb3"],[12],[1,"\\n              "],[10,0],[12],[1,"\\n                "],[10,2],[15,0,[29,["t-16 msg-convo-details-modal__group-chat-link-text\\n                    ",[52,[30,0,["isGroupChatLinkLoading"]],"t-black--light","t-black"]]]],[12],[1,"\\n"],[41,[30,0,["isGroupChatLinkLoading"]],[[[1,"                    "],[1,[28,[35,6],["i18n_group_chat_link_generating","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n"]],[]],[[[1,"                    "],[1,[30,0,["groupChatLink"]]],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"t-14 pv1 t-black--light"],[12],[1,"\\n                  "],[1,[28,[35,6],["i18n_group_chat_link_description_enabled","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[8,[39,15],[[24,"data-control-name","ltj_share"],[16,"aria-label",[28,[37,6],["i18n_group_chat_link_copy_button_message","msg-shared-modals/components/convo-details-modal"],null]]],[["@disabled","@id","@class","@click","@size","@type","@text"],[[30,0,["isGroupChatLinkLoading"]],"msg-group-chat-link-copy","msg-convo-details-modal__group-chat-link-copy-btn align-self-flex-start mh4",[30,0,["copyGroupChatLink"]],2,"tertiary",[28,[37,6],["i18n_group_chat_link_copy","msg-shared-modals/components/convo-details-modal"],null]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"display-flex justify-space-between align-items-center mh5 mv2"],[12],[1,"\\n        "],[10,"h3"],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n          "],[1,[28,[35,6],["i18n_num_participants_title","msg-shared-modals/components/convo-details-modal"],[["count"],[[28,[37,16],[[30,6]],null]]]]],[1,"\\n        "],[13],[1,"\\n"],[41,[28,[37,12],[[30,6,["featureTypes"]],"CREATE_NEW_GROUP_CHAT"],null],[[[1,"          "],[8,[39,15],[[16,"aria-label",[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal"],null]],[16,"data-control-name",[28,[37,5],[[30,0,["actionTrackingPrefix"]],"frozenchat_create_new_group_chat"],null]]],[["@click","@text","@type"],[[28,[37,17],[[30,0],"isCreateNewGroupChatModalOpen",true],null],[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal"],null],"tertiary"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[28,[37,12],[[30,6,["featureTypes"]],"ADD_PARTICIPANT"],null],[[[1,"        "],[10,0],[14,0,"msg-convo-details-modal__add-participant-container"],[12],[1,"\\n          "],[10,0],[14,0,"msg-connections-typeahead__added-recipients-container display-flex justify-space-between"],[12],[1,"\\n"],[41,[30,0,["useTypeaheadFeature"]],[[[1,"              "],[8,[39,18],[[24,0,"msg-convo-details-modal__lookup-form"]],[["@a11yText","@actionOnTypeaheadEnter","@onRecipientsCommit","@placeholder","@prefilledRecipients","@recipientsToFilterOut","@recipientsChanged","@includeCoworkerResults","@enableGroupMessageRequests"],[[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal"],null],[30,0,["actionOnTypeaheadEnter"]],[30,0,["addParticipants"]],[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal"],null],[30,0,["recipients"]],[30,0,["participantProfiles"]],[30,0,["recipientsChanged"]],true,true]],[["default"],[[[[1,"\\n                "],[8,[39,15],[[4,[38,19],[[30,0,["addPartcipantTrackingControlName"]]],[["onInteract"],[[30,0,["fireAddParticipantCustomTracking"]]]]]],[["@class","@text","@click","@disabled"],["msg-convo-details-modal__add ml2 flex-shrink-zero",[28,[37,6],["i18n_add","msg-shared-modals/components/convo-details-modal"],null],[30,7,["commitAddedRecipients"]],[30,0,["noRecipientsInTypeahead"]]]],null],[1,"\\n              "]],[7]]]]],[1,"\\n"]],[]],[[[1,"              "],[8,[39,20],[[24,0,"msg-convo-details-modal__lookup-form"]],[["@a11yText","@actionOnTypeaheadEnter","@onRecipientsCommit","@placeholder","@prefilledRecipients","@recipientsToFilterOut","@recipientsChanged","@includeCoworkerResults","@enableGroupMessageRequests"],[[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal"],null],[30,0,["actionOnTypeaheadEnter"]],[30,0,["addParticipants"]],[28,[37,6],["i18n_add_participant_search","msg-shared-modals/components/convo-details-modal"],null],[30,0,["recipients"]],[30,0,["participantProfiles"]],[30,0,["recipientsChanged"]],true,true]],[["default"],[[[[1,"\\n                "],[8,[39,15],[[4,[38,19],[[30,0,["addPartcipantTrackingControlName"]]],[["onInteract"],[[30,0,["fireAddParticipantCustomTracking"]]]]]],[["@class","@text","@click","@disabled"],["msg-convo-details-modal__add ml2 flex-shrink-zero",[28,[37,6],["i18n_add","msg-shared-modals/components/convo-details-modal"],null],[30,8,["commitAddedRecipients"]],[30,0,["noRecipientsInTypeahead"]]]],null],[1,"\\n              "]],[8]]]]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"msg-convo-details-modal__participants pl5"],[12],[1,"\\n        "],[11,"ul"],[24,0,"msg-convo-details-modal__participants-list"],[4,[38,10],[[30,0,["didParticipantListInsert"]]],null],[12],[1,"\\n"],[42,[28,[37,22],[[28,[37,22],[[30,0,["participants"]]],null]],null],null,[[[1,"            "],[10,"li"],[15,1,[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],[14,0,"msg-convo-details-modal__participant-card"],[12],[1,"\\n              "],[8,[39,23],null,[["@size","@class"],[3,"flex-grow-1"]],[["default"],[[[[1,"\\n                "],[8,[30,11,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n                  "],[8,[39,24],[[24,"data-control-name","view_profile"],[4,[38,25],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,9,["messagingMember","miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n                    "],[8,[39,26],null,[["@imageClasses","@miniProfile","@size"],["msg-convo-details-modal__participant-img",[30,9,["messagingMember","miniProfile"]],3]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n                "],[8,[30,11,["content"]],null,null,[["default"],[[[[1,"\\n                  "],[8,[30,11,["title"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[39,24],[[24,"data-control-name","view_profile"],[4,[38,25],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,9,["messagingMember","miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                        "],[1,[28,[35,6],["i18n_participant_fullname","msg-shared-modals/components/convo-details-modal"],[["participant"],[[28,[37,27],[[30,9,["messagingMember","miniProfile"]]],null]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[30,9,["distance","value"]],[[[1,"                    "],[8,[30,11,["badge"]],null,[["@degreeText","@degreeA11yText","@label"],[[28,[37,6],["i18n_distance","msg-shared-modals/components/convo-details-modal"],[["distance"],[[30,9,["distance","value"]]]]],[28,[37,6],["i18n_distance_a11y","msg-shared-modals/components/convo-details-modal"],[["distance"],[[30,9,["distance","value"]]]]],[30,9,["memberLabelTextViewModel","text"]]]],null],[1,"\\n"]],[]],null],[1,"                  "],[8,[30,11,["subtitle"]],null,null,[["default"],[[[[1,"\\n                    "],[1,[30,9,["messagingMember","miniProfile","occupation"]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[11]]]]],[1,"\\n\\n"],[41,[30,6,["viewerCurrentParticipant"]],[[[1,"                "],[8,[39,28],null,[["@cancelRemoveParticipantAction","@participantName","@removePartcipantTrackingControlName","@fireRemoveParticipantCustomTracking","@removeParticipantIsPending","@removeParticipantAction"],[[28,[37,29],[[30,0,["cancelRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null],[28,[37,27],[[30,9,["messagingMember","miniProfile"]]],null],[30,0,["removePartcipantTrackingControlName"]],[30,0,["fireRemoveParticipantCustomTracking"]],[30,0,["removeParticipantIsPending"]],[28,[37,29],[[30,0,["removeParticipant"]],[30,9,["messagingMember"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null]]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n"],[41,[28,[37,12],[[30,6,["featureTypes"]],"REMOVE_PARTICIPANT"],null],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,30],null,[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[28,[37,29],[[30,0,["maybeRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,10]],null]],null],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,6],["i18n_remove","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,30],[[4,[38,19],[[30,0,["groupReportControlName"]]],null]],[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[28,[37,29],[[30,0,["reportConversationButtonClicked"]],[30,6],[30,9,["messagingMember"]]],null],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,6],["i18n_report","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[9,10]],null],[41,[30,6,["viewerCurrentParticipant"]],[[[1,"            "],[10,"li"],[14,0,"msg-convo-details-modal__participant-card"],[12],[1,"\\n              "],[8,[39,23],null,[["@size","@class"],[3,"flex-grow-1"]],[["default"],[[[[1,"\\n                "],[8,[30,12,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n                  "],[8,[39,24],[[24,"data-control-name","view_profile"],[4,[38,25],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,0,["authenticatedUser","miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n                    "],[8,[39,26],null,[["@imageClasses","@miniProfile","@size"],["msg-convo-details-modal__participant-img",[30,0,["authenticatedUser","miniProfile"]],3]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n                "],[8,[30,12,["content"]],null,null,[["default"],[[[[1,"\\n                  "],[8,[30,12,["title"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[39,24],[[24,"data-control-name","view_profile"],[4,[38,25],["click",[30,3]],null]],[["@route","@model"],["profile.common.profile",[30,0,["authenticatedUser","miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                        "],[1,[28,[35,6],["i18n_participant_fullname","msg-shared-modals/components/convo-details-modal"],[["participant"],[[28,[37,27],[[30,0,["authenticatedUser","miniProfile"]]],null]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[30,0,["loggedInUserMemberLabel","text"]],[[[1,"                    "],[8,[30,12,["badge"]],null,[["@label"],[[30,0,["loggedInUserMemberLabel","text"]]]],null],[1,"\\n"]],[]],null],[1,"                  "],[8,[30,12,["subtitle"]],null,null,[["default"],[[[[1,"\\n                    "],[1,[30,0,["authenticatedUser","miniProfile","occupation"]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[12]]]]],[1,"\\n"],[41,[30,0,["showLeaveConversationForSelf"]],[[[1,"                "],[8,[39,28],null,[["@cancelRemoveParticipantAction","@participantName","@removePartcipantTrackingControlName","@fireRemoveParticipantCustomTracking","@removeParticipantIsPending","@removeParticipantAction","@shouldShowTopDropdown"],[[28,[37,29],[[30,0,["cancelRemoveParticipant"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,0,["index"]]],null]],null],[28,[37,27],[[30,0,["authenticatedUser","miniProfile"]]],null],[30,0,["removePartcipantTrackingControlName"]],[30,0,["fireRemoveParticipantCustomTracking"]],[30,0,["removeParticipantIsPending"]],[28,[37,29],[[30,0,["removeParticipant"]],[30,0,["participant","messagingMember"]],[28,[37,5],[[30,0,["elementItemPrefix"]],[30,0,["index"]]],null]],null],true]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,30],null,[["@class","@itemSelected","@role"],["msg-convo-details-modal__dropdown-option",[30,0,["leaveConversationButtonClicked"]],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,6],["i18n_leave","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,4,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n      "],[10,0],[14,0,"display-flex justify-space-between align-items-center"],[12],[1,"\\n"],[41,[51,[30,0,["hasNewGroupChatFeature"]]],[[[1,"          "],[10,0],[14,0,"mr3"],[12],[1,"\\n            "],[8,[39,31],null,[["@type","@message"],["note",[28,[37,6],["i18n_conversation_history_notice_v4_with_a11y","msg-shared-modals/components/convo-details-modal"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,15],[[16,"data-control-name",[28,[37,5],[[30,0,["actionTrackingPrefix"]],"manage_participants_done"],null]]],[["@class","@click"],["msg-convo-details-modal__done",[28,[37,29],[[30,0,["addParticipants"]],true],null]]],[["default"],[[[[1,"\\n          "],[1,[28,[35,6],["i18n_done","msg-shared-modals/components/convo-details-modal"],null]],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[4]]]]],[1,"\\n\\n"],[1,"  "],[8,[39,32],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@primaryControlName","@secondaryControlName","@onPrimary","@onSecondary","@onEscape"],["msg-disable-group-chat-link-modal",[30,0,["isDisableGroupChatLinkModalOpen"]],[28,[37,6],["i18n_disable_link_title","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_disable_link_body","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_disable_link","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_cancel","msg-shared-modals/components/convo-details-modal"],null],"ltj_confirmation_yes","ltj_confirmation_cancel",[30,0,["onDisableGroupChatLinkModalConfirm"]],[30,0,["onDisableGroupChatLinkModalCancel"]],[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"ltj_confirmation_cancel"],null],[30,0,["onDisableGroupChatLinkModalCancel"]]]]]]],null],[1,"\\n\\n"],[1,"  "],[8,[39,32],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@primaryControlName","@secondaryControlName","@onPrimary","@onSecondary","@onEscape"],["msg-create-new-group-chat-modal",[30,0,["isCreateNewGroupChatModalOpen"]],[28,[37,6],["i18n_add_people","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_create_new_group_chat_notice_with_a11y","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_continue","msg-shared-modals/components/convo-details-modal"],null],[28,[37,6],["i18n_cancel","msg-shared-modals/components/convo-details-modal"],null],"frozenchat_continue","frozenchat_cancel",[30,0,["createNewGroupChat"]],[28,[37,17],[[30,0],"isCreateNewGroupChatModalOpen",false],null],[28,[37,4],null,[["controlName","action"],[[28,[37,5],[[30,0,["actionTrackingPrefix"]],"frozenchat_cancel"],null],[28,[37,17],[[30,0],"isCreateNewGroupChatModalOpen",false],null]]]]]],null],[1,"\\n"],[13]],["&attrs","@renderPageKey","@closeModal","modal","@isOverlay","@conversation","typeahead","typeahead","participant","index","elements","elements"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","if","app-aware-link@app-aware-link","image-view-model@image-view-model","did-insert","text-view-model@text-view-model","global-helpers@includes","unless","artdeco-toggle@artdeco-toggle","artdeco-button@artdeco-button","msg-shared@get-total-participants-count","ember-set-helper@set","msg-typeahead@connections-typeahead-feature","ember-cli-pemberly-tracking@track-interaction","msg-typeahead@connections-typeahead","each","-track-array","artdeco-entity-lockup@artdeco-entity-lockup","ember-engines@link-to-external","on","presence@entity-with-presence","global-helpers@name","msg-shared-modals@conversation-details-modal-presenter/participant-actions-dropdown-presenter","fn","artdeco-dropdown@artdeco-dropdown-item","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"msg-shared-modals/components/convo-details-modal.hbs",isStrictMode:!1}),{ACTION_TYPES:{ADD:Q},CONTROL_NAMES:{ACTIONS:J}}=g.default
let ee=(k=(0,l.inject)("lix"),w=(0,l.inject)("authentication@authenticated-user"),C=(0,l.inject)("msg-data@data-manager"),P=(0,l.inject)("msg-overlay-manager@msg-overlay-manager"),T=(0,l.inject)("tracking"),O=(0,l.inject)("i18n"),M=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),D=(0,l.inject)("global-services@clipboard"),S=(0,l.inject)("jet"),R=(0,l.inject)("rum"),I=class extends u.default{get hasNewGroupChatFeature(){return(0,s.get)(this.args,"conversation.featureTypes").includes("CREATE_NEW_GROUP_CHAT")}get useTypeaheadFeature(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-sdk-pre-work-typeahead")}constructor(){super(...arguments);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"authenticatedUser",x,this);(0,t.default)(this,"msgDataManager",A,this);(0,t.default)(this,"msgOverlay",N,this);(0,t.default)(this,"tracking",L,this);(0,t.default)(this,"i18n",j,this);(0,t.default)(this,"persistentToastManager",z,this);(0,t.default)(this,"clipboard",U,this);(0,t.default)(this,"jet",F,this);(0,t.default)(this,"rum",G,this);(0,t.default)(this,"recipients",H,this);(0,t.default)(this,"newParticipants",B,this);(0,t.default)(this,"participantDistances",W,this);(0,t.default)(this,"groupChatLink",K,this);(0,t.default)(this,"isGroupChatLinkLoading",V,this);(0,t.default)(this,"isGroupChatLinkToggleDisabled",q,this);(0,t.default)(this,"isDisableGroupChatLinkModalOpen",$,this);(0,t.default)(this,"removeParticipantIsPending",Y,this);(0,t.default)(this,"isGroupChatLinkToggledOn",Z,this)
this._fetchParticipantDistances()
if((0,s.get)(this.args,"conversation.featureTypes").includes("CREATE_GROUP_CHAT_LINK")){this._getGroupChatLink()
this.clipboard.init()}this.perfMeasurement=this.rum.startPerfMeasurement("messaging-convo-details-modal-open")}get elementItemPrefix(){return`${(0,m.guidFor)(this)}_`}get actionTrackingPrefix(){var e
return null!==(e=this.args.actionTrackingPrefix)&&void 0!==e?e:""}get trackingModuleName(){var e
return null!==(e=this.args.trackingModuleName)&&void 0!==e?e:""}get addPartcipantTrackingControlName(){return`${this.actionTrackingPrefix}manage_participants_add`}get removePartcipantTrackingControlName(){return`${this.actionTrackingPrefix}remove_participants`}get noRecipientsInTypeahead(){return!this.newParticipants||this.newParticipants.length<1}get participants(){const e=(0,s.get)(this,"participantDistances.length")?this.participantDistances.reduce(((e,t)=>{e[(0,s.get)(t,"participantProfileUrn")]=(0,s.get)(t,"distance")
return e}),{}):{}
return(0,s.get)(this.args,"conversation.participants").map((t=>{const n=(0,s.get)(t,"miniProfile.entityUrn")
return{messagingMember:t,distance:e[n],memberLabelTextViewModel:this._findMemberLabelTextViewModelByMiniProfileUrn(n)}}))}get participantProfiles(){return(0,s.get)(this.args,"conversation.participants").mapBy("miniProfile")}get loggedInUserMemberLabel(){return this._findMemberLabelTextViewModelByMiniProfileUrn((0,s.get)(this,"authenticatedUser.miniProfile.entityUrn"))}get showLeaveConversationForSelf(){return(0,s.get)(this.args,"conversation.viewerCurrentParticipant")&&(0,s.get)(this.args,"conversation.participants.length")>=1}get groupReportControlName(){var e
return`${null!==(e=this.actionTrackingPrefix)&&void 0!==e?e:""}group_report`}didParticipantListInsert(){this.perfMeasurement&&!this.perfMeasurement.isClosed&&this.rum.endPerfMeasurement(this.perfMeasurement)}_fetchParticipantDistances(){this.msgDataManager.fetchConversationParticipants((0,s.get)(this.args,"conversation.entityUrn")).then((e=>{if(this.isDestroying)return
const t=(0,s.get)(e,"content")
t&&(this.participantDistances=t.map((e=>({participantProfileUrn:(0,s.get)(e,"value.messagingMember.miniProfile.entityUrn"),distance:(0,s.get)(e,"value.distance")}))))}))}_createGroupChatLink(){if(h.default){this.isGroupChatLinkLoading=!0
this.isGroupChatLinkToggleDisabled=!0
const e=(0,s.get)(this.args,"conversation.id")
this.msgDataManager.createGroupChatAccessCode(e).then((e=>{if(!this.isDestroying){this._setGroupChatLink((0,s.get)(e,"data.value.accessCodeLink"))
this.copyGroupChatLink()}})).catch((t=>{if(!this.isDestroying){const{i18n:n,persistentToastManager:i}=this,a=(0,y.default)(t)||n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_create_unsuccessful")()
i.error({message:a})
this._setGroupChatLink(void 0)
this.jet.error(t,[a,`conversationId: ${e}`,"messenger-group-chat"])
throw t}}))}}_disableGroupChatLink(){if(h.default){this.isGroupChatLinkToggleDisabled=!0
const e=(0,s.get)(this.args,"conversation.id")
this.msgDataManager.deleteGroupChatAccessCode(e).then((()=>{this.isDestroying||this._setGroupChatLink(void 0)})).catch((t=>{if(!this.isDestroying){const{i18n:n,persistentToastManager:i}=this,a=(0,y.default)(t)||n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_delete_unsuccessful")()
i.error({message:a})
this.isGroupChatLinkToggleDisabled=!1
this.jet.error(t,[a,`conversationId: ${e}`,"messenger-group-chat"])
throw t}}))}}_getGroupChatLink(){if(h.default){this.isGroupChatLinkLoading=!0
this.isGroupChatLinkToggleDisabled=!0
const e=(0,s.get)(this.args,"conversation.id")
this.groupChatLinkFetchRequest=this.msgDataManager.fetchGroupChatAccessCode(e).then((e=>{this.isDestroying||this._setGroupChatLink((0,s.get)(e,"data.accessCodeLink"))})).catch((t=>{const n=(0,y.default)(t)
n&&this.persistentToastManager.error({message:n})
this.jet.error(t,[n,`conversationId: ${e}`,"messenger-group-chat"])
throw t}))}}_setGroupChatLink(e){this.groupChatLink=e
this.isGroupChatLinkToggledOn=void 0!==e
this.isGroupChatLinkLoading=!1
this.isGroupChatLinkToggleDisabled=!1}toggleGroupChatLink(e){this.isGroupChatLinkToggledOn=e
if(this.groupChatLink){this.isDisableGroupChatLinkModalOpen=!0
this.tracking.fireInteractionEvent(`${this.actionTrackingPrefix}ltj_turnoff`)}else{this._createGroupChatLink()
this.tracking.fireInteractionEvent(`${this.actionTrackingPrefix}ltj_turnon`)}}onDisableGroupChatLinkModalConfirm(){this._disableGroupChatLink()
this.isDisableGroupChatLinkModalOpen=!1
this.isGroupChatLinkToggledOn=!1}onDisableGroupChatLinkModalCancel(){this.isDisableGroupChatLinkModalOpen=!1
this.isGroupChatLinkToggledOn=!0}copyGroupChatLink(){if(this.clipboard.copyToClipboard(this.groupChatLink)){const e=this.i18n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_copied")()
this.persistentToastManager.success({message:e})}else{const e=this.i18n.lookupTranslation("components/msg-shared-modals@convo-details-modal","i18n_link_copied_unsuccessful")()
this.persistentToastManager.error({message:e})}}recipientsChanged(e,t){this.newParticipants=e
this.addMessageRequestParticipants=t}addParticipants(e){if((0,d.isPresent)(this.newParticipants)){const t=(0,s.get)(this.args.conversation,"id")
return this.msgDataManager.addParticipants(this.newParticipants.mapBy("entityUrn"),(0,s.get)(this.args.conversation,"entityUrn"),this.addMessageRequestParticipants).then((()=>{if(!this.isDestroying){this._fetchParticipantDistances()
this.newParticipants=void 0
return this.msgDataManager.fetchConversation(t,{reload:!0})}return(0,v.resolve)()})).finally((()=>{if(!this.isDestroying){this.recipients=[]
e&&this.args.closeModal()}}))}e&&this.args.closeModal()
return!1}fireAddParticipantCustomTracking(){if(this.isDestroying)return[]
const{conversation:e}=this.args,t=Q,n=`${this.actionTrackingPrefix}${J.ADD_PARTICIPANTS}`
return(0,f.getDetailActionEventTrackingObject)({actionType:t,controlName:n,conversationObjectUrn:(0,s.get)(e,"backendUrn"),participantUrns:(0,f.getParticipantTrackingUrns)((0,s.get)(e,"participants")),participantPresenceStatuses:(0,b.getParticipantPresenceStatuses)(e),moduleKey:this.trackingModuleName,trackingService:this.tracking})}actionOnTypeaheadEnter(){if(h.default){const e=document.querySelector(".msg-convo-details-modal__add")
null==e||e.click()}}maybeRemoveParticipant(e){if(h.default){const t=document.getElementById(e);(0,_.whenRouteIdle)().then((()=>{t.classList.add("msg-participant-actions-dropdown-presenter__participant-card--confirming-delete")}))}}cancelRemoveParticipant(e){if(h.default){const t=document.getElementById(e);(0,_.whenRouteIdle)().then((()=>{t.classList.remove("msg-participant-actions-dropdown-presenter__participant-card--confirming-delete")}))}}removeParticipant(e){const t=[(0,s.get)(e,"miniProfile")],n=(0,s.get)(this.args.conversation,"id")
this.removeParticipantIsPending=!0
return this.msgDataManager.removeParticipants(t.mapBy("entityUrn"),(0,s.get)(this.args.conversation,"entityUrn")).then((()=>this.msgDataManager.fetchConversation(n,{reload:!0}))).finally((()=>{this.removeParticipantIsPending=!1}))}fireRemoveParticipantCustomTracking(){if(this.isDestroying)return[]
const{conversation:e}=this.args,t=`${this.actionTrackingPrefix}${J.REMOVE_PARTICIPANTS}`
return(0,f.getDetailActionEventTrackingObject)({actionType:"DELETE",controlName:t,conversationObjectUrn:(0,s.get)(e,"backendUrn"),participantUrns:(0,f.getParticipantTrackingUrns)((0,s.get)(e,"participants")),participantPresenceStatuses:(0,b.getParticipantPresenceStatuses)(e),moduleKey:this.trackingModuleName,trackingService:this.tracking})}leaveConversationButtonClicked(){this.args.leaveConversation(...arguments)
this.args.closeModal()}reportConversationButtonClicked(){this.args.reportConversation(...arguments)
this.args.closeModal()}createNewGroupChat(){const e=this.participants.filterBy("distance.value","DISTANCE_1").mapBy("messagingMember.miniProfile")
this.args.closeModal()
this.msgOverlay.triggerNewConversation({messageRecipients:e,showGroupEditScreen:!0,isJumbo:!0})}makeHyperlinksOpenExternally(e){e.querySelectorAll("a").forEach((e=>e.setAttribute("target","_blank")))}_findMemberLabelTextViewModelByMiniProfileUrn(e){const t=(0,s.get)(this.args,"conversation.associatedMemberLabels")
if(!t)return
const n=t.findBy("miniProfileUrn",e)
return n?(0,s.get)(n,"labelName"):void 0}},E=(0,i.default)(I.prototype,"lix",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(I.prototype,"authenticatedUser",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(I.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(I.prototype,"msgOverlay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(I.prototype,"tracking",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(I.prototype,"i18n",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(I.prototype,"persistentToastManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(I.prototype,"clipboard",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(I.prototype,"jet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(I.prototype,"rum",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(I.prototype,"recipients",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=(0,i.default)(I.prototype,"newParticipants",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=(0,i.default)(I.prototype,"participantDistances",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=(0,i.default)(I.prototype,"groupChatLink",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(I.prototype,"isGroupChatLinkLoading",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=(0,i.default)(I.prototype,"isGroupChatLinkToggleDisabled",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=(0,i.default)(I.prototype,"isDisableGroupChatLinkModalOpen",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=(0,i.default)(I.prototype,"removeParticipantIsPending",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=(0,i.default)(I.prototype,"isGroupChatLinkToggledOn",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(I.prototype,"didParticipantListInsert",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"didParticipantListInsert"),I.prototype),(0,i.default)(I.prototype,"toggleGroupChatLink",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"toggleGroupChatLink"),I.prototype),(0,i.default)(I.prototype,"onDisableGroupChatLinkModalConfirm",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"onDisableGroupChatLinkModalConfirm"),I.prototype),(0,i.default)(I.prototype,"onDisableGroupChatLinkModalCancel",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"onDisableGroupChatLinkModalCancel"),I.prototype),(0,i.default)(I.prototype,"copyGroupChatLink",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"copyGroupChatLink"),I.prototype),(0,i.default)(I.prototype,"recipientsChanged",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"recipientsChanged"),I.prototype),(0,i.default)(I.prototype,"addParticipants",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"addParticipants"),I.prototype),(0,i.default)(I.prototype,"fireAddParticipantCustomTracking",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"fireAddParticipantCustomTracking"),I.prototype),(0,i.default)(I.prototype,"actionOnTypeaheadEnter",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"actionOnTypeaheadEnter"),I.prototype),(0,i.default)(I.prototype,"maybeRemoveParticipant",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"maybeRemoveParticipant"),I.prototype),(0,i.default)(I.prototype,"cancelRemoveParticipant",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"cancelRemoveParticipant"),I.prototype),(0,i.default)(I.prototype,"removeParticipant",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"removeParticipant"),I.prototype),(0,i.default)(I.prototype,"fireRemoveParticipantCustomTracking",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"fireRemoveParticipantCustomTracking"),I.prototype),(0,i.default)(I.prototype,"leaveConversationButtonClicked",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"leaveConversationButtonClicked"),I.prototype),(0,i.default)(I.prototype,"reportConversationButtonClicked",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"reportConversationButtonClicked"),I.prototype),(0,i.default)(I.prototype,"createNewGroupChat",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"createNewGroupChat"),I.prototype),(0,i.default)(I.prototype,"makeHyperlinksOpenExternally",[s.action],Object.getOwnPropertyDescriptor(I.prototype,"makeHyperlinksOpenExternally"),I.prototype),I)
e.default=ee;(0,r.setComponentTemplate)(X,ee)}))
define("msg-shared-modals/components/date-picker-content-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","global-utils/utils/date-utils","@ember/object/internals"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b,_,y,v,k,w,C,P,T,O,M,D,S
const R=(0,o.createTemplateFactory)({id:"5eRAG+F2",block:'[[[41,[30,1],[[[1,"  "],[10,2],[14,0,"t-14 pt1 pb4"],[12],[1,"\\n    "],[1,[28,[35,1],["i18n_zoom_body","msg-shared-modals/components/date-picker-content-presenter"],[["linkInfo"],[[28,[37,2],null,[["target","href"],["_blank","/help/linkedin/answer/124096"]]]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[10,"ul"],[14,0,"list-style-none display-flex flex-column full-height"],[12],[1,"\\n  "],[10,"li"],[14,0,"pb4"],[12],[1,"\\n    "],[10,2],[14,0,"t-14"],[12],[1,[28,[35,1],["i18n_start_date_time","msg-shared-modals/components/date-picker-content-presenter"],null]],[13],[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n"],[1,"      "],[8,[39,3],[[24,0,"msg-shared-modals-date-picker-content-presenter__date-time-input mr1"]],[["@value","@displayDate","@isCalendarVisible","@isDateSelectable","@onDateSelected","@onCalendarVisibilityChange","@onDisplayDateChange","@ariaLabel"],[[30,0,["startDate"]],[30,0,["startDisplayDate"]],[30,0,["isStartCalendarVisible"]],[30,0,["isStartDateSelectable"]],[30,0,["onStartDateSelected"]],[28,[37,4],[[28,[37,5],[[30,0],"isStartCalendarVisible"],null]],null],[28,[37,4],[[28,[37,5],[[30,0],"startDisplayDate"],null]],null],[28,[37,1],["i18n_start_date","msg-shared-modals/components/date-picker-content-presenter"],null]]],null],[1,"\\n      "],[8,[39,6],null,[["@value","@ariaLabel","@displayTimeFormat","@valueTimeFormat","@interval","@onTimeSelected"],[[30,0,["startTime"]],[28,[37,1],["i18n_start_time","msg-shared-modals/components/date-picker-content-presenter"],null],"HOURS12","HOURS24","THIRTY",[30,0,["onStartTimeSelected"]]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,"li"],[14,0,"pb4"],[12],[1,"\\n    "],[10,"label"],[15,1,[30,0,["durationDropdownLabelId"]]],[14,0,"t-14"],[12],[1,[28,[35,1],["i18n_duration","msg-shared-modals/components/date-picker-content-presenter"],null]],[13],[1,"\\n    "],[8,[39,7],null,[["@isOpen","@onVisibilityChange"],[[30,0,["isDurationDropdownOpen"]],[28,[37,5],[[30,0],"isDurationDropdownOpen"],null]]],[["default"],[[[[1,"\\n      "],[8,[30,2,["dropdown-trigger"]],[[24,0,"msg-shared-modals-date-picker-content-presenter__duration-dropdown-trigger"],[16,"aria-labelledby",[30,0,["durationDropdownLabelId"]]]],[["@withIcon"],[true]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"full-width text-align-left"],[12],[1,"\\n          "],[1,[30,0,["selectedDuration","displayTitle"]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["dropdown-content"]],[[24,0,"msg-shared-modals-date-picker-content-presenter__duration-dropdown-content"]],null,[["default"],[[[[1,"\\n"],[42,[28,[37,9],[[28,[37,9],[[30,0,["durationChoices"]]],null]],null],null,[[[1,"          "],[8,[39,10],null,[["@itemSelected"],[[28,[37,4],[[30,0,["onDurationSelected"]],[30,3]],null]]],[["default"],[[[[1,"\\n            "],[1,[30,3,["displayTitle"]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[3]],null],[1,"      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "],[13],[1,"\\n  "],[10,"li"],[14,0,"pb4"],[12],[1,"\\n    "],[10,"label"],[15,1,[30,0,["timezoneDropdownLabelId"]]],[14,0,"t-14 m0"],[12],[1,[28,[35,1],["i18n_timezone","msg-shared-modals/components/date-picker-content-presenter"],null]],[13],[1,"\\n    "],[8,[39,11],null,[["@timezoneInfo","@updateTimezoneInfo","@ariaLabelledbyForDropdownTrigger"],[[30,0,["timezoneInfo"]],[30,0,["updateTimezoneInfo"]],[30,0,["timezoneDropdownLabelId"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[41,[30,4],[[[1,"    "],[10,"li"],[12],[1,"\\n      "],[8,[39,12],null,[["@message","@type"],[[52,[30,5],[28,[37,1],["i18n_linkedin_schedule_meeting_error","msg-shared-modals/components/date-picker-content-presenter"],null],[28,[37,1],["i18n_schedule_meeting_error","msg-shared-modals/components/date-picker-content-presenter"],null]],"error"]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,5],[[[1,"    "],[10,"li"],[14,0,"display-flex flex-grow-1 align-items-flex-end"],[12],[1,"\\n      "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,[28,[35,1],["i18n_email_reminder","msg-shared-modals/components/date-picker-content-presenter"],null]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["@isZoomCurrentProvider","dropdown","duration","@hasScheduleMeetingError","@isLinkedInCurrentProvider"],false,["if","t","hash","artdeco-datepicker@artdeco-datepicker","fn","ember-set-helper@set","date-time-picker@timepicker","artdeco-dropdown@artdeco-dropdown","each","-track-array","artdeco-dropdown@artdeco-dropdown-item","date-time-picker@timezone-picker","artdeco-inline-feedback@artdeco-inline-feedback"]]',moduleName:"msg-shared-modals/components/date-picker-content-presenter.hbs",isStrictMode:!1})
let I=(m=(0,c.inject)("date"),g=(0,c.inject)("date-time-picker@timezone"),h=(0,c.inject)("i18n"),f=(0,c.inject)("lix"),b=class extends s.default{get durationDropdownLabelId(){return`${(0,u.guidFor)(this)}-duration-dropdown-label`}get timezoneDropdownLabelId(){return`${(0,u.guidFor)(this)}-timezone-dropdown-label`}get durationChoices(){return[{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_15_minutes")(),time:15},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_30_minutes")(),time:30},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_1_hour")(),time:60},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_1_hour_30_minutes")(),time:90},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_2_hours")(),time:120},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_2_hours_30_minutes")(),time:150},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_3_hours")(),time:180},{displayTitle:this.i18n.lookupTranslation("components/msg-shared-modals@date-picker-content-presenter","i18n_3_hours_30_minutes")(),time:210}]}constructor(){super(...arguments);(0,t.default)(this,"startDate",_,this);(0,t.default)(this,"startTime",y,this);(0,t.default)(this,"startDisplayDate",v,this);(0,t.default)(this,"isStartCalendarVisible",k,this);(0,t.default)(this,"isEndCalendarVisible",w,this);(0,t.default)(this,"timezoneInfo",C,this);(0,t.default)(this,"isDurationDropdownOpen",P,this);(0,t.default)(this,"selectedDuration",T,this);(0,t.default)(this,"dateService",O,this);(0,t.default)(this,"timezoneHelper",M,this);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"lix",S,this)
const e=new Date(this.dateService.now())
this._initTime(e)
this._initDate(e)
this._initTimezone()}_initTime(e){const t=e.getHours()+1
e.setHours(t)
this.startTime=this._formatTime(t)}_initDate(e){e.setHours(0,0,0,0)
this.startDate=e
this.selectedDuration=this.durationChoices[1]}_initTimezone(){this.timezoneHelper.fetchTimezoneData().then((()=>{if(!this.isDestroying){const e=this.timezoneHelper.getTimezoneInfoFromOffset((new Date).getTimezoneOffset())
this.timezoneInfo=e
this._updateMeetingData()}}))}_formatTime(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
const n=e>=24?e-24:e
return`${n<10?`0${n}`:`${n}`}:${t<10?`0${t}`:`${t}`}`}_formatTimeToBeUTC(e,t){const n=e.getTime()+t,i=60*(0,d.get)(this,"timezoneInfo.utcOffset")
return n-60*(e.getTimezoneOffset()+i)*1e3}_updateMeetingData(){this.args.updateScheduleMeetingData({startTime:this._formatTimeToBeUTC(this.startDate,(0,p.convertTimeToMilliseconds)(this.startTime)),endTime:this._formatTimeToBeUTC(this.startDate,(0,p.convertTimeToMilliseconds)(this.startTime)+60*(0,d.get)(this,"selectedDuration.time")*1e3),timeZone:(0,d.get)(this,"timezoneInfo.timeZone")})}isStartDateSelectable(e){return(0,p.isDateGreaterThanOrEqualToCurrentDate)(e)}onStartDateSelected(e){this.startDate=e
this._updateMeetingData()}updateStartTime(e){this.startTime=e.target.value
this._updateMeetingData()}onStartTimeSelected(e){this.startTime=e
this._updateMeetingData()}onDurationSelected(e){this.selectedDuration=e
this.isDurationDropdownOpen=!1
this._updateMeetingData()}updateTimezoneInfo(e){this.timezoneInfo=e
this._updateMeetingData()}},_=(0,i.default)(b.prototype,"startDate",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(b.prototype,"startTime",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"startDisplayDate",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(b.prototype,"isStartCalendarVisible",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,i.default)(b.prototype,"isEndCalendarVisible",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,i.default)(b.prototype,"timezoneInfo",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(b.prototype,"isDurationDropdownOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,i.default)(b.prototype,"selectedDuration",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(b.prototype,"dateService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(b.prototype,"timezoneHelper",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(b.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(b.prototype,"lix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(b.prototype,"isStartDateSelectable",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"isStartDateSelectable"),b.prototype),(0,i.default)(b.prototype,"onStartDateSelected",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"onStartDateSelected"),b.prototype),(0,i.default)(b.prototype,"updateStartTime",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"updateStartTime"),b.prototype),(0,i.default)(b.prototype,"onStartTimeSelected",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"onStartTimeSelected"),b.prototype),(0,i.default)(b.prototype,"onDurationSelected",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"onDurationSelected"),b.prototype),(0,i.default)(b.prototype,"updateTimezoneInfo",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"updateTimezoneInfo"),b.prototype),b)
e.default=I;(0,r.setComponentTemplate)(R,I)}))
define("msg-shared-modals/components/delete-conversation-modal-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"cDA1SqL3",block:'[[[8,[39,0],null,[["@isOpen","@headerId","@modalClasses","@dismissModal","@size"],[true,"msg-modal-delete-convo","msg-modal-delete-convo",[28,[37,1],[[28,[37,2],[[30,1],"delete_conversation_dismiss"],null]],[["action"],[[30,2]]]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-modal-delete-convo"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_delete_header","msg-shared-modals/components/delete-conversation-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,2],[12],[1,"\\n"],[41,[30,4,["isWithAdvertiser"]],[[[1,"        "],[1,[28,[35,3],["i18n_delete_spinmail_text","msg-shared-modals/components/delete-conversation-modal-presenter"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[52,[30,4,["firstParticipantName"]],[28,[37,3],["i18n_delete_text","msg-shared-modals/components/delete-conversation-modal-presenter"],[["isManyToManyConvo","participantName"],[[30,4,["isGroupChat"]],[30,4,["firstParticipantName"]]]]],[28,[37,3],["i18n_delete_text_without_name","msg-shared-modals/components/delete-conversation-modal-presenter"],null]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n      "],[8,[39,5],[[4,[38,6],[[30,5]],null]],[["@type","@color","@class","@click"],["secondary","muted","mlA mr3",[30,2]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_cancel","msg-shared-modals/components/delete-conversation-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],[[4,[38,6],[[30,7]],[["onInteract"],[[30,8]]]]],[["@click"],[[30,6]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_confirm_text","msg-shared-modals/components/delete-conversation-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@actionTrackingPrefix","@closeModal","modal","@viewData","@cancelTrackingControlName","@deleteConvoAndCloseModal","@submitTrackingControlName","@fireCustomTrackingForDeleteConversation"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","if","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/delete-conversation-modal-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/delete-convo-modal",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"4kptYlo5",block:'[[[8,[39,0],null,[["@isOpen","@headerId","@modalClasses","@dismissModal","@size"],[true,"msg-modal-delete-convo","msg-modal-delete-convo",[28,[37,1],[[28,[37,2],[[30,1],"delete_conversation_dismiss"],null]],[["action"],[[30,2]]]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-modal-delete-convo"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_delete_header","msg-shared-modals/components/delete-convo-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,2],[12],[1,"\\n"],[41,[28,[37,5],[[30,4]],null],[[[1,"        "],[1,[28,[35,3],["i18n_delete_spinmail_text","msg-shared-modals/components/delete-convo-modal"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[52,[28,[37,6],[[30,4,["participants","firstObject","miniProfile"]]],null],[28,[37,3],["i18n_delete_text","msg-shared-modals/components/delete-convo-modal"],[["isManyToManyConvo","participantName"],[[30,4,["groupChat"]],[28,[37,6],[[30,4,["participants","firstObject","miniProfile"]]],null]]]],[28,[37,3],["i18n_delete_text_without_name","msg-shared-modals/components/delete-convo-modal"],null]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n      "],[8,[39,7],[[4,[38,8],[[30,5]],null]],[["@type","@color","@class","@click"],["secondary","muted","mlA mr3",[30,2]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_cancel","msg-shared-modals/components/delete-convo-modal"],null]],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,7],[[4,[38,8],[[30,7]],[["onInteract"],[[30,8]]]]],[["@click"],[[30,6]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_confirm_text","msg-shared-modals/components/delete-convo-modal"],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@actionTrackingPrefix","@closeModal","modal","@conversation","@cancelTrackingControlName","@deleteConvoAndCloseModal","@submitTrackingControlName","@fireCustomTrackingForDeleteConversation"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","if","msg-shared@is-conversation-with-advertiser","global-helpers@name","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/delete-convo-modal.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/delete-message-modal-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"c6YkLL7r",block:'[[[8,[39,0],null,[["@isOpen","@headerId","@dismissModal","@size"],[true,"msg-modal-delete-message-event",[30,1],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"delete-message-confirmation-modal"],[12],[1,[28,[35,1],["i18n_delete_message_event_header","msg-shared-modals/components/delete-message-modal-presenter"],null]],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,2],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_delete_message_modal_body","msg-shared-modals/components/delete-message-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n      "],[8,[39,2],null,[["@click","@type","@color","@class","@text"],[[30,1],"secondary","muted","mlA mr3",[28,[37,1],["i18n_cancel","msg-shared-modals/components/delete-message-modal-presenter"],null]]],null],[1,"\\n\\n      "],[8,[39,2],[[4,[38,3],[[30,4]],null]],[["@click","@text"],[[30,3],[28,[37,1],["i18n_delete","msg-shared-modals/components/delete-message-modal-presenter"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@dismissModal","modal","@deleteMessageAndCloseModal","@deleteEventControlName"],false,["artdeco-modal@artdeco-modal","t","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/delete-message-modal-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/gdpr-notice",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@ember/debug","@glimmer/component","msg-shared/utils/constants","global-utils/utils/url","gdpr-notice/utils/notice-constants"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b
const _=(0,o.createTemplateFactory)({id:"U+taFOHT",block:"[[],[],false,[]]",moduleName:"msg-shared-modals/components/gdpr-notice.hbs",isStrictMode:!1}),{GDPR_PREFERENCES_URL:y,GDPR_SMART_REPLIES_URL:v}=d.default
let k=(m=(0,s.inject)("i18n"),g=(0,s.inject)("gdpr-notice@gdpr-notice"),h=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",f,this);(0,t.default)(this,"gdprNotice",b,this)
let e,n,i
this.args.noticeTypes.forEach((t=>{if(t===u.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL){e=this.i18n.lookupTranslation("components/msg-shared-modals@gdpr-notice","gdpr_notice_message_control")()
n=this.i18n.lookupTranslation("components/msg-shared-modals@gdpr-notice","gdpr_notice_message_control_action")()
i=`${(0,p.getDomainUrl)()}${y}`}else if(t===u.GDPR_NOTICE_POLICY_TYPE.SMART_REPLIES){e=this.i18n.lookupTranslation("components/msg-shared-modals@gdpr-notice","gdpr_smart_replies_notice")()
n=this.i18n.lookupTranslation("components/msg-shared-modals@gdpr-notice","gdpr_view_smart_replies_settings")()
i=`${(0,p.getDomainUrl)()}${v}`}this.gdprNotice.showToast(t,e,n,i)}))}},f=(0,i.default)(h.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,i.default)(h.prototype,"gdprNotice",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h)
e.default=k;(0,r.setComponentTemplate)(_,k)}))
define("msg-shared-modals/components/inmail-feedback-modal-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@ember/object","@ember/debug","@glimmer/component"],(function(e,t,n,i,a,r,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l
const c=(0,a.createTemplateFactory)({id:"0caqGepv",block:'[[[8,[39,0],null,[["@isOpen","@headerId","@modalClasses","@dismissModal","@size"],[true,"msg-modal-decline-inmail-reason","msg-modal-decline-inmail-reason",[28,[37,1],[[28,[37,2],[[30,1],"decline_inmail_reason_dismiss"],null]],[["action"],[[30,2]]]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-modal-decline-inmail-reason"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_decline_inmail_title","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,"ul"],[15,1,[30,0,["checkboxListId"]]],[14,0,"msg-modal-decline-inmail-reason__options-list"],[12],[1,"\\n      "],[10,"li"],[14,0,"msg-modal-decline-inmail-reason__option"],[12],[1,"\\n        "],[10,"input"],[14,1,"msg-modal-decline-inmail-reason__option-0"],[14,4,"checkbox"],[12],[13],[1,"\\n        "],[10,"label"],[14,"for","msg-modal-decline-inmail-reason__option-0"],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_reason_not_looking","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"msg-modal-decline-inmail-reason__option"],[12],[1,"\\n        "],[10,"input"],[14,1,"msg-modal-decline-inmail-reason__option-1"],[14,4,"checkbox"],[12],[13],[1,"\\n        "],[10,"label"],[14,"for","msg-modal-decline-inmail-reason__option-1"],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_reason_not_right_fit","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"msg-modal-decline-inmail-reason__option"],[12],[1,"\\n        "],[10,"input"],[14,1,"msg-modal-decline-inmail-reason__option-2"],[14,4,"checkbox"],[12],[13],[1,"\\n        "],[10,"label"],[14,"for","msg-modal-decline-inmail-reason__option-2"],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_reason_no_relocate","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"msg-modal-decline-inmail-reason__option"],[12],[1,"\\n        "],[10,"input"],[14,1,"msg-modal-decline-inmail-reason__option-3"],[14,4,"checkbox"],[12],[13],[1,"\\n        "],[10,"label"],[14,"for","msg-modal-decline-inmail-reason__option-3"],[12],[1,"\\n          "],[10,1],[12],[1,[28,[35,3],["i18n_reason_is_spam","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[13],[1,"\\n          "],[10,1],[14,0,"block t-12 t-black--light"],[12],[1,[28,[35,3],["i18n_reason_is_spam_subtext","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"msg-modal-decline-inmail-reason__option"],[12],[1,"\\n        "],[10,"input"],[14,1,"msg-modal-decline-inmail-reason__option-4"],[14,4,"checkbox"],[12],[13],[1,"\\n        "],[10,"label"],[14,"for","msg-modal-decline-inmail-reason__option-4"],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_reason_good_fit","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n      "],[8,[39,4],null,[["@type","@color","@class","@click"],["secondary","muted","mlA mr3",[28,[37,1],null,[["controlName","action"],[[28,[37,2],[[30,1],"decline_inmail_reason_clear"],null],[30,0,["clearCheckboxes"]]]]]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_clear","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,4],null,[["@click"],[[28,[37,1],null,[["controlName","action"],[[28,[37,2],[[30,1],"decline_inmail_reason_submit"],null],[30,0,["submitDeclineReasons"]]]]]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_submit","msg-shared-modals/components/inmail-feedback-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@actionTrackingPrefix","@dismissModal","modal"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","artdeco-button@artdeco-button"]]',moduleName:"msg-shared-modals/components/inmail-feedback-modal-presenter.hbs",isStrictMode:!1})
let d=(l=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"checkboxListId","msg-modal-decline-inmail-reason__option-list")}clearCheckboxes(){const e=document.querySelector(`#${this.checkboxListId}`)
if(e){e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1}))}}submitDeclineReasons(){const e=document.querySelector(`#${this.checkboxListId}`)
if(e){Array.from(e.querySelectorAll('input[type="checkbox"]')).filter((e=>!0===e.checked))
this.args.dismissModal()}}},(0,n.default)(l.prototype,"clearCheckboxes",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"clearCheckboxes"),l.prototype),(0,n.default)(l.prototype,"submitDeclineReasons",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"submitDeclineReasons"),l.prototype),l)
e.default=d;(0,i.setComponentTemplate)(c,d)}))
define("msg-shared-modals/components/msg-settings-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","msg-data/utils/messaging-settings"],(function(e,t,n,i,a,r,o,s,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,u,m
const g=(0,o.createTemplateFactory)({id:"NpB4o48V",block:'[[[8,[39,0],null,[["@isOpen","@size","@modalClasses","@dismissModal"],[true,"large","msg-modal-message-settings",[30,1]]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-settings-modal"],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_messaging_settings","msg-shared-modals/components/msg-settings-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-content"]],null,[["@classNames"],["p0"]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"msg-settings-modal__list-item pv3 ph6 display-flex justify-space-between"],[12],[1,"\\n      "],[10,0],[14,0,"align-self-center"],[12],[1,"\\n        "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_auto_open_messages","msg-shared-modals/components/msg-settings-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[8,[39,2],null,[["@class","@trackingControlName","@toggledText","@untoggledText","@labelText","@isLabelHidden","@toggled","@onToggle"],["t-14 t-black--light t-normal align-self-center",[52,[30,3,["messagingOverlayPopups"]],"overlay.instant_messaging_setting_off","overlay.instant_messaging_setting_on"],[28,[37,1],["i18n_setting_on","msg-shared-modals/components/msg-settings-modal"],null],[28,[37,1],["i18n_setting_off","msg-shared-modals/components/msg-settings-modal"],null],[28,[37,1],["a11y_toggle_popup_settings","msg-shared-modals/components/msg-settings-modal"],null],true,[30,3,["messagingOverlayPopups"]],[30,0,["savePopupsEnabledSetting"]]]],null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-settings-modal__list-item msg-settings-modal__sound-toggle-container pv3 ph6 display-flex justify-space-between"],[12],[1,"\\n      "],[10,0],[14,0,"align-self-center"],[12],[1,"\\n        "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,"\\n          "],[1,[28,[35,1],["a11y_toggle_new_message_sound","msg-shared-modals/components/msg-settings-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[8,[39,2],null,[["@class","@trackingControlName","@toggledText","@untoggledText","@labelText","@isLabelHidden","@toggled","@onToggle"],["t-14 t-black--light t-normal align-self-center",[52,[30,3,["messagingOverlaySounds"]],"overlay.sounds_off","overlay.sounds_on"],[28,[37,1],["i18n_setting_on","msg-shared-modals/components/msg-settings-modal"],null],[28,[37,1],["i18n_setting_off","msg-shared-modals/components/msg-settings-modal"],null],[28,[37,1],["a11y_toggle_new_message_sound","msg-shared-modals/components/msg-settings-modal"],null],true,[30,3,["messagingOverlaySounds"]],[30,0,["saveSoundsEnabledSetting"]]]],null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"pv3 ph6 display-flex justify-space-between"],[12],[1,"\\n      "],[10,0],[14,0,"align-self-center"],[12],[1,"\\n        "],[10,2],[14,0,"t-16 t-black t-normal"],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_active_settings","msg-shared-modals/components/msg-settings-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"pv1"],[12],[1,"\\n        "],[8,[39,4],[[16,"aria-label",[28,[37,1],["a11y_update_settings","msg-shared-modals/components/msg-settings-modal"],null]]],[["@href","@control-name","@target","@class"],["/psettings/presence","overlay.manage_status","_blank","t-14 t-normal link-without-visited-state"]],[["default"],[[[[1,"\\n          "],[1,[28,[35,1],["i18n_update_settings","msg-shared-modals/components/msg-settings-modal"],null]],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@closeModal","modal","@messagingSettings"],false,["artdeco-modal@artdeco-modal","t","artdeco-toggle@artdeco-toggle","if","ember-cli-pemberly-tracking@shared/external-link"]]',moduleName:"msg-shared-modals/components/msg-settings-modal.hbs",isStrictMode:!1})
let h=(p=(0,l.inject)("profile-services@identity-store"),u=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"identityStore",m,this)}saveSettings(){(0,d.saveMessagingSettingsRequest)(this.identityStore,this.args.messagingSettings)}savePopupsEnabledSetting(){(0,s.set)(this.args,"messagingSettings.messagingOverlayPopups",!(0,s.get)(this.args,"messagingSettings.messagingOverlayPopups"))
this.saveSettings()}saveSoundsEnabledSetting(){(0,s.set)(this.args,"messagingSettings.messagingOverlaySounds",!(0,s.get)(this.args,"messagingSettings.messagingOverlaySounds"))
this.saveSettings()}},m=(0,i.default)(u.prototype,"identityStore",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(u.prototype,"savePopupsEnabledSetting",[s.action],Object.getOwnPropertyDescriptor(u.prototype,"savePopupsEnabledSetting"),u.prototype),(0,i.default)(u.prototype,"saveSoundsEnabledSetting",[s.action],Object.getOwnPropertyDescriptor(u.prototype,"saveSoundsEnabledSetting"),u.prototype),u)
e.default=h;(0,r.setComponentTemplate)(g,h)}))
define("msg-shared-modals/components/participant-leave-modal-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"l7U9mTUG",block:'[[[8,[39,0],null,[["@isOpen","@headerId","@modalClasses","@dismissModal","@size"],[true,"msg-modal-participant-leave-modal-presenter","msg-modal-participant-leave-modal-presenter",[28,[37,1],[[28,[37,2],[[30,1],"leave_conversation_dismiss"],null]],[["action"],[[30,2]]]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-modal-participant-leave-modal-presenter"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_leave_conversation","msg-shared-modals/components/participant-leave-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,2],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_leave_conversation_body","msg-shared-modals/components/participant-leave-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"display-flex"],[12],[1,"\\n      "],[8,[39,4],[[4,[38,5],[[30,4]],null]],[["@type","@color","@class","@click"],["secondary","muted","mlA mr3",[30,2]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_cancel","msg-shared-modals/components/participant-leave-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,4],[[4,[38,5],[[30,6]],[["onInteract"],[[30,7]]]]],[["@click"],[[30,5]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,3],["i18n_leave","msg-shared-modals/components/participant-leave-modal-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@actionTrackingPrefix","@closeModal","modal","@cancelTrackingControlName","@leaveConvoAndCloseModal","@submitTrackingControlName","@fireCustomTrackingForSubmitLeaveModal"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@tracked-action","concat","t","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/participant-leave-modal-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/report-participant-modal-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"1c/HYPzR",block:'[[[8,[39,0],null,[["@isOpen","@dismissModal","@headerId","@modalClasses","@size"],[true,[30,1],"msg-shared-modals-report-participant-modal-presenter","msg-shared-modals-report-participant-modal-presenter","medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-shared-modals-report-participant-modal-presenter"],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_report_block","msg-shared-modals/components/report-participant-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,2,["artdeco-modal-content"]],null,[["@classNames"],["pv4"]],[["default"],[[[[1,"\\n    "],[10,"ul"],[14,0,"msg-shared-modals-report-participant-modal-presenter__list"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,3,["participants"]]],null]],null],null,[[[1,"        "],[10,"li"],[14,0,"msg-shared-modals-report-participant-modal-presenter__participant"],[12],[1,"\\n"],[1,"          "],[8,[39,4],[[4,[38,5],["view_profile"],null]],[["@route","@model","@class"],["profile.common.profile",[30,4,["publicIdentifier"]],"mr2 pv4 flex-shrink-zero"]],[["default"],[[[[1,"\\n            "],[8,[39,6],null,[["@imageClasses","@viewData","@size"],["msg-shared-modals-report-participant-modal-presenter__participant-img",[30,4,["entityWithPresenceViewData"]],3]],null],[1,"\\n          "]],[]]]]],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"pl1 pv4 pr2 flex-grow-1 overflow-hidden"],[12],[1,"\\n            "],[8,[39,4],[[4,[38,5],["view_profile"],null]],[["@route","@model"],["profile.common.profile",[30,4,["publicIdentifier"]]]],[["default"],[[[[1,"\\n              "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                "],[1,[28,[35,1],["i18n_participant_fullname","msg-shared-modals/components/report-participant-modal-presenter"],[["participant"],[[30,4,["name"]]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,2],[14,0,"t-14 t-black--light t-normal overflow-hidden truncate"],[12],[1,"\\n              "],[1,[30,4,["subtitle"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[8,[39,7],null,[["@class","@click"],["flex-shrink-zero",[28,[37,8],[[30,5],[30,4,["entityUrn"]],[30,4,["objectUrn"]]],null]]],[["default"],[[[[1,"\\n            "],[1,[28,[35,1],["i18n_report_block","msg-shared-modals/components/report-participant-modal-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n"]],[4]],null],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@closeModal","modal","@viewData","participant","@selectParticipant"],false,["artdeco-modal@artdeco-modal","t","each","-track-array","ember-engines@link-to-external","ember-cli-pemberly-tracking@track-interaction","presence@entity-with-presence-presenter","artdeco-button@artdeco-button","fn"]]',moduleName:"msg-shared-modals/components/report-participant-modal-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))
define("msg-shared-modals/components/share-profile-info-modal-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","global-utils/utils/is-browser","msg-shared-modals/utils/phone-number-country-code-map"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b,_,y,v,k,w,C,P,T,O
const M=(0,o.createTemplateFactory)({id:"vqtermy2",block:'[[[8,[39,0],[[4,[38,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_stub_profile",[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]]],[["@headerId","@isOpen","@modalClasses","@dismissModal","@size"],["msg-share-profile-info-modal__header",[30,1],"msg-modal-share-contact-info",[30,0,["onDecline"]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-share-profile-info-modal__header"],[14,0,"t-20 t-black t-normal"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_header_text","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,"section"],[14,0,"EntityLockup-circle-2 pv2 b0"],[12],[1,"\\n      "],[10,"figure"],[12],[1,"\\n        "],[8,[39,5],null,[["@image","@alt","@desiredWidth","@class","@ghostType"],[[30,3,["picture"]],[30,4,["participant","fullName"]],200,"EntityPhoto-circle-4","person"]],null],[1,"\\n      "],[13],[1,"\\n      "],[10,"dl"],[12],[1,"\\n        "],[10,"dt"],[14,0,"truncate"],[12],[1,"\\n          "],[10,"h3"],[14,0,"truncate"],[12],[1,"\\n            "],[1,[30,4,["participant","fullName"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"dd"],[12],[1,"\\n          "],[8,[39,6],null,[["@distance"],[[30,4,["participant","distance"]]]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,"dd"],[14,0,"truncate"],[12],[1,"\\n          "],[1,[30,4,["participant","occupation"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_share_info_text","msg-shared-modals/components/share-profile-info-modal-presenter"],[["recruiterName"],[[30,4,["recruiterName"]]]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,"label"],[14,"for","msg-share-profile-info-modal__email-address"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_email_label_text","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n    "],[13],[1,"\\n    "],[8,[39,7],[[24,1,"msg-share-profile-info-modal__email-address"]],[["@content","@optionValueKey","@optionLabelKey","@onSelect"],[[30,4,["emailAddresses"]],"entityUrn","email",[30,0,["onEmailAddressChange"]]]],null],[1,"\\n    "],[10,"section"],[14,0,"display-flex"],[12],[1,"\\n      "],[10,0],[14,0,"flex-1 mr2"],[12],[1,"\\n        "],[10,"label"],[14,"for","msg-share-profile-info-modal__country"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_country_label","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[11,"select"],[24,1,"msg-share-profile-info-modal__country"],[4,[38,8],["change",[30,0,["onCountryChange"]]],null],[12],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["countries"]]],null]],null],null,[[[1,"            "],[10,"option"],[15,2,[28,[37,11],[[30,5,["countryISOCode"]]],null]],[12],[1,"\\n              "],[1,[30,5,["localizedName"]]],[1,"\\n            "],[13],[1,"\\n"]],[5]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"fieldset"],[14,0,"flex-1"],[12],[1,"\\n"],[1,"        "],[10,"legend"],[14,0,"msg-share-profile-info-modal__phone-number-legend t-14 t-black"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_phone_number_label","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex"],[12],[1,"\\n"],[1,"          "],[11,"input"],[24,1,"msg-share-profile-info-modal__country-code"],[16,0,[52,[30,0,["showPhoneNumberCountryCodeError"]],"error"]],[24,"placeholder","+1"],[24,"maxlength","5"],[16,2,[30,0,["phoneNumberCountryCodeInput"]]],[16,"aria-label",[28,[37,4],["a11y_country_code_label","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[24,4,"text"],[4,[38,8],["input",[30,0,["updateCountryCode"]]],null],[12],[13],[1,"\\n          "],[11,"input"],[24,"placeholder","555-555-5555"],[24,"maxlength","25"],[16,2,[30,0,["phoneNumberInput"]]],[16,"aria-label",[28,[37,4],["a11y_phone_number_label","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[24,4,"tel"],[4,[38,8],["input",[30,0,["updatePhoneNumber"]]],null],[12],[13],[1,"\\n"],[1,"        "],[13],[1,"\\n"],[41,[30,0,["showPhoneNumberCountryCodeError"]],[[[1,"          "],[8,[39,13],null,[["@classNames","@message","@type"],["msg-share-profile-info-modal__error mt2",[28,[37,4],["i18n_country_code_error","msg-shared-modals/components/share-profile-info-modal-presenter"],null],"error"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"],[41,[30,0,["showWechatInfoInput"]],[[[1,"      "],[10,"label"],[14,"for","msg-share-profile-info-modal__wechat-id"],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_wechat_id_label_text","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n      "],[13],[1,"\\n      "],[11,"input"],[24,1,"msg-share-profile-info-modal__wechat-id"],[24,"maxlength","50"],[16,2,[30,0,["wechatIdInput"]]],[24,4,"text"],[4,[38,8],["input",[30,0,["updateWechatId"]]],null],[12],[13],[1,"\\n"]],[]],null],[1,"    "],[10,"section"],[14,0,"display-flex mt2"],[12],[1,"\\n      "],[1,[28,[35,14],null,[["class","type","size"],["pr4","shield-icon","small"]]]],[1,"\\n      "],[10,1],[14,0,"t-12 t-black--light t-normal ml1"],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_disclaimer","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-footer"]],null,[["@classNames"],["text-align-right pv4"]],[["default"],[[[[1,"\\n    "],[8,[39,15],[[4,[38,16],["no_share"],null]],[["@class","@type","@color","@click"],["mr2","tertiary","muted",[30,0,["onDecline"]]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],["i18n_secondary_button_text","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[39,15],[[4,[38,16],["yes_share"],null]],[["@click"],[[30,0,["onAccept"]]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],["i18n_primary_button_text","msg-shared-modals/components/share-profile-info-modal-presenter"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@isOpen","modal","@participant","@viewData","country"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","t","ember-vector-images@lazy-image","distance-badge@distance-badge","deprecated-form-elements@select","on","each","-track-array","global-helpers@lowercase","if","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-icons-web@li-icon","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/share-profile-info-modal-presenter.hbs",isStrictMode:!1})
let D=(m=(0,l.inject)("locale"),g=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),h=(0,l.inject)("store"),f=(0,l.inject)("i18n"),b=class extends c.default{constructor(){var e
super(...arguments);(0,t.default)(this,"locale",_,this);(0,t.default)(this,"persistentToastManager",y,this);(0,t.default)(this,"store",v,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"wechatIdInput",w,this);(0,t.default)(this,"phoneNumberCountryCodeInput",C,this);(0,t.default)(this,"phoneNumberInput",P,this);(0,t.default)(this,"showPhoneNumberCountryCodeError",T,this);(0,t.default)(this,"countries",O,this)
const n="zh_CN"===this.locale.interfaceLocale,i="cn"===this.locale.requestIpCountryCode
this.showWechatInfoInput=n||i
const{emailAddresses:a,defaultPhoneNumber:r}=this.args.viewData
this.emailSelected=a&&(null===(e=a[0])||void 0===e?void 0:e.entityUrn)
r&&([this.phoneNumberCountryCodeInput,this.phoneNumberInput]=r.split(/ (.+)/))
this.store.queryURL("voyagerDashGeo",{params:{q:"allCountries",recipe:"com.linkedin.voyager.dash.deco.infra.CountryGeo"}}).then((e=>{if(!this.isDestroying){this.countries=(0,s.get)(e,"elements")
if(!this.phoneNumberCountryCodeInput){const e=u.default[(0,s.get)(this.countries,"firstObject.countryISOCode")]
this.phoneNumberCountryCodeInput=e?`+${e}`:""}}}))}onAccept(){this.showPhoneNumberCountryCodeError=!1
if(!this.phoneNumberInput||/\+\d+/.test(this.phoneNumberCountryCodeInput)){this.args.onShareContactInfoAccept(this.emailSelected,this.phoneNumberInput?`${this.phoneNumberCountryCodeInput} ${this.phoneNumberInput}`:"",this.wechatIdInput).then((()=>{const e=this.i18n.lookupTranslation("components/msg-shared-modals@share-profile-info-modal","i18n_contact_info_shared")()
this.persistentToastManager.success({message:e})}))
this.args.closeModal()}else{this.showPhoneNumberCountryCodeError=!0
p.default&&document.getElementById("msg-share-profile-info-modal__country-code").focus()}}onDecline(){this.args.closeModal()
this.args.sendInMailReply()}onEmailAddressChange(e){this.emailSelected=e}onCountryChange(e){const t=u.default[e.target.value]
this.phoneNumberCountryCodeInput=t?`+${t}`:""}updateCountryCode(e){this.phoneNumberCountryCodeInput=e.target.value}updatePhoneNumber(e){this.phoneNumberInput=e.target.value}updateWechatId(e){this.wechatIdInput=e.target.value}},_=(0,i.default)(b.prototype,"locale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(b.prototype,"persistentToastManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(b.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"wechatIdInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(b.prototype,"phoneNumberCountryCodeInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(b.prototype,"phoneNumberInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(b.prototype,"showPhoneNumberCountryCodeError",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(b.prototype,"countries",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,i.default)(b.prototype,"onAccept",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onAccept"),b.prototype),(0,i.default)(b.prototype,"onDecline",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onDecline"),b.prototype),(0,i.default)(b.prototype,"onEmailAddressChange",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onEmailAddressChange"),b.prototype),(0,i.default)(b.prototype,"onCountryChange",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onCountryChange"),b.prototype),(0,i.default)(b.prototype,"updateCountryCode",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updateCountryCode"),b.prototype),(0,i.default)(b.prototype,"updatePhoneNumber",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updatePhoneNumber"),b.prototype),(0,i.default)(b.prototype,"updateWechatId",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updateWechatId"),b.prototype),b)
e.default=D;(0,r.setComponentTemplate)(M,D)}))
define("msg-shared-modals/components/share-profile-info-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","global-utils/utils/is-browser","msg-shared-modals/utils/phone-number-country-code-map"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,g,h,f,b,_,y,v,k,w,C,P,T,O
const M=(0,o.createTemplateFactory)({id:"KBmIYrrj",block:'[[[8,[39,0],[[4,[38,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_stub_profile",[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]]],[["@headerId","@isOpen","@modalClasses","@dismissModal","@size"],["msg-share-profile-info-modal__header",[30,1],"msg-modal-share-contact-info",[30,0,["onDecline"]],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"msg-share-profile-info-modal__header"],[14,0,"t-20 t-black t-normal"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_header_text","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,"section"],[14,0,"EntityLockup-circle-2 pv2 b0"],[12],[1,"\\n      "],[10,"figure"],[12],[1,"\\n        "],[8,[39,5],null,[["@image","@alt","@desiredWidth","@class","@ghostType"],[[30,3,["picture"]],[28,[37,6],null,[["firstName","lastName","type"],[[30,3,["firstName"]],[30,3,["lastName"]],"full"]]],200,"EntityPhoto-circle-4","person"]],null],[1,"\\n      "],[13],[1,"\\n      "],[10,"dl"],[12],[1,"\\n        "],[10,"dt"],[14,0,"truncate"],[12],[1,"\\n          "],[10,"h3"],[14,0,"truncate"],[12],[1,"\\n            "],[1,[28,[35,6],null,[["firstName","lastName","type"],[[30,3,["firstName"]],[30,3,["lastName"]],"full"]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"dd"],[12],[1,"\\n          "],[8,[39,7],null,[["@distance"],[[30,3,["distance"]]]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,"dd"],[14,0,"truncate"],[12],[1,"\\n          "],[1,[30,3,["occupation"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_share_info_text","msg-shared-modals/components/share-profile-info-modal"],[["recruiterName"],[[30,4,["name"]]]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,"label"],[14,"for","msg-share-profile-info-modal__email-address"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_email_label_text","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n    "],[13],[1,"\\n    "],[8,[39,8],[[24,1,"msg-share-profile-info-modal__email-address"]],[["@content","@onSelect"],[[30,0,["formattedEmailAddresses"]],[30,0,["onEmailAddressChange"]]]],null],[1,"\\n    "],[10,"section"],[14,0,"display-flex"],[12],[1,"\\n      "],[10,0],[14,0,"flex-1 mr2"],[12],[1,"\\n        "],[10,"label"],[14,"for","msg-share-profile-info-modal__country"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_country_label","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n        "],[13],[1,"\\n        "],[11,"select"],[24,1,"msg-share-profile-info-modal__country"],[4,[38,9],["change",[30,0,["onCountryChange"]]],null],[12],[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[30,0,["countries"]]],null]],null],null,[[[1,"            "],[10,"option"],[15,2,[28,[37,12],[[30,5,["countryISOCode"]]],null]],[12],[1,"\\n              "],[1,[30,5,["localizedName"]]],[1,"\\n            "],[13],[1,"\\n"]],[5]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"fieldset"],[14,0,"flex-1"],[12],[1,"\\n"],[1,"        "],[10,"legend"],[14,0,"msg-share-profile-info-modal__phone-number-legend t-14 t-black"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_phone_number_label","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex"],[12],[1,"\\n"],[1,"          "],[11,"input"],[24,1,"msg-share-profile-info-modal__country-code"],[16,0,[52,[30,0,["showPhoneNumberCountryCodeError"]],"error"]],[24,"placeholder","+1"],[24,"maxlength","5"],[16,2,[30,0,["phoneNumberCountryCodeInput"]]],[16,"aria-label",[28,[37,4],["a11y_country_code_label","msg-shared-modals/components/share-profile-info-modal"],null]],[24,4,"text"],[4,[38,9],["input",[30,0,["updateCountryCode"]]],null],[12],[13],[1,"\\n          "],[11,"input"],[24,"placeholder","555-555-5555"],[24,"maxlength","25"],[16,2,[30,0,["phoneNumberInput"]]],[16,"aria-label",[28,[37,4],["a11y_phone_number_label","msg-shared-modals/components/share-profile-info-modal"],null]],[24,4,"tel"],[4,[38,9],["input",[30,0,["updatePhoneNumber"]]],null],[12],[13],[1,"\\n"],[1,"        "],[13],[1,"\\n"],[41,[30,0,["showPhoneNumberCountryCodeError"]],[[[1,"          "],[8,[39,14],null,[["@classNames","@message","@type"],["msg-share-profile-info-modal__error mt2",[28,[37,4],["i18n_country_code_error","msg-shared-modals/components/share-profile-info-modal"],null],"error"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"],[41,[30,0,["showWechatInfoInput"]],[[[1,"      "],[10,"label"],[14,"for","msg-share-profile-info-modal__wechat-id"],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_wechat_id_label_text","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n      "],[13],[1,"\\n      "],[11,"input"],[24,1,"msg-share-profile-info-modal__wechat-id"],[24,"maxlength","50"],[16,2,[30,0,["wechatIdInput"]]],[24,4,"text"],[4,[38,9],["input",[30,0,["updateWechatId"]]],null],[12],[13],[1,"\\n"]],[]],null],[1,"    "],[10,"section"],[14,0,"display-flex mt2"],[12],[1,"\\n      "],[1,[28,[35,15],null,[["class","type","size"],["pr4","shield-icon","small"]]]],[1,"\\n      "],[10,1],[14,0,"t-12 t-black--light t-normal ml1"],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_disclaimer","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,2,["artdeco-modal-footer"]],null,[["@classNames"],["text-align-right pv4"]],[["default"],[[[[1,"\\n    "],[8,[39,16],[[4,[38,17],["no_share"],null]],[["@class","@type","@color","@click"],["mr2","tertiary","muted",[30,0,["onDecline"]]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],["i18n_secondary_button_text","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[39,16],[[4,[38,17],["yes_share"],null]],[["@click"],[[30,0,["onAccept"]]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],["i18n_primary_button_text","msg-shared-modals/components/share-profile-info-modal"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]]]],["@isOpen","modal","@participant","@recruiter","country"],false,["artdeco-modal@artdeco-modal","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","t","ember-vector-images@lazy-image","ember-cli-pemberly-i18n@format-name","distance-badge@distance-badge","deprecated-form-elements@select","on","each","-track-array","global-helpers@lowercase","if","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-icons-web@li-icon","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-shared-modals/components/share-profile-info-modal.hbs",isStrictMode:!1})
let D=(m=(0,l.inject)("locale"),g=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),h=(0,l.inject)("store"),f=(0,l.inject)("i18n"),b=class extends c.default{get formattedEmailAddresses(){return this.args.emailAddresses.mapBy("email")}constructor(){super(...arguments);(0,t.default)(this,"locale",_,this);(0,t.default)(this,"persistentToastManager",y,this);(0,t.default)(this,"store",v,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"wechatIdInput",w,this);(0,t.default)(this,"phoneNumberCountryCodeInput",C,this);(0,t.default)(this,"phoneNumberInput",P,this);(0,t.default)(this,"showPhoneNumberCountryCodeError",T,this);(0,t.default)(this,"countries",O,this)
const e="zh_CN"===this.locale.interfaceLocale,n="cn"===this.locale.requestIpCountryCode
this.showWechatInfoInput=e||n
this.args.emailAddresses&&(this.emailSelected=(0,s.get)(this.args.emailAddresses,"firstObject"))
const i=(0,s.get)(this.args.confirmedPhoneNumbers,"firstObject.number")
i&&([this.phoneNumberCountryCodeInput,this.phoneNumberInput]=i.split(/ (.+)/))
this.store.queryURL("voyagerDashGeo",{params:{q:"allCountries",recipe:"com.linkedin.voyager.dash.deco.infra.CountryGeo"}}).then((e=>{if(!this.isDestroying){this.countries=(0,s.get)(e,"elements")
if(!this.phoneNumberCountryCodeInput){const e=u.default[(0,s.get)(this.countries,"firstObject.countryISOCode")]
this.phoneNumberCountryCodeInput=e?`+${e}`:""}}}))}onAccept(){this.showPhoneNumberCountryCodeError=!1
if(!this.phoneNumberInput||/\+\d+/.test(this.phoneNumberCountryCodeInput)){this.args.onShareContactInfoAccept((0,s.get)(this.emailSelected,"entityUrn"),this.phoneNumberInput?`${this.phoneNumberCountryCodeInput} ${this.phoneNumberInput}`:"",this.wechatIdInput).then((()=>{const e=this.i18n.lookupTranslation("components/msg-shared-modals@share-profile-info-modal","i18n_contact_info_shared")()
this.persistentToastManager.success({message:e})}))
this.args.closeModal()}else{this.showPhoneNumberCountryCodeError=!0
p.default&&document.getElementById("msg-share-profile-info-modal__country-code").focus()}}onDecline(){this.args.closeModal()
this.args.sendInMailReply()}onEmailAddressChange(e){this.emailSelected=this.args.emailAddresses.find((t=>(0,s.get)(t,"email")===e))}onCountryChange(e){const t=u.default[e.target.value]
this.phoneNumberCountryCodeInput=t?`+${t}`:""}updateCountryCode(e){this.phoneNumberCountryCodeInput=e.target.value}updatePhoneNumber(e){this.phoneNumberInput=e.target.value}updateWechatId(e){this.wechatIdInput=e.target.value}},_=(0,i.default)(b.prototype,"locale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(b.prototype,"persistentToastManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(b.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"wechatIdInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(b.prototype,"phoneNumberCountryCodeInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(b.prototype,"phoneNumberInput",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(b.prototype,"showPhoneNumberCountryCodeError",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(b.prototype,"countries",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,i.default)(b.prototype,"onAccept",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onAccept"),b.prototype),(0,i.default)(b.prototype,"onDecline",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onDecline"),b.prototype),(0,i.default)(b.prototype,"onEmailAddressChange",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onEmailAddressChange"),b.prototype),(0,i.default)(b.prototype,"onCountryChange",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"onCountryChange"),b.prototype),(0,i.default)(b.prototype,"updateCountryCode",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updateCountryCode"),b.prototype),(0,i.default)(b.prototype,"updatePhoneNumber",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updatePhoneNumber"),b.prototype),(0,i.default)(b.prototype,"updateWechatId",[s.action],Object.getOwnPropertyDescriptor(b.prototype,"updateWechatId"),b.prototype),b)
e.default=D;(0,r.setComponentTemplate)(M,D)}))
define("msg-shared-modals/components/thread-actions",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@ember/object","@glimmer/component","@glimmer/tracking","msg-shared/utils/constants","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","msg-spinmail-data/utils/sponsored-conversation-properties","msg-shared/utils/get-latest-event-from-other-user","msg-shared/helpers/is-conversation-with-advertiser"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,_,y,v,k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F
const G=(0,o.createTemplateFactory)({id:"goHGi0Rn",block:'[[[1,"\\n"],[1,"\\n"],[8,[39,0],null,[["@isOpen","@onVisibilityChange","@placement","@justification","@classNames","@useNewFocusModel"],[[30,0,["isOpen"]],[28,[37,1],[[30,0],"isOpen"],null],"bottom","right","msg-thread-actions__dropdown",true]],[["default"],[[[[1,"\\n  "],[8,[30,1,["dropdown-trigger"]],[[4,[38,4],[[30,0,["conversationWindowSettingsTrackingKey"]]],null],[4,[38,5],[[30,0,["onDidInsert"]]],null]],[["@class"],[[28,[37,2],["msg-thread-actions__control artdeco-button artdeco-button--circle ",[52,[30,2],"artdeco-button--1 ","artdeco-button--2 "],[52,[30,3],"artdeco-button--primary","artdeco-button--muted artdeco-button--tertiary"]],null]]],[["default"],[[[[1,"\\n    "],[1,[28,[35,6],null,[["type","class","size","color"],["ellipsis-horizontal-icon","artdeco-button__icon",[52,[30,2],"small","medium"],true]]]],[1,"\\n    "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n"],[41,[30,4,["isNew"]],[[[1,"        "],[1,[28,[35,7],["a11y_open_conversation_options_new","msg-shared-modals/components/thread-actions"],null]],[1,"\\n"]],[]],[[[41,[30,4,["groupChat"]],[[[41,[30,4,["name"]],[[[1,"          "],[1,[28,[35,7],["a11y_open_conversation_options_unformatted_name","msg-shared-modals/components/thread-actions"],[["name"],[[30,4,["name"]]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,7],["a11y_open_conversation_options_familiar_names","msg-shared-modals/components/thread-actions"],[["names"],[[30,4,["participants"]]]]]],[1,"\\n"]],[]]]],[]],[[[41,[28,[37,8],[[30,4]],null],[[[1,"        "],[1,[28,[35,7],["a11y_open_conversation_options_unformatted_name","msg-shared-modals/components/thread-actions"],[["name"],[[28,[37,9],[[30,4,["participants","firstObject"]]],null]]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,7],["a11y_open_conversation_options_full_names","msg-shared-modals/components/thread-actions"],[["names"],[[28,[37,10],[[30,4]],null]]]]],[1,"\\n      "]],[]]]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[10,0],[14,0,"msg-thread-actions__dropdown-container"],[12],[1,"\\n    "],[8,[30,1,["dropdown-content"]],null,[["@arrowDir","@class"],["right","msg-thread-actions__dropdown-options"]],[["default"],[[[[1,"\\n      "],[10,"ul"],[12],[1,"\\n"],[41,[30,4,["viewerCurrentParticipant"]],[[[41,[30,4,["groupChat"]],[[[1,"            "],[8,[39,11],[[4,[38,4],[[30,0,["groupChatManageParticipantDropdownItem","actionTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[28,[37,12],[[30,0,["openConvoDetailModal"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n"],[1,"              "],[1,[28,[35,7],[[30,0,["groupChatManageParticipantDropdownItem","textI18nKey"]],"msg-shared-modals/components/thread-actions"],null]],[1,"\\n            "]],[]]]]],[1,"\\n\\n            "],[10,"hr"],[14,"aria-hidden","true"],[14,0,"msg-thread-actions__divider"],[12],[13],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["enableFocusedInbox"]],[[[41,[28,[37,13],[[30,0,["inboxType"]],"PRIMARY"],null],[[[1,"            "],[8,[39,11],[[4,[38,4],[[30,0,["movingConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["toggleMovingConversation"]],"button"]],[["default"],[[[[1,"\\n              "],[1,[28,[35,7],["i18n_move_to_other","msg-shared-modals/components/thread-actions"],null]],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,0,["inboxType"]],"SECONDARY"],null],[[[1,"            "],[8,[39,11],[[4,[38,4],[[30,0,["movingConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["toggleMovingConversation"]],"button"]],[["default"],[[[[1,"\\n              "],[1,[28,[35,7],["i18n_move_to_focused","msg-shared-modals/components/thread-actions"],null]],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]],null]],[]]]],[]],null],[1,"\\n        "],[8,[39,11],[[4,[38,4],[[30,0,["archiveUnarchiveTrackingKey"]]],[["onInteract"],[[30,0,["fireConversationArchiveStateTracking"]]]]]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["toggleConversationArchiveState"]],"button"]],[["default"],[[[[1,"\\n          "],[1,[52,[30,4,["archived"]],[28,[37,7],["i18n_restore","msg-shared-modals/components/thread-actions"],null],[28,[37,7],["i18n_archive","msg-shared-modals/components/thread-actions"],null]]],[1,"\\n        "]],[]]]]],[1,"\\n\\n        "],[8,[39,11],[[4,[38,4],[[30,0,["deleteConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[28,[37,12],[[30,0,["openDeleteConvoModal"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n          "],[1,[28,[35,7],["i18n_delete","msg-shared-modals/components/thread-actions"],null]],[1,"\\n        "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showMarkConvoAsReadItem"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["markAsReadUnreadTrackingKey"]]],null]],[["@class","@role","@itemSelected"],["msg-thread-actions__dropdown-option","button",[30,0,["toggleConversationReadState"]]]],[["default"],[[[[1,"\\n            "],[1,[52,[30,4,["read"]],[28,[37,7],["i18n_mark_as_unread","msg-shared-modals/components/thread-actions"],null],[28,[37,7],["i18n_mark_as_read","msg-shared-modals/components/thread-actions"],null]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showManageSettingsLink"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["openManageSettingsTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["openManageSettings"]],"button"]],[["default"],[[[[1,"\\n            "],[1,[28,[35,7],["i18n_manage_settings","msg-shared-modals/components/thread-actions"],null]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showMuteConvoItem"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["muteUnmuteTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["toggleConversationMuteBanner"]],"button"]],[["default"],[[[[1,"\\n            "],[1,[52,[30,4,["muted"]],[28,[37,7],["i18n_unmute","msg-shared-modals/components/thread-actions"],null],[28,[37,7],["i18n_mute","msg-shared-modals/components/thread-actions"],null]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showRenameConvoItem"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["renameConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["renameConversation"]],"button"]],[["default"],[[[[1,"\\n            "],[1,[28,[35,7],["i18n_rename_conversation","msg-shared-modals/components/thread-actions"],null]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showLeaveConvoItem"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["leaveConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[28,[37,12],[[30,0,["openLeaveConversationModal"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n            "],[1,[28,[35,7],["i18n_leave_conversation","msg-shared-modals/components/thread-actions"],null]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showReportButton"]],[[[41,[51,[28,[37,8],[[30,4]],null]],[[[1,"            "],[10,"hr"],[14,"aria-hidden","true"],[14,0,"msg-thread-actions__divider"],[12],[13],[1,"\\n"]],[]],null],[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["reportConversationTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[28,[37,12],[[30,0,["reportConversation"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n"],[41,[28,[37,8],[[30,4]],null],[[[1,"              "],[1,[28,[35,7],["i18n_report_ad","msg-shared-modals/components/thread-actions"],null]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,7],["i18n_report_block","msg-shared-modals/components/thread-actions"],null]],[1,"\\n"]],[]]],[1,"          "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showAdChoice"]],[[[1,"          "],[8,[39,11],[[4,[38,4],[[30,0,["adChoiceTrackingKey"]]],null]],[["@class","@itemSelected","@role"],["msg-thread-actions__dropdown-option",[30,0,["adChoiceClicked"]],"button"]],[["default"],[[[[1,"\\n            "],[1,[28,[35,7],["i18n_ad_choice","msg-shared-modals/components/thread-actions"],null]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[1]]]]],[1,"\\n\\n"],[8,[39,15],null,[["@conversation","@isConvoDetailModalOpen","@closeConvoDetailModal","@isLeaveConvoModalOpen","@closeLeaveConvoModal","@isDeleteConvoModalOpen","@closeDeleteConvoModal","@isChooseParticipantsToReportModalOpen","@closeChooseParticipantsToReportModal","@trackingModuleName","@actionTrackingPrefix","@handleSuccessfulDiscardRequest","@addParticipantsPageKey","@redirectToActiveConversation","@isOverlay","@afterDismissFocusElement"],[[30,4],[30,0,["isConvoDetailModalOpen"]],[28,[37,1],[[30,0],"isConvoDetailModalOpen",false],null],[30,0,["isLeaveConvoModalOpen"]],[28,[37,1],[[30,0],"isLeaveConvoModalOpen",false],null],[30,0,["isDeleteConvoModalOpen"]],[28,[37,1],[[30,0],"isDeleteConvoModalOpen",false],null],[30,0,["isChooseParticipantsToReportModalOpen"]],[28,[37,1],[[30,0],"isChooseParticipantsToReportModalOpen",false],null],[30,5],[30,6],[30,7],[30,8],[30,9],[30,2],[30,0,["dropdownTriggerElement"]]]],null],[1,"\\n\\n"],[8,[39,16],null,[["@conversationToReport","@reportOptions","@redirectToActiveConversation","@trackingModuleName","@actionTrackingPrefix","@handleSuccessfulDiscardRequest","@isOpen","@hideSemaphore","@semaphoreRedirect"],[[30,0,["conversationToReport"]],[30,0,["reportOptions"]],[30,9],[30,5],[30,6],[30,7],[30,0,["isReportSemaphoreOpen"]],[30,0,["closeSemaphore"]],[30,0,["semaphoreRedirect"]]]],null],[1,"\\n\\n"],[41,[30,0,["isAdChoiceOpen"]],[[[1,"  "],[8,[39,17],null,[["@isOpen","@adServingUrn","@onDismissAdChoice","@hideAdSnooze"],[[30,0,["isAdChoiceOpen"]],[30,0,["adServingUrn"]],[30,0,["dismissAdChoiceModal"]],true]],null],[1,"\\n"]],[]],null]],["dropdown","@isOverlay","@inverse","@conversation","@trackingModuleName","@actionTrackingPrefix","@handleSuccessfulDiscardRequest","@addParticipantsPageKey","@redirectToActiveConversation"],false,["artdeco-dropdown@artdeco-dropdown","ember-set-helper@set","concat","if","ember-cli-pemberly-tracking@track-interaction","did-insert","artdeco-icons-web@li-icon","t","msg-shared@is-conversation-with-advertiser","msg-shared@get-member-or-company-name","msg-shared@get-participant-names","artdeco-dropdown@artdeco-dropdown-item","fn","global-helpers@eq","unless","msg-shared-modals@conversation-modals","msg-shared-modals@conversation-semaphore","ad-choice@modals/ad-choice-modal"]]',moduleName:"msg-shared-modals/components/thread-actions.hbs",isStrictMode:!1}),{ACTION_TYPES:{ARCHIVE:H,UNARCHIVE:B},CONTROL_NAMES:{ACTIONS:W},MESSAGE_TYPE:{SPONSORED_MESSAGE:K,SPONSORED:V}}=p.default,q="open_ad_choice"
let $=(b=(0,s.inject)("tracking"),_=(0,s.inject)("msg-data@data-manager"),y=(0,s.inject)("authentication@authenticated-user"),v=(0,s.inject)("global-services@window"),k=(0,s.inject)("lix"),w=(0,s.inject)("store"),C=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",P,this);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"authenticatedUser",O,this);(0,t.default)(this,"windowService",M,this);(0,t.default)(this,"lix",D,this);(0,t.default)(this,"store",S,this);(0,t.default)(this,"isOpen",R,this);(0,t.default)(this,"isLeaveConvoModalOpen",I,this);(0,t.default)(this,"isConvoDetailModalOpen",E,this);(0,t.default)(this,"isDeleteConvoModalOpen",x,this);(0,t.default)(this,"isChooseParticipantsToReportModalOpen",A,this);(0,t.default)(this,"conversationToReport",N,this);(0,t.default)(this,"reportOptions",L,this);(0,t.default)(this,"isReportSemaphoreOpen",j,this);(0,t.default)(this,"dropdownTriggerElement",z,this);(0,t.default)(this,"isAdChoiceOpen",U,this);(0,t.default)(this,"adServingUrn",F,this)}get groupChatManageParticipantDropdownItem(){return(0,l.get)(this.args,"conversation.featureTypes").includes("ADD_PARTICIPANT")?{actionTrackingKey:this.actionTrackingPrefix.concat("add_participants"),textI18nKey:"i18n_add_remove_participants"}:(0,l.get)(this.args,"conversation.featureTypes").includes("CREATE_NEW_GROUP_CHAT")?{actionTrackingKey:this.actionTrackingPrefix.concat("frozenchat_manage_participants"),textI18nKey:"i18n_add_remove_participants"}:{actionTrackingKey:this.actionTrackingPrefix.concat("manage_participants"),textI18nKey:"i18n_manage_participants"}}get showRenameConvoItem(){return(0,l.get)(this.args,"conversation.viewerCurrentParticipant")&&(0,l.get)(this.args,"conversation.groupChat")&&(0,l.get)(this.args,"conversation.featureTypes").includes("RENAME_CONVERSATION")}get showManageSettingsLink(){return!(0,f.isConversationWithAdvertiser)((0,l.get)(this.args,"conversation"))}get showMuteConvoItem(){return(0,l.get)(this.args,"conversation.viewerCurrentParticipant")&&!(0,f.isConversationWithAdvertiser)((0,l.get)(this.args,"conversation"))&&"PENDING"!==(0,l.get)(this.args,"conversation.messageRequestState")}get showAdChoice(){this.adServingUrn=(0,g.getAdServingUrnForConversation)(this.args.conversation)
return(0,f.isConversationWithAdvertiser)((0,l.get)(this.args,"conversation"))&&this.adServingUrn}get showMarkConvoAsReadItem(){return(0,l.get)(this.args,"conversation.viewerCurrentParticipant")&&(0,l.get)(this.args,"conversation.totalEventCount")>0}get showLeaveConvoItem(){return(0,l.get)(this.args,"conversation.viewerCurrentParticipant")&&(0,l.get)(this.args,"conversation.groupChat")&&"PENDING"!==(0,l.get)(this.args,"conversation.messageRequestState")&&(0,l.get)(this.args,"conversation.participants.length")>0}get showReportButton(){if(!(0,l.get)(this.args,"conversation.participants.length"))return!1
const e=(0,l.get)(this.args,"conversation.groupChat")||!!(0,h.getLatestEventFromOtherUser)((0,l.get)(this.args,"conversation"),this.authenticatedUser)
return(0,f.isConversationWithAdvertiser)((0,l.get)(this.args,"conversation"))?this.args.enableReportingSponsoredConversation:e}get actionTrackingPrefix(){var e
return null!==(e=this.args.actionTrackingPrefix)&&void 0!==e?e:""}get conversationWindowSettingsTrackingKey(){return this.actionTrackingPrefix.concat("conversation_window_settings")}get createGroupChatFromOneOnOneTrackingKey(){return this.actionTrackingPrefix.concat("create_group_chat_from_1on1")}get archiveUnarchiveTrackingKey(){return this.actionTrackingPrefix.concat((0,l.get)(this.args,"conversation.archived")?"unarchive_conversation":"archive_conversation")}get movingConversationTrackingKey(){let e
e=this.inboxType===p.default.INBOX_TYPES.PRIMARY?"move_to_secondary":this.inboxType===p.default.INBOX_TYPES.SECONDARY?"move_to_primary":""
return this.args.isOverlay?`overlay.${e}`:e}get deleteConversationTrackingKey(){return this.actionTrackingPrefix.concat("delete_conversation")}get markAsReadUnreadTrackingKey(){return this.actionTrackingPrefix.concat((0,l.get)(this.args,"conversation.read")?"mark_as_unread_conversation":"mark_as_read_conversation")}get openManageSettingsTrackingKey(){return this.actionTrackingPrefix.concat("manage_settings")}get muteUnmuteTrackingKey(){return this.actionTrackingPrefix.concat((0,l.get)(this.args,"conversation.muted")?"unmute":"mute")}get renameConversationTrackingKey(){return this.actionTrackingPrefix.concat("rename_conversation")}get leaveConversationTrackingKey(){return this.actionTrackingPrefix.concat("leave_conversation")}get reportConversationTrackingKey(){return this.actionTrackingPrefix.concat("report")}get adChoiceTrackingKey(){return this.actionTrackingPrefix.concat("ad_choice")}get enableFocusedInbox(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-experience")}get inboxType(){return(0,l.get)(this.args,"conversation.inboxType")}onDidInsert(e){this.dropdownTriggerElement=e}renameConversation(e){var t,n
null==e||e.stopPropagation()
this.isOpen=!1
null===(t=(n=this.args).showRenameConversationForm)||void 0===t||t.call(n)}openManageSettings(e){null==e||e.stopPropagation()
this.isOpen=!1
this.windowService.open("/psettings/message-preferences","_blank")}toggleConversationMuteBanner(e){var t,n
null==e||e.stopPropagation()
this.isOpen=!1
null===(t=(n=this.args).toggleConversationMute)||void 0===t||t.call(n)}toggleConversationReadState(e){null==e||e.stopPropagation()
const{conversation:t}=this.args,n=this.msgDataManager.toggleConversationRead((0,l.get)(t,"entityUrn"),!(0,l.get)(t,"read"))
this.isOpen=!1
return n}toggleConversationArchiveState(e){null==e||e.stopPropagation()
const{conversation:t}=this.args,n=(0,l.get)(t,"archived"),i=(0,l.get)(t,"entityUrn"),a=this.msgDataManager.toggleConversationArchive(i,!n,"PENDING"===(0,l.get)(t,"messageRequestState"))
this.isOpen=!1
return a.then((()=>{this.args.handleSuccessfulDiscardRequest&&!n&&this.args.handleSuccessfulDiscardRequest(i)
this.args.isOverlay||this.args.redirectToActiveConversation((0,l.get)(t,"id"))}))}toggleMovingConversation(e){null==e||e.stopPropagation()
this.isOpen=!1
this.inboxType!==p.default.INBOX_TYPES.PRIMARY&&this.inboxType!==p.default.INBOX_TYPES.SECONDARY||this.msgDataManager.updateConversationInbox((0,l.get)(this.args.conversation,"entityUrn"),this.inboxType)}fireConversationArchiveStateTracking(){if(this.isDestroying)return[]
const{conversation:e}=this.args,t=(0,l.get)(e,"archived"),n=t?`${this.args.actionTrackingPrefix}${W.UNARCHIVE}`:`${this.args.actionTrackingPrefix}${W.ARCHIVE}`,i=t?B:H
return(0,u.getDetailActionEventTrackingObject)({actionType:i,controlName:n,conversationObjectUrn:(0,l.get)(e,"backendUrn"),participantUrns:(0,u.getParticipantTrackingUrns)((0,l.get)(e,"participants")),participantPresenceStatuses:(0,m.getParticipantPresenceStatuses)(e),moduleKey:this.trackingModuleName,trackingService:this.tracking})}reportConversation(e,t,n,i){null==e||e()
null==t||t.stopPropagation()
const{conversation:a}=this.args
if((0,l.get)(a,"groupChat"))this.isChooseParticipantsToReportModalOpen=!0
else{const e=(0,h.getLatestEventFromOtherUser)(a,this.authenticatedUser),t=(0,l.get)(e,"backendUrn")
let r
r=(0,f.isConversationWithAdvertiser)(a)?{entityUrn:(0,g.getCreativeUrnForConversation)(a),parentUrn:t,contentSource:"SPONSORED_INMAIL"===(0,l.get)(a,"latestEvent.subtype")?V:K,isBackButtonEnabled:n,backButtonAction:i}:{entityUrn:t,contentSource:"INBOX_REPORT_SPAM"}
r.participantToReport=(0,l.get)(a,"participants.firstObject")
this.reportOptions=r
this.conversationToReport=a
this.isReportSemaphoreOpen=!0}this.isOpen=!1}closeSemaphore(){this.isReportSemaphoreOpen=!1}semaphoreRedirect(e){e===q&&(this.isAdChoiceOpen=!0)}adChoiceClicked(e){null==e||e.stopPropagation()
this.isAdChoiceOpen=!0
this.isOpen=!1}dismissAdChoiceModal(e){this.isAdChoiceOpen=!1
e&&this.reportConversation(void 0,void 0,!0,q)}openConvoDetailModal(e,t){e()
null==t||t.stopPropagation()
this.isConvoDetailModalOpen=!0
this.isOpen=!1}openLeaveConversationModal(e,t){e()
null==t||t.stopPropagation()
this.isLeaveConvoModalOpen=!0
this.isOpen=!1}openDeleteConvoModal(e,t){e()
null==t||t.stopPropagation()
this.isDeleteConvoModalOpen=!0
this.isOpen=!1}},P=(0,i.default)(C.prototype,"tracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(C.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(C.prototype,"authenticatedUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(C.prototype,"windowService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(C.prototype,"lix",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(C.prototype,"store",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(C.prototype,"isOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,i.default)(C.prototype,"isLeaveConvoModalOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,i.default)(C.prototype,"isConvoDetailModalOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,i.default)(C.prototype,"isDeleteConvoModalOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,i.default)(C.prototype,"isChooseParticipantsToReportModalOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,i.default)(C.prototype,"conversationToReport",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(C.prototype,"reportOptions",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(C.prototype,"isReportSemaphoreOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,i.default)(C.prototype,"dropdownTriggerElement",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(C.prototype,"isAdChoiceOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=(0,i.default)(C.prototype,"adServingUrn",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(C.prototype,"onDidInsert",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"onDidInsert"),C.prototype),(0,i.default)(C.prototype,"renameConversation",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"renameConversation"),C.prototype),(0,i.default)(C.prototype,"openManageSettings",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"openManageSettings"),C.prototype),(0,i.default)(C.prototype,"toggleConversationMuteBanner",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"toggleConversationMuteBanner"),C.prototype),(0,i.default)(C.prototype,"toggleConversationReadState",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"toggleConversationReadState"),C.prototype),(0,i.default)(C.prototype,"toggleConversationArchiveState",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"toggleConversationArchiveState"),C.prototype),(0,i.default)(C.prototype,"toggleMovingConversation",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"toggleMovingConversation"),C.prototype),(0,i.default)(C.prototype,"fireConversationArchiveStateTracking",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"fireConversationArchiveStateTracking"),C.prototype),(0,i.default)(C.prototype,"reportConversation",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"reportConversation"),C.prototype),(0,i.default)(C.prototype,"closeSemaphore",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"closeSemaphore"),C.prototype),(0,i.default)(C.prototype,"semaphoreRedirect",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"semaphoreRedirect"),C.prototype),(0,i.default)(C.prototype,"adChoiceClicked",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"adChoiceClicked"),C.prototype),(0,i.default)(C.prototype,"dismissAdChoiceModal",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"dismissAdChoiceModal"),C.prototype),(0,i.default)(C.prototype,"openConvoDetailModal",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"openConvoDetailModal"),C.prototype),(0,i.default)(C.prototype,"openLeaveConversationModal",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"openLeaveConversationModal"),C.prototype),(0,i.default)(C.prototype,"openDeleteConvoModal",[l.action],Object.getOwnPropertyDescriptor(C.prototype,"openDeleteConvoModal"),C.prototype),C)
e.default=$;(0,r.setComponentTemplate)(G,$)}))
define("msg-shared-modals/components/virtual-meeting-modal-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","global-utils/utils/is-browser","msg-shared/utils/constants","global-utils/utils/url","global-utils/utils/urn-id-helpers"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,_,y,v,k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U
const F=(0,o.createTemplateFactory)({id:"XQ8gRpPb",block:'[[[41,[30,0,["showVirtualMeetingState"]],[[[1,"  "],[8,[39,1],null,[["@modalClasses","@dismissModal","@headerId","@isOpen","@returnFocusTo","@ariaDescribedBy","@size"],["msg-virtual-meeting-modal",[30,1],"msg-modal-video-meeting",true,[30,2],"msg-modal-video-meeting","small"]],[["default"],[[[[1,"\\n    "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-modal-video-meeting"],[12],[1,"\\n        "],[1,[28,[35,2],["i18n_virtual_meeting_header","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,3,["artdeco-modal-content"]],[[16,0,[28,[37,3],["virtual-meeting-modal__content",[52,[30,0,["showCreateMeetingState"]]," msg-virtual-meeting-modal__create-meeting-content"],[52,[30,0,["showDatePicker"]]," msg-virtual-meeting-modal__date-picker-content"]],null]]],[["@hasPadding"],[false]],[["default"],[[[[1,"\\n"],[41,[30,0,["isMeetingRequestLoading"]],[[[1,"        "],[10,0],[14,0,"virtual-meeting-modal__loader-container"],[12],[1,"\\n          "],[8,[39,4],null,null,null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"p4 full-height"],[12],[1,"\\n"],[41,[30,0,["showCreateMeetingState"]],[[[41,[30,0,["isZoomCurrentProvider"]],[[[1,"            "],[10,2],[14,0,"t-14 pt1 pb4"],[12],[1,"\\n              "],[1,[28,[35,2],["i18n_zoom_body","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["linkInfo"],[[28,[37,5],null,[["target","href"],["_blank","/help/linkedin/answer/124096"]]]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,"ul"],[14,0,"list-style-none"],[15,"data-current-provider-type",[30,0,["currentProviderData","provider","type"]]],[12],[1,"\\n            "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n              "],[11,"button"],[24,0,"display-flex align-items-center"],[24,4,"button"],[4,[38,6],["virtual_meetings_click_instant"],null],[4,[38,7],["click",[30,0,["createInstantMeeting"]]],null],[12],[1,"\\n                "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__create-icon","flash-on-icon","medium"]]]],[1,"\\n                "],[10,0],[14,0,"text-align-left"],[12],[1,"\\n                  "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_send_instant_meeting","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],[28,[37,2],["i18n_create_instant_meeting","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]]],[13],[1,"\\n"],[41,[30,0,["hasInstantMeetingError"]],[[[1,"                    "],[8,[39,9],null,[["@message","@type"],[[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_instant_linkedin_meeting_error","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],[28,[37,2],["i18n_instant_meeting_error","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],"error"]],null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n              "],[11,"button"],[24,0,"display-flex align-items-center justify-space-between full-width"],[24,4,"button"],[4,[38,6],["virtual_meetings_click_schedule"],null],[4,[38,7],["click",[30,0,["showDatePickerAction"]]],null],[12],[1,"\\n                "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                  "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__create-icon","calendar-icon","medium"]]]],[1,"\\n                  "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[28,[35,2],["i18n_schedule_meeting","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__chevron-icon","chevron-right-icon","small"]]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showDatePicker"]],[[[1,"          "],[8,[39,10],null,[["@hasScheduleMeetingError","@isZoomCurrentProvider","@isLinkedInCurrentProvider","@updateScheduleMeetingData"],[[30,0,["hasScheduleMeetingError"]],[30,0,["isZoomCurrentProvider"]],[30,0,["isLinkedInCurrentProvider"]],[28,[37,11],[[28,[37,12],[[30,0],"scheduleMeetingData"],null]],null]]],null],[1,"\\n"]],[]],[[[41,[30,0,["authError","hasError"]],[[[1,"            "],[8,[39,9],null,[["@class","@message","@type"],["pb2",[28,[37,2],["i18n_auth_error","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName"],[[30,0,["authError","providerName"]]]]],"error"]],null],[1,"\\n"]],[]],null],[1,"          "],[10,"ul"],[14,0,"list-style-none"],[12],[1,"\\n"],[42,[28,[37,14],[[28,[37,14],[[30,0,["providerData"]]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n                "],[11,"button"],[24,0,"display-flex align-items-center justify-space-between full-width"],[16,"aria-label",[52,[30,4,["provider","providerAuthInfo"]],[28,[37,2],["i18n_signedin_provider_a11y","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName","email"],[[30,4,["provider","name"]],[30,4,["provider","providerAuthInfo","authorizedHandle"]]]]],[28,[37,2],["i18n_provider_a11y","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName"],[[30,4,["provider","name"]]]]]]],[24,4,"button"],[4,[38,6],[[30,4,["controlInteractionEventName"]]],null],[4,[38,7],["click",[28,[37,11],[[30,0,["onProviderSelect"]],[30,4]],null]],null],[4,[38,15],null,[["when"],[[28,[37,16],[[30,0,["focusOnFirstProvider"]],[28,[37,17],[[30,5],0],null]],null]]]],[12],[1,"\\n                  "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n"],[41,[28,[37,18],[[28,[37,19],[[30,4,["provider","name"]],"LinkedIn"],null],[28,[37,19],[[30,4,["provider","name"]],"LinkedIn video meetings"],null]],null],[[[1,"                      "],[1,[28,[35,8],null,[["type","size","class"],["linkedin-inbug-color-icon",[30,0,["medium"]],"pr3"]]]],[1,"\\n"]],[]],[[[1,"                      "],[10,0],[15,0,[28,[37,3],["virtual-meeting-modal__icon mr3 ",[30,4,["className"]]],null]],[12],[1,"\\n                      "],[13],[1,"\\n"]],[]]],[1,"                    "],[10,0],[14,0,"virtual-meeting-moodal__list-item-info text-align-left"],[12],[1,"\\n                      "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[30,4,["provider","name"]]],[13],[1,"\\n"],[41,[30,4,["provider","providerAuthInfo"]],[[[1,"                        "],[10,2],[14,0,"t-14 truncate"],[12],[1,[30,4,["provider","providerAuthInfo","authorizedHandle"]]],[13],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                  "],[13],[1,"\\n\\n                  "],[1,[28,[35,8],null,[["type","size","class"],["chevron-right-icon","medium","virtual-meeting-modal__chevron-icon"]]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[4,5]],null],[1,"          "],[13],[1,"\\n        "]],[]]]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showFooter"]],[[[41,[30,0,["showCreateMeetingState"]],[[[1,"        "],[8,[30,3,["artdeco-modal-footer"]],null,[["@classNames","@hasPadding"],["relative p0",false]],[["default"],[[[[1,"\\n"],[41,[30,0,["isRevokeAuthLoading"]],[[[1,"            "],[10,0],[14,0,"virtual-meeting-modal__loader-container"],[12],[1,"\\n              "],[8,[39,4],null,[["@size"],["small"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,0],[14,0,"display-flex pv3 ph4"],[12],[1,"\\n"],[41,[30,0,["isLinkedInCurrentProvider"]],[[[1,"              "],[1,[28,[35,8],null,[["type","size","class"],["linkedin-inbug-color-icon","medium","pr3"]]]],[1,"\\n"]],[]],[[[1,"              "],[10,0],[15,0,[28,[37,3],["virtual-meeting-modal__icon mt2 mr3 ",[30,0,["currentProviderData","className"]]],null]],[12],[1,"\\n              "],[13],[1,"\\n"]],[]]],[1,"            "],[10,0],[12],[1,"\\n              "],[10,2],[14,0,"pb2"],[12],[1,"\\n"],[41,[30,0,["isLinkedInCurrentProvider"]],[[[1,"                  "],[10,1],[14,0,"t-14"],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_linkedin_provider","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[10,1],[14,0,"t-14"],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_signed_in_provider","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName","email"],[[30,0,["currentProviderData","provider","name"]],[30,0,["currentProviderData","provider","providerAuthInfo","authorizedHandle"]]]]]],[1,"\\n                  "],[13],[1,"\\n                  "],[11,"button"],[24,0,"t-14 link"],[24,4,"button"],[4,[38,7],["click",[30,0,["removeProviderGaapAuthUrl"]]],null],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_sign_out","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]]],[1,"              "],[13],[1,"\\n              "],[11,"button"],[24,0,"t-14 link pb2"],[24,4,"button"],[4,[38,7],["click",[30,0,["showProviderListAction"]]],null],[12],[1,"\\n                "],[1,[28,[35,2],["i18n_switch_provider","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],[1,"\\n              "],[13],[1,"\\n"],[41,[30,0,["hasRevokeAuthError"]],[[[1,"                "],[8,[39,9],null,[["@class","@message","@type"],["pb2",[28,[37,2],["i18n_revoke_error","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],"error"]],null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[30,3,["artdeco-modal-footer"]],null,[["@classNames"],["display-flex justify-flex-end"]],[["default"],[[[[1,"\\n          "],[8,[39,20],null,[["@class","@click","@size","@text","@type"],["mr2",[30,0,["showCreateMeetingAction"]],2,[28,[37,2],["i18n_back","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],"tertiary"]],null],[1,"\\n          "],[8,[39,20],null,[["@click","@size","@text","@type"],[[30,0,["scheduleMeeting"]],2,[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_send","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],[28,[37,2],["i18n_create","msg-shared-modals/components/virtual-meeting-modal-presenter"],null]],"primary"]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[]],null],[1,"  "]],[3]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showAuthConfirmModalState"]],[[[1,"  "],[8,[39,1],null,[["@isOpen","@headerId","@dismissModal","@size"],[true,"msg-modal-virtual-meeting-auth-modal",[30,0,["dismissModalAndFireInteractionEvent"]],"small"]],[["default"],[[[[1,"\\n    "],[8,[30,6,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-modal-virtual-meeting-auth-modal"],[12],[1,"\\n        "],[1,[28,[35,2],["i18n_auth_header","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName"],[[30,0,["currentProviderData","provider","name"]]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,6,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n      "],[1,[28,[35,2],["i18n_auth_body","msg-shared-modals/components/virtual-meeting-modal-presenter"],[["providerName"],[[30,0,["currentProviderData","provider","name"]]]]]],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,6,["artdeco-modal-footer"]],[[24,0,"display-flex justify-flex-end"]],null,[["default"],[[[[1,"\\n      "],[8,[39,20],[[4,[38,6],[[30,0,["currentProviderData","cancelInteractionEvent"]]],null]],[["@class","@click","@size","@text","@type"],["mr2",[30,0,["closeAuthConfirmModalAction"]],2,[28,[37,2],["i18n_cancel","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],"secondary"]],null],[1,"\\n      "],[8,[39,20],[[4,[38,6],["virtual_meeting_authentication_start"],null]],[["@click","@size","@text","@type"],[[28,[37,11],[[30,0,["authorizeUser"]],[30,0,["currentProviderData"]]],null],2,[28,[37,2],["i18n_auth_confirm","msg-shared-modals/components/virtual-meeting-modal-presenter"],null],"primary"]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[6]]]]],[1,"\\n"]],[]],null]],["@closeVirtualMeetingContainer","@refocusElement","modal","providerData","index","modal"],false,["if","artdeco-modal@artdeco-modal","t","concat","artdeco-loader@artdeco-loader","hash","ember-cli-pemberly-tracking@track-interaction","on","artdeco-icons-web@li-icon","artdeco-inline-feedback@artdeco-inline-feedback","msg-shared-modals@date-picker-content-presenter","fn","ember-set-helper@set","each","-track-array","global-modifiers@focus","and","eq","global-helpers@or","global-helpers@eq","artdeco-button@artdeco-button"]]',moduleName:"msg-shared-modals/components/virtual-meeting-modal-presenter.hbs",isStrictMode:!1}),G="onMeetingAuthComplete",H={bluejeans:"virtual-meeting-modal__icon-bluejeans",microsoft_teams:"virtual-meeting-modal__icon-microsoft_teams",zoom:"virtual-meeting-modal__icon-zoom",linkedin:"msg-ui-video-conference-card-presenter__icon-linkedin"},B={bluejeans:{cancel:"virtual_meetings_auth_cancel_bluejeans",select:"virtual_meetings_select_provider_bluejeans"},microsoft_teams:{cancel:"virtual_meetings_auth_cancel_teams",select:"virtual_meetings_select_provider_teams"},zoom:{cancel:"virtual_meetings_auth_cancel_zoom",select:"virtual_meetings_select_provider_zoom"},linkedin:{cancel:"virtual_meetings_auth_cancel_linkedin",select:"virtual_meetings_select_provider_linkedin"}}
let W=(h=(0,d.inject)("msg-data@data-manager"),f=(0,d.inject)("global-services@local-storage"),b=(0,d.inject)("global-services@window"),_=(0,d.inject)("tracking"),y=class extends s.default{get showFooter(){return this.showCreateMeetingState||this.showDatePicker}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",v,this);(0,t.default)(this,"localStorage",k,this);(0,t.default)(this,"windowService",w,this);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"scheduleMeetingData",P,this);(0,t.default)(this,"showVirtualMeetingState",T,this);(0,t.default)(this,"showAuthConfirmModalState",O,this);(0,t.default)(this,"showCreateMeetingState",M,this);(0,t.default)(this,"showDatePicker",D,this);(0,t.default)(this,"providerData",S,this);(0,t.default)(this,"isMeetingRequestLoading",R,this);(0,t.default)(this,"isRevokeAuthLoading",I,this);(0,t.default)(this,"currentProviderData",E,this);(0,t.default)(this,"isZoomCurrentProvider",x,this);(0,t.default)(this,"isLinkedInCurrentProvider",A,this);(0,t.default)(this,"hasInstantMeetingError",N,this);(0,t.default)(this,"hasScheduleMeetingError",L,this);(0,t.default)(this,"hasRevokeAuthError",j,this);(0,t.default)(this,"focusOnFirstProvider",z,this);(0,t.default)(this,"authError",U,this)
this._initProviderData().then((()=>{this._updateProviderToCachedValue()}))
this._setAuthCallback()}_initProviderData(){return this.msgDataManager.fetchProviderList().then((e=>{if(!this.isDestroying){var t
const n=null!==(t=this.args.viewData.conversationFeatureTypes)&&void 0!==t&&t.includes("CREATE_LINKEDIN_VIRTUAL_MEETING")?e:e.filter((e=>"LINKEDIN"!==(0,c.get)(e,"type")))
this.providerData=n.map((e=>({provider:e,className:H[(0,c.get)(e,"type").toLowerCase()],controlInteractionEventName:B[(0,c.get)(e,"type").toLowerCase()].select,cancelInteractionEvent:B[(0,c.get)(e,"type").toLowerCase()].cancel})))}}))}_handleAuthError(){this.authError={hasError:!0,providerName:(0,c.get)(this.currentProviderData.provider,"name")}
this._setVirtualMeetingModalState()
this._resetCurrentProvider()}_setAuthCallback(){p.default&&(this.windowService.window[G]=()=>{if(!this.isDestroying){this.msgDataManager.fetchMeetingProviderAuthInfo((0,c.get)(this.currentProviderData.provider,"type")).then((e=>{if(!this.isDestroying)if(e){this.tracking.fireInteractionEvent("virtual_meeting_authentication_success");(0,c.set)(this.currentProviderData.provider,"providerAuthInfo",e)
this._setVirtualMeetingModalState()
this._setCreateMeetingState()
this.authError={}}else this._handleAuthError()})).catch((e=>{this._handleAuthError()
throw e}))
this.popup.close()}})}_updateCurrentProvider(e){this.currentProviderData=e
this.isZoomCurrentProvider="Zoom"===(0,c.get)(e.provider,"name")
this.isLinkedInCurrentProvider=(0,c.get)(e.provider,"name").includes("LinkedIn")
this.localStorage.setItem(u.VIRTUAL_MEETINGS_LS_KEY,(0,c.get)(e.provider,"type"))}_resetCurrentProvider(){this.currentProviderData={}
this.localStorage.removeItem(u.VIRTUAL_MEETINGS_LS_KEY)}_updateProviderToCachedValue(){const e=this.localStorage.getItem(u.VIRTUAL_MEETINGS_LS_KEY)
let t
if(e){t="LINKEDIN"===e?this.providerData.find((t=>(0,c.get)(t.provider,"type")===e)):this.providerData.find((t=>(0,c.get)(t.provider,"type")===e&&(0,c.get)(t.provider,"providerAuthInfo")))
if(t){this._setCreateMeetingState()
this._updateCurrentProvider(t)}else this._resetCurrentProvider()}else{const e=this.providerData.find((e=>"LINKEDIN"===(0,c.get)(e.provider,"type")))
if(e){this._setCreateMeetingState()
this._updateCurrentProvider(e)}}}_setVirtualMeetingModalState(){this.showVirtualMeetingState=!0
this.showAuthConfirmModalState=!1}_setAuthConfirmationModalState(){this.showVirtualMeetingState=!1
this.showAuthConfirmModalState=!0}_setProviderListState(){this.showCreateMeetingState=!1
this.showDatePicker=!1
this.hasInstantMeetingError=!1
this.hasScheduleMeetingError=!1
this.hasRevokeAuthError=!1
this.focusOnFirstProvider=!0}_setCreateMeetingState(){this.showCreateMeetingState=!0
this.showDatePicker=!1
this.focusOnFirstProvider=!1}_setDatePickerState(){this.showCreateMeetingState=!1
this.showDatePicker=!0}_createLinkedInMeeting(e){const t=(0,g.extractUrnParts)(this.args.viewData.conversationUrn)[1]
return`${(0,m.getDomainUrl)()}/thread/${t}/conference/${e}`}_handleLinkedInMeetingSend(e,t){const n={digitalMediaConferenceUrn:e,virtualMeetingTimeRange:t,message:"",messageReplyType:this.args.viewData.messageReplyType,senderID:this.args.viewData.authenticatedUserProfileUrn}
this.msgDataManager.createAndSaveMessageEvent({participants:this.args.viewData.participantEntityUrns,conversationUrn:this.args.viewData.conversationUrn,msgData:n})}_updateComposeBoxAndCloseModal(e){if(!this.isDestroyed){const t=(0,c.get)(e,"digitalMediaConferenceUrn")
t?this._handleLinkedInMeetingSend(t,(0,c.get)(e,"timeRange")):this.args.filloutMeetingInvite({body:(0,c.get)(e,"meetingInvitation")})
this.args.closeVirtualMeetingContainer()
this.isMeetingRequestLoading=!1}}createInstantMeeting(){this.isMeetingRequestLoading=!0
this.msgDataManager.fetchProviderMeetingCreationData({isInstantMeeting:!0,provider:this.currentProviderData.provider,conversationUrn:this.args.viewData.conversationUrn}).then(this._updateComposeBoxAndCloseModal.bind(this)).catch((e=>{this.hasInstantMeetingError=!0
this.isMeetingRequestLoading=!1
throw e}))}scheduleMeeting(){this.isMeetingRequestLoading=!0
const{endTime:e,startTime:t,timeZone:n}=this.scheduleMeetingData
this.msgDataManager.fetchProviderMeetingCreationData({isInstantMeeting:!1,endTime:e,startTime:t,timeZone:n,provider:this.currentProviderData.provider,conversationUrn:this.args.viewData.conversationUrn}).then(this._updateComposeBoxAndCloseModal.bind(this)).catch((e=>{this.hasScheduleMeetingError=!0
this.isMeetingRequestLoading=!1
throw e}))}authorizeUser(e){this.currentProviderData=e
this.msgDataManager.fetchProviderGaapAuthUrl((0,c.get)(e.provider,"type"),G).then((e=>{p.default&&!this.isDestroying&&(this.popup=this.windowService.open(jSecure.sanitizeUrl(e),"","width=790,height=580"))})).catch((e=>{this._handleAuthError()
throw e}))}removeProviderGaapAuthUrl(){this.isRevokeAuthLoading=!0
this.msgDataManager.removeProviderGaapAuthUrl((0,c.get)(this.currentProviderData.provider,"type")).then((()=>{if(!this.isDestroying){this.isRevokeAuthLoading=!1;(0,c.set)(this.currentProviderData.provider,"providerAuthInfo",void 0)
this._setProviderListState()
this._resetCurrentProvider()}})).catch((e=>{if(!this.isDestroying){this.isRevokeAuthLoading=!1
this.hasRevokeAuthError=!0
throw e}}))}showAuthConfirmModalAction(e){this.currentProviderData=e
this._setAuthConfirmationModalState()}closeAuthConfirmModalAction(){this._setVirtualMeetingModalState()
this._resetCurrentProvider()}showDatePickerAction(){this._setDatePickerState()}showCreateMeetingAction(){this._setCreateMeetingState()}showCreateMeetingAndUpdateProviderAction(e){this._setCreateMeetingState()
this._updateCurrentProvider(e)}showProviderListAction(){this._setProviderListState()
this._resetCurrentProvider()}onProviderSelect(e){(0,c.get)(e.provider,"providerAuthInfo")||(0,c.get)(e.provider,"name").includes("LinkedIn")?this.showCreateMeetingAndUpdateProviderAction(e):this.showAuthConfirmModalAction(e)}dismissModalAndFireInteractionEvent(){var e,t
this.tracking.fireInteractionEvent(this.currentProviderData.cancelInteractionEvent)
null===(e=(t=this.args).closeVirtualMeetingContainer)||void 0===e||e.call(t)}},v=(0,i.default)(y.prototype,"msgDataManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(y.prototype,"localStorage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"windowService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(y.prototype,"tracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(y.prototype,"scheduleMeetingData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=(0,i.default)(y.prototype,"showVirtualMeetingState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=(0,i.default)(y.prototype,"showAuthConfirmModalState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,i.default)(y.prototype,"showCreateMeetingState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,i.default)(y.prototype,"showDatePicker",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,i.default)(y.prototype,"providerData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=(0,i.default)(y.prototype,"isMeetingRequestLoading",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,i.default)(y.prototype,"isRevokeAuthLoading",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,i.default)(y.prototype,"currentProviderData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),x=(0,i.default)(y.prototype,"isZoomCurrentProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,i.default)(y.prototype,"isLinkedInCurrentProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,i.default)(y.prototype,"hasInstantMeetingError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,i.default)(y.prototype,"hasScheduleMeetingError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=(0,i.default)(y.prototype,"hasRevokeAuthError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,i.default)(y.prototype,"focusOnFirstProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,i.default)(y.prototype,"authError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,i.default)(y.prototype,"createInstantMeeting",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"createInstantMeeting"),y.prototype),(0,i.default)(y.prototype,"scheduleMeeting",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"scheduleMeeting"),y.prototype),(0,i.default)(y.prototype,"authorizeUser",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"authorizeUser"),y.prototype),(0,i.default)(y.prototype,"removeProviderGaapAuthUrl",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"removeProviderGaapAuthUrl"),y.prototype),(0,i.default)(y.prototype,"showAuthConfirmModalAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"showAuthConfirmModalAction"),y.prototype),(0,i.default)(y.prototype,"closeAuthConfirmModalAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"closeAuthConfirmModalAction"),y.prototype),(0,i.default)(y.prototype,"showDatePickerAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"showDatePickerAction"),y.prototype),(0,i.default)(y.prototype,"showCreateMeetingAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"showCreateMeetingAction"),y.prototype),(0,i.default)(y.prototype,"showCreateMeetingAndUpdateProviderAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"showCreateMeetingAndUpdateProviderAction"),y.prototype),(0,i.default)(y.prototype,"showProviderListAction",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"showProviderListAction"),y.prototype),(0,i.default)(y.prototype,"onProviderSelect",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"onProviderSelect"),y.prototype),(0,i.default)(y.prototype,"dismissModalAndFireInteractionEvent",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"dismissModalAndFireInteractionEvent"),y.prototype),y)
e.default=W;(0,r.setComponentTemplate)(F,W)}))
define("msg-shared-modals/components/virtual-meeting-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","global-utils/utils/is-browser","msg-shared/utils/constants","global-utils/utils/url","global-utils/utils/urn-id-helpers","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,_,y,v,k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F,G,H,B
const W=(0,o.createTemplateFactory)({id:"wq+Tgt2Z",block:'[[[41,[30,0,["showVirtualMeetingState"]],[[[1,"  "],[8,[39,1],null,[["@modalClasses","@dismissModal","@headerId","@isOpen","@returnFocusTo","@ariaDescribedBy","@size"],["msg-virtual-meeting-modal",[30,1],"msg-modal-video-meeting",true,[30,2],"msg-modal-video-meeting","small"]],[["default"],[[[[1,"\\n    "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-modal-video-meeting"],[12],[1,"\\n        "],[1,[28,[35,2],["i18n_virtual_meeting_header","msg-shared-modals/components/virtual-meeting-modal"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,3,["artdeco-modal-content"]],[[16,0,[28,[37,3],["virtual-meeting-modal__content",[52,[30,0,["showCreateMeetingState"]]," msg-virtual-meeting-modal__create-meeting-content"],[52,[30,0,["showDatePicker"]]," msg-virtual-meeting-modal__date-picker-content"]],null]]],[["@hasPadding"],[false]],[["default"],[[[[1,"\\n"],[41,[30,0,["isMeetingRequestLoading"]],[[[1,"        "],[10,0],[14,0,"virtual-meeting-modal__loader-container"],[12],[1,"\\n          "],[8,[39,4],null,null,null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"p4 full-height"],[12],[1,"\\n"],[41,[30,0,["showCreateMeetingState"]],[[[41,[30,0,["isZoomCurrentProvider"]],[[[1,"            "],[10,2],[14,0,"t-14 pt1 pb4"],[12],[1,"\\n              "],[1,[28,[35,2],["i18n_zoom_body","msg-shared-modals/components/virtual-meeting-modal"],[["linkInfo"],[[28,[37,5],null,[["target","href"],["_blank","/help/linkedin/answer/124096"]]]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,"ul"],[14,0,"list-style-none"],[15,"data-current-provider-type",[30,0,["currentProviderData","provider","type"]]],[12],[1,"\\n            "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n              "],[11,"button"],[24,0,"display-flex align-items-center"],[24,4,"button"],[4,[38,6],["virtual_meetings_click_instant"],null],[4,[38,7],["click",[30,0,["createInstantMeeting"]]],null],[12],[1,"\\n                "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__create-icon","flash-on-icon","medium"]]]],[1,"\\n                "],[10,0],[14,0,"text-align-left"],[12],[1,"\\n                  "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_send_instant_meeting","msg-shared-modals/components/virtual-meeting-modal"],null],[28,[37,2],["i18n_create_instant_meeting","msg-shared-modals/components/virtual-meeting-modal"],null]]],[13],[1,"\\n"],[41,[30,0,["hasInstantMeetingError"]],[[[1,"                    "],[8,[39,9],null,[["@message","@type"],[[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_instant_linkedin_meeting_error","msg-shared-modals/components/virtual-meeting-modal"],null],[28,[37,2],["i18n_instant_meeting_error","msg-shared-modals/components/virtual-meeting-modal"],null]],"error"]],null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n              "],[11,"button"],[24,0,"display-flex align-items-center justify-space-between full-width"],[24,4,"button"],[4,[38,6],["virtual_meetings_click_schedule"],null],[4,[38,7],["click",[30,0,["showDatePickerAction"]]],null],[12],[1,"\\n                "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                  "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__create-icon","calendar-icon","medium"]]]],[1,"\\n                  "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[28,[35,2],["i18n_schedule_meeting","msg-shared-modals/components/virtual-meeting-modal"],null]],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[1,[28,[35,8],null,[["class","type","size"],["virtual-meeting-modal__chevron-icon","chevron-right-icon","small"]]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showDatePicker"]],[[[1,"          "],[8,[39,10],null,[["@hasScheduleMeetingError","@isZoomCurrentProvider","@isLinkedInCurrentProvider","@updateScheduleMeetingData"],[[30,0,["hasScheduleMeetingError"]],[30,0,["isZoomCurrentProvider"]],[30,0,["isLinkedInCurrentProvider"]],[28,[37,11],[[28,[37,12],[[30,0],"scheduleMeetingData"],null]],null]]],null],[1,"\\n"]],[]],[[[41,[30,0,["authError","hasError"]],[[[1,"            "],[8,[39,9],null,[["@class","@message","@type"],["pb2",[28,[37,2],["i18n_auth_error","msg-shared-modals/components/virtual-meeting-modal"],[["providerName"],[[30,0,["authError","providerName"]]]]],"error"]],null],[1,"\\n"]],[]],null],[1,"          "],[10,"ul"],[14,0,"list-style-none"],[12],[1,"\\n"],[42,[28,[37,14],[[28,[37,14],[[30,0,["providerData"]]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"virtual-meeting-modal__list-item"],[12],[1,"\\n                "],[11,"button"],[24,0,"display-flex align-items-center justify-space-between full-width"],[16,"aria-label",[52,[30,4,["provider","providerAuthInfo"]],[28,[37,2],["i18n_signedin_provider_a11y","msg-shared-modals/components/virtual-meeting-modal"],[["providerName","email"],[[30,4,["provider","name"]],[30,4,["provider","providerAuthInfo","authorizedHandle"]]]]],[28,[37,2],["i18n_provider_a11y","msg-shared-modals/components/virtual-meeting-modal"],[["providerName"],[[30,4,["provider","name"]]]]]]],[24,4,"button"],[4,[38,6],[[30,4,["controlInteractionEventName"]]],null],[4,[38,7],["click",[28,[37,11],[[30,0,["onProviderSelect"]],[30,4]],null]],null],[4,[38,15],null,[["when"],[[28,[37,16],[[30,0,["focusOnFirstProvider"]],[28,[37,17],[[30,5],0],null]],null]]]],[12],[1,"\\n                  "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n"],[41,[28,[37,18],[[28,[37,19],[[30,4,["provider","name"]],"LinkedIn"],null],[28,[37,19],[[30,4,["provider","name"]],"LinkedIn video meetings"],null]],null],[[[1,"                      "],[1,[28,[35,8],null,[["type","size","class"],["linkedin-inbug-color-icon",[30,0,["medium"]],"pr3"]]]],[1,"\\n"]],[]],[[[1,"                      "],[10,0],[15,0,[28,[37,3],["virtual-meeting-modal__icon mr3 ",[30,4,["className"]]],null]],[12],[1,"\\n                      "],[13],[1,"\\n"]],[]]],[1,"                    "],[10,0],[14,0,"virtual-meeting-moodal__list-item-info text-align-left"],[12],[1,"\\n                      "],[10,2],[14,0,"t-14 t-bold"],[12],[1,[30,4,["provider","name"]]],[13],[1,"\\n"],[41,[30,4,["provider","providerAuthInfo"]],[[[1,"                        "],[10,2],[14,0,"t-14 truncate"],[12],[1,[30,4,["provider","providerAuthInfo","authorizedHandle"]]],[13],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                  "],[13],[1,"\\n\\n                  "],[1,[28,[35,8],null,[["type","size","class"],["chevron-right-icon","medium","virtual-meeting-modal__chevron-icon"]]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[4,5]],null],[1,"          "],[13],[1,"\\n        "]],[]]]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showFooter"]],[[[41,[30,0,["showCreateMeetingState"]],[[[1,"        "],[8,[30,3,["artdeco-modal-footer"]],null,[["@classNames","@hasPadding"],["relative p0",false]],[["default"],[[[[1,"\\n"],[41,[30,0,["isRevokeAuthLoading"]],[[[1,"            "],[10,0],[14,0,"virtual-meeting-modal__loader-container"],[12],[1,"\\n              "],[8,[39,4],null,[["@size"],["small"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,0],[14,0,"display-flex pv3 ph4"],[12],[1,"\\n"],[41,[30,0,["isLinkedInCurrentProvider"]],[[[1,"              "],[1,[28,[35,8],null,[["type","size","class"],["linkedin-inbug-color-icon","medium","pr3"]]]],[1,"\\n"]],[]],[[[1,"              "],[10,0],[15,0,[28,[37,3],["virtual-meeting-modal__icon mt2 mr3 ",[30,0,["currentProviderData","className"]]],null]],[12],[1,"\\n              "],[13],[1,"\\n"]],[]]],[1,"            "],[10,0],[12],[1,"\\n              "],[10,2],[14,0,"pb2"],[12],[1,"\\n"],[41,[30,0,["isLinkedInCurrentProvider"]],[[[1,"                  "],[10,1],[14,0,"t-14"],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_linkedin_provider","msg-shared-modals/components/virtual-meeting-modal"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[10,1],[14,0,"t-14"],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_signed_in_provider","msg-shared-modals/components/virtual-meeting-modal"],[["providerName","email"],[[30,0,["currentProviderData","provider","name"]],[30,0,["currentProviderData","provider","providerAuthInfo","authorizedHandle"]]]]]],[1,"\\n                  "],[13],[1,"\\n                  "],[11,"button"],[24,0,"t-14 link"],[24,4,"button"],[4,[38,7],["click",[30,0,["removeProviderGaapAuthUrl"]]],null],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_sign_out","msg-shared-modals/components/virtual-meeting-modal"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]]],[1,"              "],[13],[1,"\\n              "],[11,"button"],[24,0,"t-14 link pb2"],[24,4,"button"],[4,[38,7],["click",[30,0,["showProviderListAction"]]],null],[12],[1,"\\n                "],[1,[28,[35,2],["i18n_switch_provider","msg-shared-modals/components/virtual-meeting-modal"],null]],[1,"\\n              "],[13],[1,"\\n"],[41,[30,0,["hasRevokeAuthError"]],[[[1,"                "],[8,[39,9],null,[["@class","@message","@type"],["pb2",[28,[37,2],["i18n_revoke_error","msg-shared-modals/components/virtual-meeting-modal"],null],"error"]],null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[30,3,["artdeco-modal-footer"]],null,[["@classNames"],["display-flex justify-flex-end"]],[["default"],[[[[1,"\\n          "],[8,[39,20],null,[["@class","@click","@size","@text","@type"],["mr2",[30,0,["showCreateMeetingAction"]],2,[28,[37,2],["i18n_back","msg-shared-modals/components/virtual-meeting-modal"],null],"tertiary"]],null],[1,"\\n"],[1,"          "],[8,[39,20],null,[["@click","@size","@text","@type"],[[30,0,["scheduleMeeting"]],2,[52,[30,0,["isLinkedInCurrentProvider"]],[28,[37,2],["i18n_send","msg-shared-modals/components/virtual-meeting-modal"],null],[28,[37,2],["i18n_create","msg-shared-modals/components/virtual-meeting-modal"],null]],"primary"]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[]],null],[1,"  "]],[3]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showAuthConfirmModalState"]],[[[1,"  "],[8,[39,1],null,[["@isOpen","@headerId","@dismissModal","@size"],[true,"msg-modal-virtual-meeting-auth-modal",[30,0,["dismissModalAndFireInteractionEvent"]],"small"]],[["default"],[[[[1,"\\n    "],[8,[30,6,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[10,"h2"],[14,1,"msg-modal-virtual-meeting-auth-modal"],[12],[1,"\\n        "],[1,[28,[35,2],["i18n_auth_header","msg-shared-modals/components/virtual-meeting-modal"],[["providerName"],[[30,0,["currentProviderData","provider","name"]]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,6,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n      "],[1,[28,[35,2],["i18n_auth_body","msg-shared-modals/components/virtual-meeting-modal"],[["providerName"],[[30,0,["currentProviderData","provider","name"]]]]]],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,6,["artdeco-modal-footer"]],[[24,0,"display-flex justify-flex-end"]],null,[["default"],[[[[1,"\\n      "],[8,[39,20],[[4,[38,6],[[30,0,["currentProviderData","cancelInteractionEvent"]]],null]],[["@class","@click","@size","@text","@type"],["mr2",[30,0,["closeAuthConfirmModalAction"]],2,[28,[37,2],["i18n_cancel","msg-shared-modals/components/virtual-meeting-modal"],null],"secondary"]],null],[1,"\\n      "],[8,[39,20],[[4,[38,6],["virtual_meeting_authentication_start"],null]],[["@click","@size","@text","@type"],[[28,[37,11],[[30,0,["authorizeUser"]],[30,0,["currentProviderData"]]],null],2,[28,[37,2],["i18n_auth_confirm","msg-shared-modals/components/virtual-meeting-modal"],null],"primary"]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[6]]]]],[1,"\\n"]],[]],null]],["@closeVirtualMeetingContainer","@refocusElement","modal","providerData","index","modal"],false,["if","artdeco-modal@artdeco-modal","t","concat","artdeco-loader@artdeco-loader","hash","ember-cli-pemberly-tracking@track-interaction","on","artdeco-icons-web@li-icon","artdeco-inline-feedback@artdeco-inline-feedback","msg-shared-modals@date-picker-content-presenter","fn","ember-set-helper@set","each","-track-array","global-modifiers@focus","and","eq","global-helpers@or","global-helpers@eq","artdeco-button@artdeco-button"]]',moduleName:"msg-shared-modals/components/virtual-meeting-modal.hbs",isStrictMode:!1}),K="onMeetingAuthComplete",V={bluejeans:"virtual-meeting-modal__icon-bluejeans",microsoft_teams:"virtual-meeting-modal__icon-microsoft_teams",zoom:"virtual-meeting-modal__icon-zoom",linkedin:"msg-ui-video-conference-card-presenter__icon-linkedin"},q={bluejeans:{cancel:"virtual_meetings_auth_cancel_bluejeans",select:"virtual_meetings_select_provider_bluejeans"},microsoft_teams:{cancel:"virtual_meetings_auth_cancel_teams",select:"virtual_meetings_select_provider_teams"},zoom:{cancel:"virtual_meetings_auth_cancel_zoom",select:"virtual_meetings_select_provider_zoom"},linkedin:{cancel:"virtual_meetings_auth_cancel_linkedin",select:"virtual_meetings_select_provider_linkedin"}}
let $=(b=(0,d.inject)("msg-data@data-manager"),_=(0,d.inject)("global-services@local-storage"),y=(0,d.inject)("global-services@window"),v=(0,d.inject)("tracking"),k=(0,d.inject)("authentication@authenticated-user"),w=class extends s.default{get showFooter(){return this.showCreateMeetingState||this.showDatePicker}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"localStorage",P,this);(0,t.default)(this,"windowService",T,this);(0,t.default)(this,"tracking",O,this);(0,t.default)(this,"authenticatedUser",M,this);(0,t.default)(this,"scheduleMeetingData",D,this);(0,t.default)(this,"showVirtualMeetingState",S,this);(0,t.default)(this,"showAuthConfirmModalState",R,this);(0,t.default)(this,"showCreateMeetingState",I,this);(0,t.default)(this,"showDatePicker",E,this);(0,t.default)(this,"providerData",x,this);(0,t.default)(this,"isMeetingRequestLoading",A,this);(0,t.default)(this,"isRevokeAuthLoading",N,this);(0,t.default)(this,"currentProviderData",L,this);(0,t.default)(this,"isZoomCurrentProvider",j,this);(0,t.default)(this,"isLinkedInCurrentProvider",z,this);(0,t.default)(this,"hasInstantMeetingError",U,this);(0,t.default)(this,"hasScheduleMeetingError",F,this);(0,t.default)(this,"hasRevokeAuthError",G,this);(0,t.default)(this,"focusOnFirstProvider",H,this);(0,t.default)(this,"authError",B,this)
this._initProviderData().then((()=>{this._updateProviderToCachedValue()}))
this._setAuthCallback()}_initProviderData(){return this.msgDataManager.fetchProviderList().then((e=>{if(!this.isDestroying){var t
const n=null!==(t=this.args.conversationFeatureTypes)&&void 0!==t&&t.includes("CREATE_LINKEDIN_VIRTUAL_MEETING")?e:e.filter((e=>"LINKEDIN"!==(0,c.get)(e,"type")))
this.providerData=n.map((e=>({provider:e,className:V[(0,c.get)(e,"type").toLowerCase()],controlInteractionEventName:q[(0,c.get)(e,"type").toLowerCase()].select,cancelInteractionEvent:q[(0,c.get)(e,"type").toLowerCase()].cancel})))}}))}_handleAuthError(){this.authError={hasError:!0,providerName:(0,c.get)(this.currentProviderData.provider,"name")}
this._setVirtualMeetingModalState()
this._resetCurrentProvider()}_setAuthCallback(){p.default&&(this.windowService.window[K]=()=>{if(!this.isDestroying){this.msgDataManager.fetchMeetingProviderAuthInfo((0,c.get)(this.currentProviderData.provider,"type")).then((e=>{if(!this.isDestroying)if(e){this.tracking.fireInteractionEvent("virtual_meeting_authentication_success");(0,c.set)(this.currentProviderData.provider,"providerAuthInfo",e)
this._setVirtualMeetingModalState()
this._setCreateMeetingState()
this.authError={}}else this._handleAuthError()})).catch((e=>{this._handleAuthError()
throw e}))
this.popup.close()}})}_updateCurrentProvider(e){this.currentProviderData=e
this.isZoomCurrentProvider="Zoom"===(0,c.get)(e.provider,"name")
this.isLinkedInCurrentProvider=(0,c.get)(e.provider,"name").includes("LinkedIn")
this.localStorage.setItem(u.VIRTUAL_MEETINGS_LS_KEY,(0,c.get)(e.provider,"type"))}_resetCurrentProvider(){this.currentProviderData={}
this.localStorage.removeItem(u.VIRTUAL_MEETINGS_LS_KEY)}_updateProviderToCachedValue(){const e=this.localStorage.getItem(u.VIRTUAL_MEETINGS_LS_KEY)
let t
if(e){t="LINKEDIN"===e?this.providerData.find((t=>(0,c.get)(t.provider,"type")===e)):this.providerData.find((t=>(0,c.get)(t.provider,"type")===e&&(0,c.get)(t.provider,"providerAuthInfo")))
if(t){this._setCreateMeetingState()
this._updateCurrentProvider(t)}else this._resetCurrentProvider()}else{const e=this.providerData.find((e=>"LINKEDIN"===(0,c.get)(e.provider,"type")))
if(e){this._setCreateMeetingState()
this._updateCurrentProvider(e)}}}_setVirtualMeetingModalState(){this.showVirtualMeetingState=!0
this.showAuthConfirmModalState=!1}_setAuthConfirmationModalState(){this.showVirtualMeetingState=!1
this.showAuthConfirmModalState=!0}_setProviderListState(){this.showCreateMeetingState=!1
this.showDatePicker=!1
this.hasInstantMeetingError=!1
this.hasScheduleMeetingError=!1
this.hasRevokeAuthError=!1
this.focusOnFirstProvider=!0}_setCreateMeetingState(){this.showCreateMeetingState=!0
this.showDatePicker=!1
this.focusOnFirstProvider=!1}_setDatePickerState(){this.showCreateMeetingState=!1
this.showDatePicker=!0}_createLinkedInMeeting(e){const t=(0,g.extractUrnParts)(this.args.conversationUrn)[1]
return`${(0,m.getDomainUrl)()}/thread/${t}/conference/${e}`}_getReplyType(e){return(0,f.isInmailConversation)(e)?u.MESSAGE_TYPE.INMAIL_REPLY:(0,h.isSponsoredConversation)(e)?u.MESSAGE_TYPE.SPONSORED_MESSAGE_REPLY:u.MESSAGE_TYPE.M2M}_handleLinkedInMeetingSend(e,t,n){const i={digitalMediaConferenceUrn:t,virtualMeetingTimeRange:n,message:"",messageReplyType:this._getReplyType(e),senderID:(0,c.get)(this,"authenticatedUser.miniProfile.entityUrn")},a=(0,c.get)(e,"participants").mapBy("miniProfile.entityUrn")
this.msgDataManager.createAndSaveMessageEvent({participants:a,conversationUrn:(0,c.get)(e,"entityUrn"),msgData:i})}_updateComposeBoxAndCloseModal(e){if(!this.isDestroyed){const t=(0,c.get)(e,"digitalMediaConferenceUrn")
t?this._handleLinkedInMeetingSend(this.args.conversation,t,(0,c.get)(e,"timeRange")):this.args.filloutMeetingInvite({body:(0,c.get)(e,"meetingInvitation")})
this.args.closeVirtualMeetingContainer()
this.isMeetingRequestLoading=!1}}createInstantMeeting(){this.isMeetingRequestLoading=!0
this.msgDataManager.fetchProviderMeetingCreationData({isInstantMeeting:!0,provider:this.currentProviderData.provider,conversationUrn:this.args.conversationUrn}).then(this._updateComposeBoxAndCloseModal.bind(this)).catch((e=>{this.hasInstantMeetingError=!0
this.isMeetingRequestLoading=!1
throw e}))}scheduleMeeting(){this.isMeetingRequestLoading=!0
const{endTime:e,startTime:t,timeZone:n}=this.scheduleMeetingData
this.msgDataManager.fetchProviderMeetingCreationData({isInstantMeeting:!1,endTime:e,startTime:t,timeZone:n,provider:this.currentProviderData.provider,conversationUrn:this.args.conversationUrn}).then(this._updateComposeBoxAndCloseModal.bind(this)).catch((e=>{this.hasScheduleMeetingError=!0
this.isMeetingRequestLoading=!1
throw e}))}authorizeUser(e){this.currentProviderData=e
this.msgDataManager.fetchProviderGaapAuthUrl((0,c.get)(e.provider,"type"),K).then((e=>{p.default&&!this.isDestroying&&(this.popup=this.windowService.open(jSecure.sanitizeUrl(e),"","width=790,height=580"))})).catch((e=>{this._handleAuthError()
throw e}))}removeProviderGaapAuthUrl(){this.isRevokeAuthLoading=!0
this.msgDataManager.removeProviderGaapAuthUrl((0,c.get)(this.currentProviderData.provider,"type")).then((()=>{if(!this.isDestroying){this.isRevokeAuthLoading=!1;(0,c.set)(this.currentProviderData.provider,"providerAuthInfo",void 0)
this._setProviderListState()
this._resetCurrentProvider()}})).catch((e=>{if(!this.isDestroying){this.isRevokeAuthLoading=!1
this.hasRevokeAuthError=!0
throw e}}))}showAuthConfirmModalAction(e){this.currentProviderData=e
this._setAuthConfirmationModalState()}closeAuthConfirmModalAction(){this._setVirtualMeetingModalState()
this._resetCurrentProvider()}showDatePickerAction(){this._setDatePickerState()}showCreateMeetingAction(){this._setCreateMeetingState()}showCreateMeetingAndUpdateProviderAction(e){this._setCreateMeetingState()
this._updateCurrentProvider(e)}showProviderListAction(){this._setProviderListState()
this._resetCurrentProvider()}onProviderSelect(e){(0,c.get)(e.provider,"providerAuthInfo")||(0,c.get)(e.provider,"name").includes("LinkedIn")?this.showCreateMeetingAndUpdateProviderAction(e):this.showAuthConfirmModalAction(e)}dismissModalAndFireInteractionEvent(){var e,t
this.tracking.fireInteractionEvent(this.currentProviderData.cancelInteractionEvent)
null===(e=(t=this.args).closeVirtualMeetingContainer)||void 0===e||e.call(t)}},C=(0,i.default)(w.prototype,"msgDataManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(w.prototype,"localStorage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(w.prototype,"windowService",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(w.prototype,"tracking",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(w.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(w.prototype,"scheduleMeetingData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=(0,i.default)(w.prototype,"showVirtualMeetingState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=(0,i.default)(w.prototype,"showAuthConfirmModalState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,i.default)(w.prototype,"showCreateMeetingState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,i.default)(w.prototype,"showDatePicker",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,i.default)(w.prototype,"providerData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=(0,i.default)(w.prototype,"isMeetingRequestLoading",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,i.default)(w.prototype,"isRevokeAuthLoading",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,i.default)(w.prototype,"currentProviderData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),j=(0,i.default)(w.prototype,"isZoomCurrentProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,i.default)(w.prototype,"isLinkedInCurrentProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,i.default)(w.prototype,"hasInstantMeetingError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=(0,i.default)(w.prototype,"hasScheduleMeetingError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=(0,i.default)(w.prototype,"hasRevokeAuthError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=(0,i.default)(w.prototype,"focusOnFirstProvider",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,i.default)(w.prototype,"authError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,i.default)(w.prototype,"createInstantMeeting",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"createInstantMeeting"),w.prototype),(0,i.default)(w.prototype,"scheduleMeeting",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"scheduleMeeting"),w.prototype),(0,i.default)(w.prototype,"authorizeUser",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"authorizeUser"),w.prototype),(0,i.default)(w.prototype,"removeProviderGaapAuthUrl",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"removeProviderGaapAuthUrl"),w.prototype),(0,i.default)(w.prototype,"showAuthConfirmModalAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showAuthConfirmModalAction"),w.prototype),(0,i.default)(w.prototype,"closeAuthConfirmModalAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"closeAuthConfirmModalAction"),w.prototype),(0,i.default)(w.prototype,"showDatePickerAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showDatePickerAction"),w.prototype),(0,i.default)(w.prototype,"showCreateMeetingAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showCreateMeetingAction"),w.prototype),(0,i.default)(w.prototype,"showCreateMeetingAndUpdateProviderAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showCreateMeetingAndUpdateProviderAction"),w.prototype),(0,i.default)(w.prototype,"showProviderListAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showProviderListAction"),w.prototype),(0,i.default)(w.prototype,"onProviderSelect",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"onProviderSelect"),w.prototype),(0,i.default)(w.prototype,"dismissModalAndFireInteractionEvent",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"dismissModalAndFireInteractionEvent"),w.prototype),w)
e.default=$;(0,r.setComponentTemplate)(W,$)}))
define("msg-shared-modals/services/virtual-meeting-onboarding",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","rsvp"],(function(e,t,n,i,a,r,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,d,p,u,m,g,h
let f=(c=(0,s.inject)("lego@resolver"),d=(0,s.inject)("lego@tracking"),p=(g=new WeakMap,h=new WeakMap,class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",u,this);(0,t.default)(this,"legoTracking",m,this)
g.set(this,{writable:!0,value:void 0})
h.set(this,{writable:!0,value:!1})}fetchOnboardingNotification(){if((0,a.default)(this,h))return(0,l.resolve)(!1);(0,i.default)(this,h,!0)
return this.legoResolver.fireLegoCall({pageKey:"messaging_advanced_video_meeting_onboarding",slotId:"onboarding",groupId:"messaging_advanced_video_meeting_onboarding",widgetId:"messaging_advanced_video_meeting_onboarding"}).then((e=>{if(!this.isDestroying&&e){(0,i.default)(this,g,e.trackingToken)
this.legoTracking.sendLegoImpression((0,a.default)(this,g),this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)
return!0}return!1}))}dismissOnboardingNotification(){(0,a.default)(this,g)&&this.legoTracking.sendLegoAction((0,a.default)(this,g),this.legoTracking.LEGO_ACTION_DISMISS)}}),u=(0,r.default)(p.prototype,"legoResolver",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,r.default)(p.prototype,"legoTracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=f}))
define("msg-shared-modals/templates/i18n-strings",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"yTTwwPEQ",block:'[[[1,"\\n"]],[],false,[]]',moduleName:"msg-shared-modals/templates/i18n-strings.hbs",isStrictMode:!1})
e.default=n}))
define("msg-shared-modals/utils/phone-number-country-code-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t={af:93,al:355,dz:213,ad:376,ao:244,ag:1,ar:54,am:374,aw:297,au:61,at:43,az:994,bh:973,bd:880,by:375,be:32,bz:501,bj:229,bm:1,bo:591,ba:387,bw:267,br:55,bn:673,bg:359,bf:226,bi:257,kh:855,cm:237,cv:238,ky:1,cf:236,td:235,cl:56,cn:86,co:57,cg:242,cd:243,hr:385,cu:53,cy:357,cz:420,dk:45,ec:593,eg:20,sv:503,gq:240,ee:372,et:251,fo:298,fj:679,fi:358,fr:33,gf:594,pf:689,ga:241,gm:220,ge:995,de:49,gh:233,gi:350,gr:30,gl:299,gp:590,gg:44,gy:592,hk:852,hu:36,is:354,in:91,id:62,ir:98,iq:964,ie:353,im:44,il:972,it:39,ci:225,jm:1,jp:81,je:44,jo:962,kz:7,ke:254,kr:82,kw:965,kg:996,la:856,lv:371,lb:961,ls:266,ly:218,li:423,lt:370,lu:352,mo:853,mk:389,mg:261,mw:265,my:60,mv:960,ml:223,mt:356,mq:596,mu:230,yt:269,mx:52,md:373,mc:377,mn:976,ma:212,mz:258,na:264,np:977,nl:31,an:599,nc:687,nz:64,ne:227,ng:234,no:47,om:968,pk:92,ps:970,pa:507,py:595,pe:51,ph:63,pl:48,pt:351,pr:1,qa:974,re:262,ro:40,ru:7,rw:250,"satellite-thuraya":882,sa:966,sn:221,rs:381,sc:248,sl:232,sg:65,sk:421,si:386,za:27,es:34,lk:94,lc:1,vc:1,sd:249,sr:597,sz:268,se:46,ch:41,sy:963,tw:886,tj:992,tz:255,th:66,tg:228,tn:216,tr:90,tm:993,ug:256,gb:44,ua:380,ae:971,uy:598,us:1,uz:998,vu:678,ve:58,vn:84,ye:967,zm:260,zw:263,ca:1,as:1684,ai:1264,aq:672,bs:1242,bb:1246,bt:975,cx:61,cc:61,km:269,ck:682,cr:506,dj:253,dm:1767,do:1809,er:291,fk:500,gd:1473,gu:1671,gt:502,gn:224,gw:245,ht:509,hn:504,ki:686,lr:231,mh:692,mr:222,me:382,ms:1664,nr:674,ni:505,nu:683,nf:672,mp:1670,pw:680,pg:675,pn:870,sh:290,kn:1869,pm:508,ws:685,sm:378,st:239,sb:677,so:252,tl:670,tk:690,to:676,tt:1868,tc:1649,tv:688,vi:1340,wf:681,mm:95,kp:850,va:39,vg:1284,fm:691}
e.default=t}))
define("msg-shared-modals/viewdata/conversation-semaphore-viewdata",["exports","msg-data/viewdata","@ember/object","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","urn-utils"],(function(e,t,n,i,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class o extends t.default{get requiredProps(){return["conversation"]}get isGroupChat(){return(0,n.get)(this.props.conversation,"groupChat")}get conversationObjectUrn(){return(0,n.get)(this.props.conversation,"backendUrn")}get conversationUrn(){return(0,n.get)(this.props.conversation,"entityUrn")}get conversationId(){return(0,r.extractEntityInfoFromUrn)(this.conversationUrn).id}get participantTrackingUrns(){return(0,i.getParticipantTrackingUrns)((0,n.get)(this.props.conversation,"participants"))}get participantPresenceStatuses(){return(0,a.getParticipantPresenceStatuses)(this.props.conversation)}}e.default=o}))
define("msg-shared-modals/viewdata/convo-details-modal-viewdata",["exports","msg-data/viewdata","@ember/object","msg-shared/helpers/get-total-participants-count","global-helpers/helpers/name","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","urn-utils","presence/viewdata/entity-with-presence-viewdata"],(function(e,t,n,i,a,r,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const c=["conversation","authenticatedUserProfile","msgDataManager"]
class d extends t.default{get requiredProps(){return c}get conversationUrn(){return(0,n.get)(this.props.conversation,"entityUrn")}get conversationBackendUrn(){return(0,n.get)(this.props.conversation,"backendUrn")}get conversationId(){return(0,s.extractEntityInfoFromUrn)(this.conversationUrn).id}get participantTrackingUrns(){return(0,r.getParticipantTrackingUrns)((0,n.get)(this.props.conversation,"participants"))}get participantPresenceStatuses(){return(0,o.getParticipantPresenceStatuses)(this.props.conversation)}get contextText(){return(0,n.get)(this.props.conversation,"contextText")}get contextImage(){return(0,n.get)(this.props.conversation,"contextImage")}get contextImageActionTarget(){return this.contextImage?(0,n.get)(this.contextImage,"actionTarget"):null}get totalParticipantsCount(){return(0,i.getTotalParticipantsCount)(this.props.conversation)}get hasCreateGroupChatLink(){const e=(0,n.get)(this.props.conversation,"featureTypes")
return null!==e&&e.includes("CREATE_GROUP_CHAT_LINK")}get hasCreateNewGroupChat(){const e=(0,n.get)(this.props.conversation,"featureTypes")
return null!==e&&e.includes("CREATE_NEW_GROUP_CHAT")}get hasAddParticipant(){const e=(0,n.get)(this.props.conversation,"featureTypes")
return null!==e&&e.includes("ADD_PARTICIPANT")}get hasRemoveParticipant(){const e=(0,n.get)(this.props.conversation,"featureTypes")
return null!==e&&e.includes("REMOVE_PARTICIPANT")}get selfMiniProfile(){return this.props.authenticatedUserProfile}get selfProfileUrn(){const{authenticatedUserProfile:e}=this.props
return e?(0,n.get)(e,"entityUrn"):null}get selfPublicIdentifier(){const{authenticatedUserProfile:e}=this.props
return e?(0,n.get)(e,"publicIdentifier"):null}get selfOccupation(){const{authenticatedUserProfile:e}=this.props
return e?(0,n.get)(e,"occupation"):null}get selfName(){const{authenticatedUserProfile:e}=this.props
return e?(0,a.getName)(e):null}get isViewerCurrentParticipant(){return(0,n.get)(this.props.conversation,"viewerCurrentParticipant")}get participantProfiles(){return(0,n.get)(this.props.conversation,"participants").mapBy("miniProfile")}get participantsProps(){const e=[]
this.participants.forEach((t=>{const i=(0,n.get)(t,"messagingMember"),r=i?(0,n.get)(i,"miniProfile"):void 0,o=r?(0,n.get)(r,"entityUrn"):void 0,s=r?(0,n.get)(r,"publicIdentifier"):void 0,c=r?(0,a.getName)(r):void 0,d=r?(0,n.get)(r,"occupation"):void 0,p=(0,n.get)(t,"memberLabelTextViewModel")?(0,n.get)(t,"memberLabelTextViewModel.text"):void 0,u={distance:(0,n.get)(t,"distance")?(0,n.get)(t,"value"):void 0,entityWithPresenceViewData:new l.default({profile:r,altText:c}),id:s,memberUrn:o,name:c,occupation:d,text:p}
e.push(u)}))
return e}get participantProfile(){return(0,n.get)(this.props.conversation,"participants").mapBy("miniProfile")}get loggedInUserMemberLabel(){return this._findMemberLabelTextViewModelByMiniProfileUrn(this.selfProfileUrn)}_findMemberLabelTextViewModelByMiniProfileUrn(e){const t=(0,n.get)(this.props.conversation,"associatedMemberLabels")
if(!t)return
const i=t.findBy("miniProfileUrn",e)
return i?(0,n.get)(i,"labelName"):void 0}}e.default=d}))
define("msg-shared-modals/viewdata/delete-conversation-modal-viewdata",["exports","@ember/object","@ember/debug","global-helpers/helpers/name","msg-data/view-models/conversation","msg-shared/utils/get-latest-event-by-conversation-urn","msg-shared/utils/view-data-helpers"],(function(e,t,n,i,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t){this.msgDataManager=e.lookup("service:msg-data@data-manager")
this.args=t}get firstParticipantName(){return(0,i.getName)((0,t.get)(this.args.conversation,"participants.firstObject.miniProfile"))}get isGroupChat(){return(0,t.get)(this.args,"conversation.groupChat")}get isWithAdvertiser(){return(0,o.isConversationWithAdvertiser)(this._latestEvent())}_latestEvent(){const e=(0,t.get)(this.args,"conversation.entityUrn"),n=(0,r.getLatestEventByConversationUrn)(e,this.msgDataManager)
return n?(0,t.get)(n,"content"):void 0}}}))
define("msg-shared-modals/viewdata/report-participant-modal-viewdata",["exports","@ember/object","@ember/debug","presence/viewdata/entity-with-presence-viewdata","global-helpers/helpers/name"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t){this.owner=e
this.args=t}get participants(){return this.args.participants.map((e=>{const n=(0,t.get)(e,"miniProfile"),{entityUrn:r,objectUrn:o,publicIdentifier:s,occupation:l}=(0,t.getProperties)(n,"entityUrn","objectUrn","publicIdentifier","occupation")
return{entityUrn:r,objectUrn:o,publicIdentifier:s,name:(0,a.getName)(n),subtitle:l,entityWithPresenceViewData:new i.default({profile:n,altText:this.args.formatter.formatName(n,"full")})}}))}}}))
define("msg-shared-modals/viewdata/share-profile-info-modal-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends i.default{get requiredProps(){return["profileContactInfo","conversation","authenticatedUser","formatName"]}get emailAddresses(){return(0,t.get)(this.props.profileContactInfo,"confirmedEmailAddresses").map((e=>({entityUrn:(0,t.get)(e,"entityUrn"),email:(0,t.get)(e,"email")})))}get defaultPhoneNumber(){const e=(0,t.get)(this.props.profileContactInfo,"confirmedPhoneNumbers")
return(0,t.get)(e,"firstObject.number")}get participant(){const e=(0,t.get)(this.props.authenticatedUser,"miniProfile"),i=(0,n.getName)(e)
return{picture:(0,t.get)(e,"picture"),fullName:i&&this.methods.formatName(i,"full"),distance:(0,t.get)(e,"distance"),occupation:(0,t.get)(e,"occupation")}}get recruiterName(){const e=(0,t.get)(this.props.conversation,"participants.firstObject.miniProfile")
return(0,n.getName)(e)}}e.default=a}))
define("msg-shared-modals/viewdata/virtual-meeting-modal-viewdata",["exports","msg-data/viewdata","msg-shared/utils/view-data-helpers","@ember/object"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends t.default{get requiredProps(){return["conversation","authenticatedUserProfile","msgDataManager"]}get messageReplyType(){const e=(0,n.getLatestMessage)(this.props.conversation,this.props.msgDataManager)
return(0,n.getMessageReplyType)(e)}get authenticatedUserProfileUrn(){const{authenticatedUserProfile:e}=this.props
if(e)return(0,i.get)(e,"entityUrn")}get conversationUrn(){return(0,i.get)(this.props.conversation,"entityUrn")}get conversationFeatureTypes(){return(0,i.get)(this.props.conversation,"featureTypes")}get participantEntityUrns(){const{conversation:e}=this.props
if(e)return(0,i.get)(e,"participants").mapBy("miniProfile.entityUrn")}}e.default=a}))
define("msg-typeahead/components/connections-typeahead-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object/internals","@ember/service","@ember/runloop","ember-lifeline","@ember/object","@glimmer/component","@glimmer/tracking","tracked-toolbox","ember","global-utils/utils/is-browser","msg-shared/utils/constants","ember-batcher","urn-utils","global-helpers/helpers/load"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f,b,_,y,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F,G,H,B,W,K
const V=(0,o.createTemplateFactory)({id:"ZnT7uKsr",block:'[[[1,"\\n"],[11,0],[24,0,"msg-connections-typeahead relative"],[17,1],[4,[38,0],[[30,0,["onContainerElementInsert"]]],null],[4,[38,1],["focusin",[30,0,["onContainerFocusIn"]]],null],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,"label"],[15,"for",[29,[[30,0,["elementId"]],"-search-field"]]],[14,0,"visually-hidden"],[12],[1,[30,2]],[13],[1,"\\n"]],[]],null],[1,"  "],[10,"section"],[14,0,"msg-connections-typeahead__top-fixed-section"],[12],[1,"\\n"],[1,"    "],[11,0],[24,0,"scrollable msg-connections-typeahead__added-recipients display-flex align-items-center pl2 pv1"],[4,[38,1],["click",[30,0,["setFocusToParticipantTextField"]]],null],[4,[38,0],[[28,[37,3],[[30,0],"addedRecipientsContainer"],null]],null],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["recipientsWithContext"]]],null]],null],null,[[[1,"        "],[8,[39,6],null,[["@class","@text","@a11yText","@onDismiss","@selected","@size"],["mv1 mr1",[28,[37,7],null,[["firstName","lastName","type"],[[30,3,["miniProfile","firstName"]],[30,3,["miniProfile","lastName"]],"full"]]],[28,[37,8],["i18n_a11y_remove_recipient","msg-typeahead/components/connections-typeahead-feature"],[["recipientName"],[[28,[37,7],null,[["firstName","lastName","type"],[[30,3,["miniProfile","firstName"]],[30,3,["miniProfile","lastName"]],"full"]]]]]],[28,[37,9],[[30,0,["removeRecipientFromTypeahead"]],[30,3]],null],true,3]],null],[1,"\\n"]],[3]],null],[1,"\\n"],[1,"      "],[11,"input"],[16,1,[28,[37,10],[[30,0,["elementId"]],"-search-field"],null]],[16,0,[28,[37,10],["msg-connections-typeahead__search-field",[52,[51,[30,0,["recipients"]]]," msg-connections-typeahead__search-field--no-recipients"]," ml1 mv1"],null]],[16,"placeholder",[52,[51,[30,0,["recipientsWithContext"]]],[30,4]]],[24,"role","combobox"],[24,"aria-autocomplete","list"],[16,"aria-owns",[28,[37,10],[[30,0,["elementId"]],"-suggestions-menu"],null]],[24,"autocomplete","off"],[16,"aria-expanded",[52,[30,0,["showDropdown"]],"true","false"]],[16,"aria-activedescendant",[52,[30,0,["noResults"]],false,[30,0,["highlightedRecipient","domId"]]]],[24,4,"text"],[4,[38,0],[[28,[37,3],[[30,0],"searchFieldElement"],null]],null],[4,[38,1],["input",[30,0,["debounceFetchRecipients"]]],null],[4,[38,1],["keydown",[30,0,["onInputKeyDown"]]],null],[4,[38,1],["focusin",[28,[37,3],[[30,0],"isFocused",true],null]],null],[4,[38,1],["focusout",[28,[37,3],[[30,0],"isFocused",false],null]],null],[4,[38,12],null,[["when"],[[28,[37,13],[[30,5],false],null]]]],[12],[13],[1,"\\n\\n"],[41,[30,0,["displayPlusIcon"]],[[[1,"        "],[8,[39,14],[[4,[38,1],["click",[30,0,["showSuggestions"]]],null],[4,[38,15],[[52,[28,[37,16],null,null],"overlay_plus_icon","plus_icon"]],null]],[["@class","@color","@size","@icon","@circle","@text"],["msg-connections-typeahead__plus-icon mv2 ml2","muted",1,"plus-icon",true,[28,[37,8],["i18n_show_recipient_suggestions","msg-typeahead/components/connections-typeahead-feature"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"msg-connections-typeahead__hidden-field"],[12],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[1,"  "],[10,0],[15,0,[29,[[52,[30,0,["showDropdown"]],"msg-connections-typeahead__opacity-transition-in","msg-connections-typeahead__opacity-transition-out"],"\\n      scrollable msg-connections-typeahead__search-results\\n      ",[30,6]]]],[12],[1,"\\n    "],[10,0],[15,0,[52,[30,0,["showDropdown"]],"msg-connections-typeahead__margin-transition-in","msg-connections-typeahead__margin-transition-out"]],[12],[1,"\\n"],[41,[30,0,["showLoader"]],[[[1,"        "],[10,0],[14,0,"msg-connection-typeahead__loader msg-connections-typeahead__animate-fade-in"],[12],[1,"\\n          "],[8,[39,17],[[24,0,"mhA"]],[["@size"],["small"]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showRecipientsList"]],[[[41,[30,0,["showSuggestedLabel"]],[[[1,"          "],[10,0],[15,0,[29,[[52,[30,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"],"\\n              t-bold t-14 t-black--light pb2 pl3 pt2"]]],[12],[1,"\\n            "],[1,[28,[35,8],["i18n_suggested","msg-typeahead/components/connections-typeahead-feature"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"        "],[10,"ul"],[15,0,[29,["list-style-none\\n            ",[52,[30,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"]]]],[14,"role","listbox"],[15,1,[28,[37,10],[[30,0,["elementId"]],"-suggestions-menu"],null]],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["possibleRecipients"]]],null]],null],null,[[[1,"            "],[10,"li"],[14,"role","presentation"],[12],[1,"\\n"],[41,[28,[37,18],[[30,7,["recipientType"]],[30,0,["CONVERSATION"]]],null],[[[1,"                "],[8,[39,19],null,[["@highlightedRecipient","@recipient","@openConversation","@onMouseDown","@openConversationControlName","@impressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[30,9],[30,0,["preventEventChain"]],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add_group","quick_add_group"],[52,[28,[37,16],null,null],"overlay_search_add_group","search_add_group"]],[28,[37,9],[[30,0,["createConversationResultImpressionPayload"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]],[[[41,[30,10],[[[41,[28,[37,13],[[28,[37,13],[[28,[37,18],[[30,7,["recipientType"]],[30,0,["CONNECTIONS"]]],null],[28,[37,20],[[30,11],[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null]],null]],null],[30,0,["isSuggestedList"]]],null],[[[1,"                    "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,0,["handlePersonTypeaheadResultClick"]],[30,7]],null],[30,0,["preventEventChain"]],[52,[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null],[52,[28,[37,16],null,null],"overlay_search_add_coworker","search_add_coworker"],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add","quick_add"],[52,[28,[37,16],null,null],"overlay_search_add","search_add"]]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]],[[[1,"                    "],[8,[39,23],null,[["@interstitialUpsellOrigin","@recipientUrns","@contextEntityUrn","@screenContext","@referringModuleKey","@controlUrn"],["premium_inmail_message_compose_typeahead_upsell_modal",[30,7,["entityUrn"]],[30,7,["contextEntityUrn"]],"MESSAGING","messaging:compose_typeahead","messaging_typeahead_person_result"]],[["default"],[[[[1,"\\n                      "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,14],[30,12],[30,13]],null],[30,0,["preventEventChain"]],[52,[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null],[52,[28,[37,16],null,null],"overlay_search_add_coworker","search_add_coworker"],[52,[28,[37,16],null,null],"overlay_search_add_nonconnection","search_add_nonconnection"]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n                    "]],[12,13]]]]],[1,"\\n"]],[]]]],[]],[[[1,"                  "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,0,["handlePersonTypeaheadResultClick"]],[30,7]],null],[30,0,["preventEventChain"]],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add","quick_add"],[52,[28,[37,16],null,null],"overlay_search_add","search_add"]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]]]],[]]],[1,"            "],[13],[1,"\\n"]],[7,8]],null],[1,"        "],[13],[1,"\\n"]],[]],[[[41,[30,0,["noResults"]],[[[1,"        "],[10,0],[14,0,"msg-connections-typeahead__no-result p2 display-flex align-items-center"],[12],[1,"\\n          "],[8,[39,24],null,[["@message"],[[52,[30,0,["onlyConnectionResults"]],[28,[37,8],["i18n_no_connection_results","msg-typeahead/components/connections-typeahead-feature"],null],[28,[37,8],["i18n_no_results","msg-typeahead/components/connections-typeahead-feature"],null]]]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[18,15,[[28,[37,26],null,[["addRecipient","commitAddedRecipients"],[[30,0,["addRecipientMiniProfile"]],[30,0,["commitAddedRecipients"]]]]]]],[1,"\\n"],[13]],["&attrs","@a11yText","recipient","@placeholder","@hasInitialFocus","@searchResultContainerClass","recipient","index","@openConversation","@includeNonConnectionResults","@enableGroupMessageRequests","openMessaging","entryPointData","@composeToNonConnection","&default"],false,["did-insert","on","if","ember-set-helper@set","each","-track-array","artdeco-pill@artdeco-pill-dismiss","ember-cli-pemberly-i18n@format-name","t","fn","concat","unless","global-modifiers@focus","global-helpers@or","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","msg-shared@is-in-overlay","artdeco-loader@artdeco-loader","global-helpers@eq","msg-typeahead@conversation-result","global-helpers@and","msg-typeahead@person-result","global-helpers@includes","message-button@entry-point","artdeco-inline-feedback@artdeco-inline-feedback","yield","hash"]]',moduleName:"msg-typeahead/components/connections-typeahead-feature.hbs",isStrictMode:!1}),{KEYCODES:q,MESSAGE_TYPEAHEAD_SEARCH_TYPES:{CONNECTIONS:$,COWORKERS:Y,GROUP_THREADS:Z,PEOPLE:X},MESSAGE_TYPEAHEAD_RESULT_TYPES:{CONVERSATION:Q}}=b.default
let J=(k=(0,l.inject)("global-services@a11y-notification"),w=(0,l.inject)("i18n"),C=(0,l.inject)("msg-data@data-manager"),P=(0,l.inject)("tracking"),T=(0,l.inject)("lix"),O=(0,g.localCopy)("args.prefilledRecipients",[]),M=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",D,this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"msgDataManager",R,this);(0,t.default)(this,"tracking",I,this);(0,t.default)(this,"lix",E,this);(0,n.default)(this,"elementId",(0,s.guidFor)(this));(0,t.default)(this,"activeFetch",x,this);(0,t.default)(this,"highlightedRecipient",A,this);(0,t.default)(this,"possibleRecipients",N,this);(0,t.default)(this,"isSuggestedList",L,this);(0,t.default)(this,"showSuggestedLabel",j,this);(0,t.default)(this,"searchTerm",z,this);(0,t.default)(this,"isInOverlay",U,this);(0,t.default)(this,"isFocused",F,this);(0,t.default)(this,"loadingAnimationTransition",G,this);(0,t.default)(this,"noResults",H,this);(0,t.default)(this,"showDropdownManualOverride",B,this);(0,t.default)(this,"externallyPrefilledRecipients",W,this);(0,t.default)(this,"recipientsWithContext",K,this);(0,n.default)(this,"searchFieldClass","msg-connections-typeahead__search-field");(0,n.default)(this,"CONVERSATION",Q);(0,n.default)(this,"CONNECTIONS",$);(0,n.default)(this,"COWORKERS",Y)}get searchResultsSelector(){return".msg-connections-typeahead__search-results"}get displayPlusIcon(){return this.args.recipientSuggestionEnabled&&0===this.searchTerm.length&&!this.showDropdown&&this.recipients.length>0}get onlyConnectionResults(){return this.recipients.length||!(this.args.includeGroupConversationResults||this.args.includeNonConnectionResults)}get selectedRecipientUrns(){return this.recipients.mapBy("entityUrn")}get recipients(){return this.recipientsWithContext.mapBy("miniProfile")}get showDropdown(){return this.isFocused&&this.searchTerm||this.loadingAnimationTransition||this.showDropdownManualOverride}get showRecipientsList(){return!!this.activeFetch&&(this.possibleRecipients&&!this.activeFetch.isLoading)}get showLoader(){var e
return this.loadingAnimationTransition&&!this.possibleRecipients||this.possibleRecipients&&(null===(e=this.activeFetch)||void 0===e?void 0:e.isLoading)}onContainerFocusIn(e){if(this.isDestroying)return
if(!this.possibleRecipients)return
const t=e.target&&e.target.id,n=this.possibleRecipients.findBy("domId",t)
n&&this._setHighlightedRecipient(n)}onContainerElementInsert(e){this.containerElement=e
this.isInOverlay=!(null==e||!e.closest("#msg-overlay, .from-overlay"))}onInputKeyDown(e){switch(e.keyCode){case q.UP_ARROW:this._moveHighlightedRecipient(-1)
e.preventDefault()
break
case q.DOWN_ARROW:this._moveHighlightedRecipient(1)
e.preventDefault()
break
case q.BACKSPACE:if(e.target.classList.contains(this.searchFieldClass)&&!e.target.value){const e=(0,p.get)(this,"recipientsWithContext.lastObject")
e&&this.actions.removeRecipientFromTypeahead.call(this,e)}break
case q.ENTER:e.target===this.searchFieldElement&&this._handleEnterKey()}}_ensureHighlightedRecipientIsScrolledIntoView(){const e=this._getHighlightedRecipientElement()
if(!e)return
const t=e.offsetTop,n=t+e.offsetHeight,i=this.containerElement.querySelector(this.searchResultsSelector),a=i.offsetHeight,r=i.scrollTop
n>r+a?i.scrollTop=n-a:t<r&&(i.scrollTop=t)}_handleEnterKey(){const e=this._getHighlightedRecipientElement()
!e&&this.args.actionOnTypeaheadEnter&&"function"==typeof this.args.actionOnTypeaheadEnter?this.args.actionOnTypeaheadEnter():this._selectHighlightedRecipient(e)}_selectHighlightedRecipient(e){if(f.default&&e){e.click()
this.highlightedRecipient=null
this.tracking.fireInteractionEvent("search_add_enterkey")}}_getHighlightedRecipientElement(){var e
const t=(0,p.get)(this,"highlightedRecipient.domId")
return t&&(null===(e=this.containerElement)||void 0===e?void 0:e.querySelector(`#${t}`))}_focusSearchField(){this.searchFieldElement.focus()}_moveHighlightedRecipient(e){const{possibleRecipients:t}=this
if(!t||0===t.length)return
const n=this.highlightedRecipient,i=t.indexOf(n),a=(0,p.get)(this,"possibleRecipients.length"),r=n?(i+e+a)%a:0
this._setHighlightedRecipient(t.objectAt(r))}_setHighlightedRecipient(e){this.highlightedRecipient=e
this._ensureHighlightedRecipientIsScrolledIntoView(e)}_sendA11yNotification(e,t){return this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation("components/msg-typeahead@connections-typeahead",e)([t]))}_fetchRecipients(e){const t=[$]
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-forward-remove-non-connections")&&this.args.forwardedEvent)!(0,p.get)(this,"recipients.length")&&this.args.includeGroupConversationResults&&t.push(Z)
else if((0,p.get)(this,"recipients.length"))this.args.enableGroupMessageRequests&&t.push(Y)
else{this.args.includeGroupConversationResults&&t.push(Z)
this.args.includeNonConnectionResults&&t.push(X)
this.args.includeCoworkerResults&&t.push(Y)}this.isSuggestedList=!1
this.showSuggestedLabel=!1
const n=this.msgDataManager.fetchTypeaheadResults(e,t).then((e=>{e.forEach((e=>(0,p.set)(e,"domId",(0,s.guidFor)(e))))
if(!this.isDestroying){this.loadingAnimationTransition=!1
const t=this._filterOutExistingRecipients(e)
if(t.length){this.highlightedRecipient=(0,p.get)(t,"firstObject")
this.possibleRecipients=t
this.isSuggestedList=!1
this.showSuggestedLabel=!1}else{this.possibleRecipients=null
this.noResults=!0}this._sendA11yNotification("i18n_a11y_suggestions_hint_text",{resultsLength:(0,p.get)(t,"length")})}}))
this.activeFetch=(0,v.load)(n)}_filterOutExistingRecipients(e){const t=new Set(this.recipients.mapBy("entityUrn")),n=new Set(this.args.recipientsToFilterOut?this.args.recipientsToFilterOut.mapBy("entityUrn"):[])
return e.filter((e=>!t.has((0,p.get)(e,"entityUrn"))&&!n.has((0,p.get)(e,"entityUrn"))))}_fetchSuggestedRecipients(){let e=[]
e=!this.isSuggestedList?this.recipients.mapBy("entityUrn"):[]
this.loadingAnimationTransition=!0
const t=this.msgDataManager.fetchSuggestedRecipients(!1,e).then((e=>{if(!this.isDestroying){this.loadingAnimationTransition=!1
e.forEach((e=>{(0,p.set)(e,"domId",(0,s.guidFor)(e))}))
const t=this._filterOutExistingRecipients(e)
this.possibleRecipients=t
this.suggestedRecipients=t
this.isSuggestedList=!0
this.showSuggestedLabel=!0
t&&t.length>0&&this._setHighlightedRecipient(t[0])
this._sendA11yNotification("i18n_a11y_suggested_recipients_hint_text")}}))
this.activeFetch=(0,v.load)(t)
return t}addRecipientMiniProfile(e){this._addRecipient({miniProfile:e})}_addRecipient(e){const t=(0,p.get)(e,"contextEntityUrn")
this.recipientsWithContext.addObject({contextEntityUrn:t,miniProfile:e.miniProfile})
this._updateRecipients()
if((0,p.get)(e,"suggestedRecipientProfile")){let t=this.isSuggestedList?"quick_add":"search_add"
this.isInOverlay&&(t=`overlay_${t}`)
this.tracking.fireTrackingPayload("MessagingRecommendationActionEvent",{actionCategory:"SELECT",controlUrn:t,recommendationTrackingId:(0,p.get)(e,"trackingId"),usecase:"COMPOSE_MEMBER_FOR_GROUP_THREAD"})}this._sendA11yNotification("i18n_a11y_added_recipient",{name:e.name})
if(this.args.enableGroupMessageRequests&&t&&1===this.recipientsWithContext.length){var n,i
null===(n=(i=this.args).setComposeContext)||void 0===n||n.call(i,(0,p.get)(e,"entityUrn"),t)}this.searchFieldElement.value=""
this.searchTerm=""
this._focusSearchField();(0,_.mutateDOM)((()=>{this.isDestroying||(this.addedRecipientsContainer.scrollTop=this.addedRecipientsContainer.scrollHeight)}))}_removeRecipient(e,t){this.recipientsWithContext.removeObject(e)
this._updateRecipients()
this._sendA11yNotification("i18n_a11y_removed_recipient",{name:t})
this._focusSearchField()}_updateRecipients(){var e,t
null===(e=(t=this.args).recipientsChanged)||void 0===e||e.call(t,this.recipients,this.recipientsWithContext.filterBy("contextEntityUrn").map((e=>({recipient:(0,y.extractEntityInfoFromUrn)((0,p.get)(e,"miniProfile.entityUrn")).id,contextEntityUrn:e.contextEntityUrn}))))}setFocusToParticipantTextField(){this._focusSearchField()}showSuggestions(){this._focusSearchField()
this.showDropdownManualOverride=!0
this._fetchSuggestedRecipients()}handlePersonTypeaheadResultClick(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
if(t)this._removeRecipient(t,e.name)
else{this.showDropdownManualOverride=!1
this._addRecipient(e)}}removeRecipientFromTypeahead(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
this._removeRecipient(t,e.name)}debounceFetchRecipients(){const e=this.searchTerm
this.searchTerm=this.searchFieldElement.value
!e&&this.searchTerm&&this.tracking.fireInteractionEvent(this.isInOverlay?"overlay_begin_recipient_search":"begin_recipient_search")
if(this.searchTerm){if(!e){this.possibleRecipients=null
this.activeFetch=null}this.loadingAnimationTransition=!0
this.noResults=!1
if(h.default.testing)this._fetchRecipients(this.searchTerm)
else{(0,c.cancel)(this.debounce)
const e=h.default.testing?0:200
this.debounce=(0,d.debounceTask)(this,"_fetchRecipients",this.searchTerm,e)}}}commitAddedRecipients(){this.args.onRecipientsCommit&&this.args.onRecipientsCommit().then((()=>{this.isDestroying||(this.recipientsWithContext=[])}))}preventEventChain(e){e.preventDefault()}createPersonResultImpressionEvent(e,t,n){let{duration:i,visibleTime:a}=n
return(0,p.get)(e,"suggestedRecipientProfile")?{name:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:i,visibleTime:a,usecase:"COMPOSE_MEMBER_FOR_GROUP_THREAD",recommendationTrackingId:(0,p.get)(e,"trackingId"),listPosition:{index:t},recommendedEntityUrn:(0,p.get)(e,"miniProfile.entityUrn")}}}:[]}createConversationResultImpressionPayload(e,t,n){let{duration:i,visibleTime:a}=n
return(0,p.get)(e,"hitInfo.targetUrn")?{name:"MessagingRecommendationImpressionEvent",topic:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:i,usecase:"TYPEAHEAD_GROUP_THREAD",recommendedEntityUrn:(0,p.get)(e,"hitInfo.targetUrn"),listPosition:{index:t},recommendationTrackingId:(0,p.get)(e,"hitInfo.trackingId"),visibleTime:a}}}:[]}},D=(0,i.default)(M.prototype,"a11yNotification",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(M.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(M.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(M.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(M.prototype,"lix",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(M.prototype,"activeFetch",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(M.prototype,"highlightedRecipient",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(M.prototype,"possibleRecipients",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(M.prototype,"isSuggestedList",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(M.prototype,"showSuggestedLabel",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(M.prototype,"searchTerm",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=(0,i.default)(M.prototype,"isInOverlay",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(M.prototype,"isFocused",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(M.prototype,"loadingAnimationTransition",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(M.prototype,"noResults",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(M.prototype,"showDropdownManualOverride",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(M.prototype,"externallyPrefilledRecipients",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(M.prototype,"recipientsWithContext",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.externallyPrefilledRecipients.map((e=>({miniProfile:e,contextEntityUrn:void 0})))}}),(0,i.default)(M.prototype,"onContainerFocusIn",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onContainerFocusIn"),M.prototype),(0,i.default)(M.prototype,"onContainerElementInsert",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onContainerElementInsert"),M.prototype),(0,i.default)(M.prototype,"onInputKeyDown",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onInputKeyDown"),M.prototype),(0,i.default)(M.prototype,"addRecipientMiniProfile",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"addRecipientMiniProfile"),M.prototype),(0,i.default)(M.prototype,"setFocusToParticipantTextField",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"setFocusToParticipantTextField"),M.prototype),(0,i.default)(M.prototype,"showSuggestions",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"showSuggestions"),M.prototype),(0,i.default)(M.prototype,"handlePersonTypeaheadResultClick",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"handlePersonTypeaheadResultClick"),M.prototype),(0,i.default)(M.prototype,"removeRecipientFromTypeahead",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"removeRecipientFromTypeahead"),M.prototype),(0,i.default)(M.prototype,"debounceFetchRecipients",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"debounceFetchRecipients"),M.prototype),(0,i.default)(M.prototype,"commitAddedRecipients",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"commitAddedRecipients"),M.prototype),(0,i.default)(M.prototype,"preventEventChain",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"preventEventChain"),M.prototype),(0,i.default)(M.prototype,"createPersonResultImpressionEvent",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"createPersonResultImpressionEvent"),M.prototype),(0,i.default)(M.prototype,"createConversationResultImpressionPayload",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"createConversationResultImpressionPayload"),M.prototype),M)
e.default=J;(0,r.setComponentTemplate)(V,J)}))
define("msg-typeahead/components/connections-typeahead",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object/internals","@ember/service","@ember/runloop","ember-lifeline","@ember/object","@glimmer/component","@glimmer/tracking","tracked-toolbox","ember","global-utils/utils/is-browser","msg-shared/utils/constants","ember-batcher","urn-utils","global-helpers/helpers/load"],(function(e,t,n,i,a,r,o,s,l,c,d,p,u,m,g,h,f,b,_,y,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,w,C,P,T,O,M,D,S,R,I,E,x,A,N,L,j,z,U,F,G,H,B,W,K
const V=(0,o.createTemplateFactory)({id:"BAhm7g15",block:'[[[1,"\\n"],[11,0],[24,0,"msg-connections-typeahead relative"],[17,1],[4,[38,0],[[30,0,["onContainerElementInsert"]]],null],[4,[38,1],["focusin",[30,0,["onContainerFocusIn"]]],null],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,"label"],[15,"for",[29,[[30,0,["elementId"]],"-search-field"]]],[14,0,"visually-hidden"],[12],[1,[30,2]],[13],[1,"\\n"]],[]],null],[1,"  "],[10,"section"],[14,0,"msg-connections-typeahead__top-fixed-section"],[12],[1,"\\n"],[1,"    "],[11,0],[24,0,"scrollable msg-connections-typeahead__added-recipients display-flex align-items-center pl2 pv1"],[4,[38,1],["click",[30,0,["setFocusToParticipantTextField"]]],null],[4,[38,0],[[28,[37,3],[[30,0],"addedRecipientsContainer"],null]],null],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["recipientsWithContext"]]],null]],null],null,[[[1,"        "],[8,[39,6],null,[["@class","@text","@a11yText","@onDismiss","@selected","@size"],["mv1 mr1",[28,[37,7],null,[["firstName","lastName","type"],[[30,3,["miniProfile","firstName"]],[30,3,["miniProfile","lastName"]],"full"]]],[28,[37,8],["i18n_a11y_remove_recipient","msg-typeahead/components/connections-typeahead"],[["recipientName"],[[28,[37,7],null,[["firstName","lastName","type"],[[30,3,["miniProfile","firstName"]],[30,3,["miniProfile","lastName"]],"full"]]]]]],[28,[37,9],[[30,0,["removeRecipientFromTypeahead"]],[30,3]],null],true,3]],null],[1,"\\n"]],[3]],null],[1,"\\n"],[1,"      "],[11,"input"],[16,1,[28,[37,10],[[30,0,["elementId"]],"-search-field"],null]],[16,0,[28,[37,10],["msg-connections-typeahead__search-field",[52,[51,[30,0,["recipients"]]]," msg-connections-typeahead__search-field--no-recipients"]," ml1 mv1"],null]],[16,"placeholder",[52,[51,[30,0,["recipientsWithContext"]]],[30,4]]],[24,"role","combobox"],[24,"aria-autocomplete","list"],[16,"aria-owns",[28,[37,10],[[30,0,["elementId"]],"-suggestions-menu"],null]],[24,"autocomplete","off"],[16,"aria-expanded",[52,[30,0,["showDropdown"]],"true","false"]],[16,"aria-activedescendant",[52,[30,0,["noResults"]],false,[30,0,["highlightedRecipient","domId"]]]],[24,4,"text"],[4,[38,0],[[28,[37,3],[[30,0],"searchFieldElement"],null]],null],[4,[38,1],["input",[30,0,["debounceFetchRecipients"]]],null],[4,[38,1],["keydown",[30,0,["onInputKeyDown"]]],null],[4,[38,1],["focusin",[28,[37,3],[[30,0],"isFocused",true],null]],null],[4,[38,1],["focusout",[28,[37,3],[[30,0],"isFocused",false],null]],null],[4,[38,12],null,[["when"],[[28,[37,13],[[30,5],false],null]]]],[12],[13],[1,"\\n\\n"],[41,[30,0,["displayPlusIcon"]],[[[1,"        "],[8,[39,14],[[4,[38,1],["click",[30,0,["showSuggestions"]]],null],[4,[38,15],[[52,[28,[37,16],null,null],"overlay_plus_icon","plus_icon"]],null]],[["@class","@color","@size","@icon","@circle","@text"],["msg-connections-typeahead__plus-icon mv2 ml2","muted",1,"plus-icon",true,[28,[37,8],["i18n_show_recipient_suggestions","msg-typeahead/components/connections-typeahead"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"msg-connections-typeahead__hidden-field"],[12],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[1,"  "],[10,0],[15,0,[29,[[52,[30,0,["showDropdown"]],"msg-connections-typeahead__opacity-transition-in","msg-connections-typeahead__opacity-transition-out"],"\\n      scrollable msg-connections-typeahead__search-results\\n      ",[30,6]]]],[12],[1,"\\n    "],[10,0],[15,0,[52,[30,0,["showDropdown"]],"msg-connections-typeahead__margin-transition-in","msg-connections-typeahead__margin-transition-out"]],[12],[1,"\\n"],[41,[30,0,["showLoader"]],[[[1,"        "],[10,0],[14,0,"msg-connection-typeahead__loader msg-connections-typeahead__animate-fade-in"],[12],[1,"\\n          "],[8,[39,17],[[24,0,"mhA"]],[["@size"],["small"]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showRecipientsList"]],[[[41,[30,0,["showSuggestedLabel"]],[[[1,"          "],[10,0],[15,0,[29,[[52,[30,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"],"\\n              t-bold t-14 t-black--light pb2 pl3 pt2"]]],[12],[1,"\\n            "],[1,[28,[35,8],["i18n_suggested","msg-typeahead/components/connections-typeahead"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"        "],[10,"ul"],[15,0,[29,["list-style-none\\n            ",[52,[30,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"]]]],[14,"role","listbox"],[15,1,[28,[37,10],[[30,0,["elementId"]],"-suggestions-menu"],null]],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["possibleRecipients"]]],null]],null],null,[[[1,"            "],[10,"li"],[14,"role","presentation"],[12],[1,"\\n"],[41,[28,[37,18],[[30,7,["recipientType"]],[30,0,["CONVERSATION"]]],null],[[[1,"                "],[8,[39,19],null,[["@highlightedRecipient","@recipient","@openConversation","@onMouseDown","@openConversationControlName","@impressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[30,9],[30,0,["preventEventChain"]],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add_group","quick_add_group"],[52,[28,[37,16],null,null],"overlay_search_add_group","search_add_group"]],[28,[37,9],[[30,0,["createConversationResultImpressionPayload"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]],[[[41,[30,10],[[[41,[28,[37,13],[[28,[37,13],[[28,[37,18],[[30,7,["recipientType"]],[30,0,["CONNECTIONS"]]],null],[28,[37,20],[[30,11],[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null]],null]],null],[30,0,["isSuggestedList"]]],null],[[[1,"                    "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,0,["handlePersonTypeaheadResultClick"]],[30,7]],null],[30,0,["preventEventChain"]],[52,[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null],[52,[28,[37,16],null,null],"overlay_search_add_coworker","search_add_coworker"],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add","quick_add"],[52,[28,[37,16],null,null],"overlay_search_add","search_add"]]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]],[[[1,"                    "],[8,[39,23],null,[["@interstitialUpsellOrigin","@recipientUrns","@contextEntityUrn","@screenContext","@referringModuleKey","@controlUrn"],["premium_inmail_message_compose_typeahead_upsell_modal",[30,7,["entityUrn"]],[30,7,["contextEntityUrn"]],"MESSAGING","messaging:compose_typeahead","messaging_typeahead_person_result"]],[["default"],[[[[1,"\\n                      "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,14],[30,12],[30,13]],null],[30,0,["preventEventChain"]],[52,[28,[37,18],[[30,7,["type"]],[30,0,["COWORKERS"]]],null],[52,[28,[37,16],null,null],"overlay_search_add_coworker","search_add_coworker"],[52,[28,[37,16],null,null],"overlay_search_add_nonconnection","search_add_nonconnection"]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n                    "]],[12,13]]]]],[1,"\\n"]],[]]]],[]],[[[1,"                  "],[8,[39,21],null,[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[30,0,["highlightedRecipient"]],[30,7],[28,[37,22],[[30,0,["selectedRecipientUrns"]],[30,7,["miniProfile","entityUrn"]]],null],[28,[37,9],[[30,0,["handlePersonTypeaheadResultClick"]],[30,7]],null],[30,0,["preventEventChain"]],[52,[30,0,["isSuggestedList"]],[52,[28,[37,16],null,null],"overlay_quick_add","quick_add"],[52,[28,[37,16],null,null],"overlay_search_add","search_add"]],[28,[37,9],[[30,0,["createPersonResultImpressionEvent"]],[30,7],[30,8]],null]]],null],[1,"\\n"]],[]]]],[]]],[1,"            "],[13],[1,"\\n"]],[7,8]],null],[1,"        "],[13],[1,"\\n"]],[]],[[[41,[30,0,["noResults"]],[[[1,"        "],[10,0],[14,0,"msg-connections-typeahead__no-result p2 display-flex align-items-center"],[12],[1,"\\n          "],[8,[39,24],null,[["@message"],[[52,[30,0,["onlyConnectionResults"]],[28,[37,8],["i18n_no_connection_results","msg-typeahead/components/connections-typeahead"],null],[28,[37,8],["i18n_no_results","msg-typeahead/components/connections-typeahead"],null]]]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[18,15,[[28,[37,26],null,[["addRecipient","commitAddedRecipients"],[[30,0,["addRecipientMiniProfile"]],[30,0,["commitAddedRecipients"]]]]]]],[1,"\\n"],[13]],["&attrs","@a11yText","recipient","@placeholder","@hasInitialFocus","@searchResultContainerClass","recipient","index","@openConversation","@includeNonConnectionResults","@enableGroupMessageRequests","openMessaging","entryPointData","@composeToNonConnection","&default"],false,["did-insert","on","if","ember-set-helper@set","each","-track-array","artdeco-pill@artdeco-pill-dismiss","ember-cli-pemberly-i18n@format-name","t","fn","concat","unless","global-modifiers@focus","global-helpers@or","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","msg-shared@is-in-overlay","artdeco-loader@artdeco-loader","global-helpers@eq","msg-typeahead@conversation-result","global-helpers@and","msg-typeahead@person-result","global-helpers@includes","message-button@entry-point","artdeco-inline-feedback@artdeco-inline-feedback","yield","hash"]]',moduleName:"msg-typeahead/components/connections-typeahead.hbs",isStrictMode:!1}),{KEYCODES:q,MESSAGE_TYPEAHEAD_SEARCH_TYPES:{CONNECTIONS:$,COWORKERS:Y,GROUP_THREADS:Z,PEOPLE:X},MESSAGE_TYPEAHEAD_RESULT_TYPES:{CONVERSATION:Q}}=b.default
let J=(k=(0,l.inject)("global-services@a11y-notification"),w=(0,l.inject)("i18n"),C=(0,l.inject)("msg-data@data-manager"),P=(0,l.inject)("tracking"),T=(0,l.inject)("lix"),O=(0,g.localCopy)("args.prefilledRecipients",[]),M=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",D,this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"msgDataManager",R,this);(0,t.default)(this,"tracking",I,this);(0,t.default)(this,"lix",E,this);(0,n.default)(this,"elementId",(0,s.guidFor)(this));(0,t.default)(this,"activeFetch",x,this);(0,t.default)(this,"highlightedRecipient",A,this);(0,t.default)(this,"possibleRecipients",N,this);(0,t.default)(this,"isSuggestedList",L,this);(0,t.default)(this,"showSuggestedLabel",j,this);(0,t.default)(this,"searchTerm",z,this);(0,t.default)(this,"isInOverlay",U,this);(0,t.default)(this,"isFocused",F,this);(0,t.default)(this,"loadingAnimationTransition",G,this);(0,t.default)(this,"noResults",H,this);(0,t.default)(this,"showDropdownManualOverride",B,this);(0,t.default)(this,"externallyPrefilledRecipients",W,this);(0,t.default)(this,"recipientsWithContext",K,this);(0,n.default)(this,"searchFieldClass","msg-connections-typeahead__search-field");(0,n.default)(this,"CONVERSATION",Q);(0,n.default)(this,"CONNECTIONS",$);(0,n.default)(this,"COWORKERS",Y)}get searchResultsSelector(){return".msg-connections-typeahead__search-results"}get displayPlusIcon(){return this.args.recipientSuggestionEnabled&&0===this.searchTerm.length&&!this.showDropdown&&this.recipients.length>0}get onlyConnectionResults(){return this.recipients.length||!(this.args.includeGroupConversationResults||this.args.includeNonConnectionResults)}get selectedRecipientUrns(){return this.recipients.mapBy("entityUrn")}get recipients(){return this.recipientsWithContext.mapBy("miniProfile")}get showDropdown(){return this.isFocused&&this.searchTerm||this.loadingAnimationTransition||this.showDropdownManualOverride}get showRecipientsList(){return!!this.activeFetch&&(this.possibleRecipients&&!this.activeFetch.isLoading)}get showLoader(){var e
return this.loadingAnimationTransition&&!this.possibleRecipients||this.possibleRecipients&&(null===(e=this.activeFetch)||void 0===e?void 0:e.isLoading)}onContainerFocusIn(e){if(this.isDestroying)return
if(!this.possibleRecipients)return
const t=e.target&&e.target.id,n=this.possibleRecipients.findBy("domId",t)
n&&this._setHighlightedRecipient(n)}onContainerElementInsert(e){this.containerElement=e
this.isInOverlay=!(null==e||!e.closest("#msg-overlay, .from-overlay"))}onInputKeyDown(e){switch(e.keyCode){case q.UP_ARROW:this._moveHighlightedRecipient(-1)
e.preventDefault()
break
case q.DOWN_ARROW:this._moveHighlightedRecipient(1)
e.preventDefault()
break
case q.BACKSPACE:if(e.target.classList.contains(this.searchFieldClass)&&!e.target.value){const e=(0,p.get)(this,"recipientsWithContext.lastObject")
e&&this.actions.removeRecipientFromTypeahead.call(this,e)}break
case q.ENTER:e.target===this.searchFieldElement&&this._handleEnterKey()}}_ensureHighlightedRecipientIsScrolledIntoView(){const e=this._getHighlightedRecipientElement()
if(!e)return
const t=e.offsetTop,n=t+e.offsetHeight,i=this.containerElement.querySelector(this.searchResultsSelector),a=i.offsetHeight,r=i.scrollTop
n>r+a?i.scrollTop=n-a:t<r&&(i.scrollTop=t)}_handleEnterKey(){const e=this._getHighlightedRecipientElement()
!e&&this.args.actionOnTypeaheadEnter&&"function"==typeof this.args.actionOnTypeaheadEnter?this.args.actionOnTypeaheadEnter():this._selectHighlightedRecipient(e)}_selectHighlightedRecipient(e){if(f.default&&e){e.click()
this.highlightedRecipient=null
this.tracking.fireInteractionEvent("search_add_enterkey")}}_getHighlightedRecipientElement(){var e
const t=(0,p.get)(this,"highlightedRecipient.domId")
return t&&(null===(e=this.containerElement)||void 0===e?void 0:e.querySelector(`#${t}`))}_focusSearchField(){this.searchFieldElement.focus()}_moveHighlightedRecipient(e){const{possibleRecipients:t}=this
if(!t||0===t.length)return
const n=this.highlightedRecipient,i=t.indexOf(n),a=(0,p.get)(this,"possibleRecipients.length"),r=n?(i+e+a)%a:0
this._setHighlightedRecipient(t.objectAt(r))}_setHighlightedRecipient(e){this.highlightedRecipient=e
this._ensureHighlightedRecipientIsScrolledIntoView(e)}_sendA11yNotification(e,t){return this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation("components/msg-typeahead@connections-typeahead",e)([t]))}_fetchRecipients(e){const t=[$]
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-forward-remove-non-connections")&&this.args.forwardedEvent)!(0,p.get)(this,"recipients.length")&&this.args.includeGroupConversationResults&&t.push(Z)
else if((0,p.get)(this,"recipients.length"))this.args.enableGroupMessageRequests&&t.push(Y)
else{this.args.includeGroupConversationResults&&t.push(Z)
this.args.includeNonConnectionResults&&t.push(X)
this.args.includeCoworkerResults&&t.push(Y)}this.isSuggestedList=!1
this.showSuggestedLabel=!1
const n=this.msgDataManager.fetchTypeaheadResults(e,t).then((e=>{e.forEach((e=>(0,p.set)(e,"domId",(0,s.guidFor)(e))))
if(!this.isDestroying){this.loadingAnimationTransition=!1
const t=this._filterOutExistingRecipients(e)
if(t.length){this.highlightedRecipient=(0,p.get)(t,"firstObject")
this.possibleRecipients=t
this.isSuggestedList=!1
this.showSuggestedLabel=!1}else{this.possibleRecipients=null
this.noResults=!0}this._sendA11yNotification("i18n_a11y_suggestions_hint_text",{resultsLength:(0,p.get)(t,"length")})}}))
this.activeFetch=(0,v.load)(n)}_filterOutExistingRecipients(e){const t=new Set(this.recipients.mapBy("entityUrn")),n=new Set(this.args.recipientsToFilterOut?this.args.recipientsToFilterOut.mapBy("entityUrn"):[])
return e.filter((e=>!t.has((0,p.get)(e,"entityUrn"))&&!n.has((0,p.get)(e,"entityUrn"))))}_fetchSuggestedRecipients(){let e=[]
e=!this.isSuggestedList?this.recipients.mapBy("entityUrn"):[]
this.loadingAnimationTransition=!0
const t=this.msgDataManager.fetchSuggestedRecipients(!1,e).then((e=>{if(!this.isDestroying){this.loadingAnimationTransition=!1
e.forEach((e=>{(0,p.set)(e,"domId",(0,s.guidFor)(e))}))
const t=this._filterOutExistingRecipients(e)
this.possibleRecipients=t
this.suggestedRecipients=t
this.isSuggestedList=!0
this.showSuggestedLabel=!0
t&&t.length>0&&this._setHighlightedRecipient(t[0])
this._sendA11yNotification("i18n_a11y_suggested_recipients_hint_text")}}))
this.activeFetch=(0,v.load)(t)
return t}addRecipientMiniProfile(e){this._addRecipient({miniProfile:e})}_addRecipient(e){const t=(0,p.get)(e,"contextEntityUrn")
this.recipientsWithContext.addObject({contextEntityUrn:t,miniProfile:e.miniProfile})
this._updateRecipients()
if((0,p.get)(e,"suggestedRecipientProfile")){let t=this.isSuggestedList?"quick_add":"search_add"
this.isInOverlay&&(t=`overlay_${t}`)
this.tracking.fireTrackingPayload("MessagingRecommendationActionEvent",{actionCategory:"SELECT",controlUrn:t,recommendationTrackingId:(0,p.get)(e,"trackingId"),usecase:"COMPOSE_MEMBER_FOR_GROUP_THREAD"})}this._sendA11yNotification("i18n_a11y_added_recipient",{name:e.name})
if(this.args.enableGroupMessageRequests&&t&&1===this.recipientsWithContext.length){var n,i
null===(n=(i=this.args).setComposeContext)||void 0===n||n.call(i,(0,p.get)(e,"entityUrn"),t)}this.searchFieldElement.value=""
this.searchTerm=""
this._focusSearchField();(0,_.mutateDOM)((()=>{this.isDestroying||(this.addedRecipientsContainer.scrollTop=this.addedRecipientsContainer.scrollHeight)}))}_removeRecipient(e,t){this.recipientsWithContext.removeObject(e)
this._updateRecipients()
this._sendA11yNotification("i18n_a11y_removed_recipient",{name:t})
this._focusSearchField()}_updateRecipients(){var e,t
null===(e=(t=this.args).recipientsChanged)||void 0===e||e.call(t,this.recipients,this.recipientsWithContext.filterBy("contextEntityUrn").map((e=>({recipient:(0,y.extractEntityInfoFromUrn)((0,p.get)(e,"miniProfile.entityUrn")).id,contextEntityUrn:e.contextEntityUrn}))))}setFocusToParticipantTextField(){this._focusSearchField()}showSuggestions(){this._focusSearchField()
this.showDropdownManualOverride=!0
this._fetchSuggestedRecipients()}handlePersonTypeaheadResultClick(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
if(t)this._removeRecipient(t,e.name)
else{this.showDropdownManualOverride=!1
this._addRecipient(e)}}removeRecipientFromTypeahead(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
this._removeRecipient(t,e.name)}debounceFetchRecipients(){const e=this.searchTerm
this.searchTerm=this.searchFieldElement.value
!e&&this.searchTerm&&this.tracking.fireInteractionEvent(this.isInOverlay?"overlay_begin_recipient_search":"begin_recipient_search")
if(this.searchTerm){if(!e){this.possibleRecipients=null
this.activeFetch=null}this.loadingAnimationTransition=!0
this.noResults=!1
if(h.default.testing)this._fetchRecipients(this.searchTerm)
else{(0,c.cancel)(this.debounce)
const e=h.default.testing?0:200
this.debounce=(0,d.debounceTask)(this,"_fetchRecipients",this.searchTerm,e)}}}commitAddedRecipients(){this.args.onRecipientsCommit&&this.args.onRecipientsCommit().then((()=>{this.isDestroying||(this.recipientsWithContext=[])}))}preventEventChain(e){e.preventDefault()}createPersonResultImpressionEvent(e,t,n){let{duration:i,visibleTime:a}=n
return(0,p.get)(e,"suggestedRecipientProfile")?{name:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:i,visibleTime:a,usecase:"COMPOSE_MEMBER_FOR_GROUP_THREAD",recommendationTrackingId:(0,p.get)(e,"trackingId"),listPosition:{index:t},recommendedEntityUrn:(0,p.get)(e,"miniProfile.entityUrn")}}}:[]}createConversationResultImpressionPayload(e,t,n){let{duration:i,visibleTime:a}=n
return(0,p.get)(e,"hitInfo.targetUrn")?{name:"MessagingRecommendationImpressionEvent",topic:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:i,usecase:"TYPEAHEAD_GROUP_THREAD",recommendedEntityUrn:(0,p.get)(e,"hitInfo.targetUrn"),listPosition:{index:t},recommendationTrackingId:(0,p.get)(e,"hitInfo.trackingId"),visibleTime:a}}}:[]}},D=(0,i.default)(M.prototype,"a11yNotification",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(M.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(M.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(M.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(M.prototype,"lix",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(M.prototype,"activeFetch",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(M.prototype,"highlightedRecipient",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(M.prototype,"possibleRecipients",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(M.prototype,"isSuggestedList",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(M.prototype,"showSuggestedLabel",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(M.prototype,"searchTerm",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=(0,i.default)(M.prototype,"isInOverlay",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(M.prototype,"isFocused",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(M.prototype,"loadingAnimationTransition",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(M.prototype,"noResults",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(M.prototype,"showDropdownManualOverride",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(M.prototype,"externallyPrefilledRecipients",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(M.prototype,"recipientsWithContext",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.externallyPrefilledRecipients.map((e=>({miniProfile:e,contextEntityUrn:void 0})))}}),(0,i.default)(M.prototype,"onContainerFocusIn",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onContainerFocusIn"),M.prototype),(0,i.default)(M.prototype,"onContainerElementInsert",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onContainerElementInsert"),M.prototype),(0,i.default)(M.prototype,"onInputKeyDown",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"onInputKeyDown"),M.prototype),(0,i.default)(M.prototype,"addRecipientMiniProfile",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"addRecipientMiniProfile"),M.prototype),(0,i.default)(M.prototype,"setFocusToParticipantTextField",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"setFocusToParticipantTextField"),M.prototype),(0,i.default)(M.prototype,"showSuggestions",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"showSuggestions"),M.prototype),(0,i.default)(M.prototype,"handlePersonTypeaheadResultClick",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"handlePersonTypeaheadResultClick"),M.prototype),(0,i.default)(M.prototype,"removeRecipientFromTypeahead",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"removeRecipientFromTypeahead"),M.prototype),(0,i.default)(M.prototype,"debounceFetchRecipients",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"debounceFetchRecipients"),M.prototype),(0,i.default)(M.prototype,"commitAddedRecipients",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"commitAddedRecipients"),M.prototype),(0,i.default)(M.prototype,"preventEventChain",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"preventEventChain"),M.prototype),(0,i.default)(M.prototype,"createPersonResultImpressionEvent",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"createPersonResultImpressionEvent"),M.prototype),(0,i.default)(M.prototype,"createConversationResultImpressionPayload",[p.action],Object.getOwnPropertyDescriptor(M.prototype,"createConversationResultImpressionPayload"),M.prototype),M)
e.default=J;(0,r.setComponentTemplate)(V,J)}))
define("msg-typeahead/components/conversation-result",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/object"],(function(e,t,n,i,a,r,o,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,p,u,m,g
const h=(0,o.createTemplateFactory)({id:"APGF7MLg",block:'[[[1,"\\n"],[11,"button"],[16,0,[29,["display-flex flex-row align-items-center msg-connections-typeahead__search-result\\n    ",[52,[28,[37,1],[[30,1],[30,2]],null],"msg-connections-typeahead__search-result--highlighted"]]]],[24,"tabindex","-1"],[24,"role","option"],[16,1,[30,2,["domId"]]],[16,"aria-selected",[52,[28,[37,1],[[30,2,["domId"]],[30,1,["domId"]]],null],"true","false"]],[24,4,"button"],[4,[38,2],["click",[28,[37,3],[[30,3],[30,2,["conversationId"]]],null]],null],[4,[38,2],["mousedown",[30,4]],null],[4,[38,4],[[30,5]],[["onInteract"],[[30,0,["openConversationRecommendationTrackingPayload"]]]]],[4,[38,5],[[30,6]],[["routeName","currentRoute"],[[28,[37,6],[[53,"outletState"],"render.name"],null],[28,[37,6],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,8],null,[["@participants","@groupChat","@entitySize","@iconSize"],[[52,[30,2,["hitInfo"]],[30,2,["participants"]],[30,0,["conversationParticipantsIncludingSelf"]]],true,3,"small"]],null],[1,"\\n  "],[10,0],[14,0,"msg-connections-typeahead__entity-description display-flex"],[12],[1,"\\n    "],[10,"dl"],[14,0,"display-flex flex-column truncate"],[12],[1,"\\n      "],[10,"dt"],[14,0,"t-14 t-black t-bold truncate"],[12],[1,"\\n        "],[1,[52,[30,2,["text"]],[30,2,["text"]],[28,[37,9],["i18n_conversation_names","msg-typeahead/components/conversation-result"],[["names"],[[28,[37,10],[[30,2,["conversation"]],true],null]]]]]],[1,"\\n      "],[13],[1,"\\n      "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,"\\n        "],[1,[52,[30,2,["subtext"]],[30,2,["subtext"]],[28,[37,9],["i18n_group_message","msg-typeahead/components/conversation-result"],[["count"],[[28,[37,11],[[30,2,["conversation"]]],null]]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@highlightedRecipient","@recipient","@openConversation","@onMouseDown","@openConversationControlName","@impressionEvent"],false,["if","global-helpers@eq","on","fn","ember-cli-pemberly-tracking@track-interaction","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","msg-facepile-grid@facepile-grid","t","msg-shared@participant-names-with-self","msg-shared@get-total-participants-count"]]',moduleName:"msg-typeahead/components/conversation-result.hbs",isStrictMode:!1})
let f=(d=(0,l.inject)("formatter"),p=(0,l.inject)("authentication@authenticated-user"),u=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"formatter",m,this);(0,t.default)(this,"authenticatedUser",g,this)}get conversationParticipantsIncludingSelf(){const e=(0,c.get)(this,"authenticatedUser.miniProfile")
return[...(0,c.get)(this,"args.recipient.participants"),{miniProfile:e,picture:(0,c.get)(e,"picture"),ghostType:"person",fullName:this.formatter.formatName(e,"full")}]}openConversationRecommendationTrackingPayload(){return(0,c.get)(this,"args.recipient.hitInfo")?{name:"MessagingRecommendationActionEvent",topic:"MessagingRecommendationActionEvent",body:{actionCategory:"SELECT",controlUrn:this.args.openConversationControlName,recommendationTrackingId:(0,c.get)(this,"args.recipient.hitInfo.trackingId"),usecase:"TYPEAHEAD_GROUP_THREAD"}}:[]}},m=(0,i.default)(u.prototype,"formatter",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,i.default)(u.prototype,"authenticatedUser",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(u.prototype,"openConversationRecommendationTrackingPayload",[c.action],Object.getOwnPropertyDescriptor(u.prototype,"openConversationRecommendationTrackingPayload"),u.prototype),u)
e.default=f;(0,r.setComponentTemplate)(h,f)}))
define("msg-typeahead/components/person-result",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"3sgT1gw3",block:'[[[11,"button"],[16,0,[29,["display-flex flex-row align-items-center msg-connections-typeahead__search-result\\n    ",[52,[28,[37,1],[[30,1],[30,2]],null],"msg-connections-typeahead__search-result--highlighted"]]]],[24,"tabindex","-1"],[24,"role","option"],[16,1,[30,2,["domId"]]],[16,"aria-selected",[52,[28,[37,1],[[30,2,["domId"]],[30,1,["domId"]]],null],"true","false"]],[24,4,"button"],[4,[38,2],[[30,3]],null],[4,[38,3],[[30,4]],[["routeName","currentRoute"],[[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[4,[38,6],["click",[30,5]],null],[4,[38,6],["mousedown",[30,6]],null],[12],[1,"\\n\\n  "],[8,[39,7],[[24,0,"msg-connections-typeahead__presence-entity"]],[["@indicatorClasses","@miniProfile","@size","@a11yText"],["msg-connections-typeahead__presence-entity-indicator",[30,2,["miniProfile"]],2,[28,[37,8],["i18n_a11y_name_for_photo_of_recipient","msg-typeahead/components/person-result"],[["recipientName"],[[28,[37,9],null,[["firstName","lastName","type"],[[30,2,["miniProfile","firstName"]],[30,2,["miniProfile","lastName"]],"full"]]]]]]]],null],[1,"\\n  "],[10,0],[14,0,"msg-connections-typeahead__entity-description"],[12],[1,"\\n    "],[10,"dl"],[14,0,"display-flex flex-column truncate msg-connections-typeahead__entity-description-list"],[12],[1,"\\n"],[41,[30,2,["hitInfo","text","attributes"]],[[[1,"        "],[10,"dt"],[14,0,"t-14 t-black truncate"],[12],[1,"\\n          "],[1,[28,[35,10],[[30,2,["hitInfo","text"]]],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,"dt"],[14,0,"t-14 t-black t-bold truncate"],[12],[1,"\\n          "],[1,[28,[35,9],null,[["firstName","lastName","type","color"],[[30,2,["miniProfile","firstName"]],[30,2,["miniProfile","lastName"]],"full",true]]]],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"      "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,[30,2,["subtext"]]],[13],[1,"\\n"],[41,[30,2,["contextText"]],[[[1,"        "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,[28,[35,11],[[30,2,["contextText"]]],null]],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[41,[30,7],[[[1,"      "],[10,1],[12],[1,[28,[35,12],null,[["aria-hidden","class","type","size"],["true","msg-connections-typeahead__check-icon","check-icon","large"]]]],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["@highlightedRecipient","@recipient","@interactionControlName","@personReultImpressionEvent","@onClick","@onMouseDown","@isChecked"],false,["if","global-helpers@eq","ember-cli-pemberly-tracking@track-interaction","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","on","presence@entity-with-presence","t","ember-cli-pemberly-i18n@format-name","global-helpers@attributed-text-html","text-view-model@text-view-model","artdeco-icons-web@li-icon"]]',moduleName:"msg-typeahead/components/person-result.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=r}))

//# sourceMappingURL=engine-vendor.map